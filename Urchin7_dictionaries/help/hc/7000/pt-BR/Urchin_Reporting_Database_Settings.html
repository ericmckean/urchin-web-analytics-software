<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Configurações do banco de dados de relatórios do Urchin</strong> <p class="line874">(Revisão: 16 de dezembro de 2008) <p class="line867"><strong>Visão geral</strong> <p class="line874">O Urchin fornece duas opções para gerenciar a escalabilidade e a precisão do banco de dados de relatórios: <p class="line867"><strong>Limite da tabela de banco de dados</strong> <p class="line862">Essa opção permite manter grandes quantidades de dados de site dentro de limites razoáveis. Use essa opção para limitar o número de registros em uma única tabela de banco de dados de relatórios do Urchin. A opção padrão é apropriada para a maior parte das instalações. Se, para um mês, o número de registros de qualquer tabela ultrapassar esse limite, os registros além do limite serão agrupados no último registro (chamado <em>Outro</em>). Assim, quanto maior o tamanho da tabela, mais precisos os dados do relatório. <p class="line862">Se um relatório do Urchin mostrar uma grande porcentagem de entradas <strong>Outro</strong>, aumente o limite da tabela de banco de dados para aumentar a precisão. <p class="line867"><strong>Meta de uso da memória</strong> <p class="line874">Para limitar a quantidade de memória que pode ser alocada durante o processamento de registros, o Urchin fornece essa opção para especificar o limite máximo do tamanho do banco de dados de relatórios na memória. Para sites maiores, um espaço maior de memória pode melhorar o desempenho, pois haverá menos troca de páginas. Embora a configuração padrão seja conservadora, você deve definir um volume maior se o sistema tiver memória física suficiente disponível. <p class="line867"><strong>Configurações experimentais</strong> <p class="line874">Atualmente, o Urchin suporta os seguintes valores máximos para configurações do banco de dados de relatórios: <p class="line862">Limite da tabela de banco de dados:    &lt;= 500.000 registros <p class="line862">Meta de uso da memória:    &lt;= 1024 MB <p class="line862">A partir da versão 6.5, o Urchin pode suportar valores maiores para essas configurações, que só devem ser usadas por<span class="u"><strong>usuários experientes do Urchin</strong></span>. Esses valores maiores não estarão visíveis na interface de administração e precisarão ser configurados pelo banco de dados de configuração. Para o Urchin 6.5, estes são os valores máximos para configurações estendidas do banco de dados de relatórios. <p class="line862">Limite da tabela de banco de dados:    &lt;= 2.000.000 registros <p class="line862">Meta de uso da memória:    &lt;= 2 GB <strong> </strong> <p class="line867"><strong>Diretrizes de configurações experimentais</strong> <ul><li style="list-style-type:none"><p class="line862">Como essas configurações estendidas são experimentais e podem causar erros <strong>sem memória</strong> em alguns sistemas, as seguintes informações e diretrizes devem ser consideradas antes de usá-las. </li><li>Em geral, cada aplicativo de 32 bits tem 4 gigabytes (GB) de espaço de endereço virtual, que é divido entre o espaço de endereço do usuário e o espaço de endereço kernel. O processo do usuário só pode alocar memória no espaço de endereço do usuário. </li><li><p class="line891"><em><strong>Plataforma Windows:</em></strong> 2 GB estão disponíveis para o aplicativo do usuário e os outros 2 GB estão disponíveis para o kernel. Embora o sistema operacional windows permita ampliar o espaço do usuário para até 3 GB através de [ajuste de <a class="http" href="http://msdn.microsoft.com/en-us/library/bb613473(VS.85">http://msdn.microsoft.com/en-us/library/bb613473(VS.85</a>).aspx de 4 GB], os processos do Urchin ainda não presumem esse cenário extremamente improvável e estão sempre compilados/vinculados para limites de 2 GB. Desse modo, no sistema operacional windows OS, o usuário não deve definir um limite da tabela do banco de dados maior do que <span class="u"><strong>500.000</strong></span> e a meta de uso da memória maior do que <span class="u"><strong>1 GB</strong></span>. <ul><li><p class="line862">Para obter o máximo de<span class="u"><em>desempenho</em></span>, defina: <ul><li><p class="line862">Meta de uso da memória: <span class="u"><strong>1024 MB</strong></span> </li><li><p class="line862">Limites de tabela do banco de dados: <span class="u"><strong>500.000</strong></span> linhas de tabela de banco de dados </li></ul></li><li><p class="line862">Para obter o máximo de<em><span class="u">precisão</span></em>, defina: <ul><li><p class="line862">Meta de uso da memória: <span class="u"><strong>256</strong></span> MB </li><li><p class="line862">Limites de tabela do banco de dados: <span class="u"><strong>1.000.000</strong></span> linhas de tabela de banco de dados </li></ul></li></ul></li><li><p class="line891"><em><strong>Plataformas Unix</strong><strong></em></strong> 3 GB estão disponíveis para o aplicativo do usuário e 1 GB restante para o kernel. Desse modo, na plataforma UNIX, o usuário não deve definir um limite da tabela do banco de dados maior do que <span class="u"><strong>500.000</strong></span> e a meta de uso da memória maior do que <span class="u"><strong>2 GB</strong></span>. <ul><li><p class="line862">Para obter o máximo de<span class="u"><em>desempenho</em></span>, defina: <ul><li><p class="line862">Meta de uso da memória: <span class="u"><strong>2048</strong></span> MB </li><li><p class="line862">Limites de tabela do banco de dados: <strong><span class="u">500.000</span></strong> linhas de tabela de banco de dados </li></ul></li><li><p class="line862">Para obter o máximo de<em><span class="u">precisão</span></em>, defina: <ul><li><p class="line862">Meta de uso da memória: <span class="u"><strong>1024</strong></span> MB </li><li><p class="line862">Limites de tabela do banco de dados: <strong><span class="u">2.000.000</span></strong> linhas de tabela de banco de dados </li></ul></li></ul></li></ul><p class="line867"><strong>Configurando  </strong><strong>limite 'estendido da tabela de banco de dados</strong><strong>' </strong> <p class="line874">Como o valor 'Limite da tabela de banco de dados' normal, esses valores estendidos podem ser configurados para perfis individuais e também globalmente. A seguinte consulta definirá o limite da tabela de banco de dados como 1.000.000 de registros para um perfil com ID '1'. <p class="line867"><pre>UPDATE uprofiles SET uipr_db_table_limit=1000000 WHERE uspr_id=1;
</pre><p class="line874">A seguinte consulta definirá o limite da tabela de banco de dados global como 1.000.000 de registros. Isso será aplicado a todos os perfis cujo valor do campo uipr_db_table_limit é 0. <p class="line867"><pre>UPDATE uglobals SET uigl_db_table_limit=1000000 WHERE ucgl_name='Global Settings';
</pre><p class="line867"><strong>Configurando 'meta estendida de uso da memória</strong><strong>' </strong> <p class="line874">A meta de uso da memória só pode ser definida globalmente. <p class="line874">Ela é automaticamente aplicada aos perfis quando o uso da memória do banco de dados é definido como 'Limitar para sistema de cache' (ou o campo 'ubpr_limit_db_cache_size' do banco de dados é definido como 1). <p class="line874">A seguinte consulta definirá a meta de uso da memória global como 2 GB. O campo do banco de dados considera o número em 'megabytes' (512 na verdade será 512 MB). <p class="line867"><pre>UPDATE uglobals SET uigl_db_cache_size=2048 WHERE ucgl_name='Global Settings';
</pre></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>