<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Como processar registros do Apache com vários hosts virtuais</strong> <p class="line867"><strong>Introdução</strong> <p class="line874">As organizações podem ter servidores da web Apache com vários hosts virtuais, nos quais o registro para todos os sites hospedados é feito em um único arquivo de registro.Embora seja mais eficiente para o Urchin processar registros individuais para cada host virtual, é possível configurar Perfis para cada host virtual que faz a leitura do registro único combinado. <p class="line867"><strong>Procedimento</strong> <p class="line867"><strong>Etapa 1:</strong> verifique se o seu servidor da web Apache está configurado para criar os registros no formato correto para o Urchin.Em particular, convém garantir que os campos a seguir estejam sendo registrados, na ordem mostrada a seguir. <ol type="1"><li>Host remoto[%h] </li><li>Host solicitado[%v] </li><li>Nome do usuário [%u] </li><li>Data e hora (NCSA) [%t] </li><li>Solicitação(NCSA) [%r] </li><li><p class="line862">Status [%&gt;s] </li><li>Bytes [%b] </li><li>URL de referência [%{Referer}i] </li><li>User-Agent [%{User-Agent}i] </li><li>Cookie (se você estiver registrando cookies; por exemplo, para o UTM) [%{Cookie}i] </li></ol><p class="line867"><strong>Etapa 2:</strong> dentro da interface de Administração do Urchin, navegue até "Configuração -&gt; Perfis do Urchin -&gt; Gerenciador de registro" e adicione uma Origem do registro que aponte para o seu arquivo de registro único.Escolha "auto" como Formato do registro. <p class="line867"><strong>Etapa 3:</strong> em "Configuração -&gt; Perfis do Urchin", crie um novo Perfil para cada host virtual.No assistente "Adicionar perfil", escolha "Adicionar origem de registro existente" quando estiver adicionando a Origem do registro para cada Perfil e selecione a Origem do registro configurada anteriormente. <p class="line867"><strong>Etapa 4:</strong> agora, acesse "Gerenciamento de filtros" e clique no botão "Adicionar" para adicionar um novo filtro.Na tela "Assistente Filtro:Configurações", selecione "Incluir SOMENTE padrão" como Tipo de filtro, "cs_host(RAW)" como o Campo de filtragem e coloque o nome do host virtual no campo "Termo de filtragem".Em seguida, atribua esse filtro ao perfil correspondente. <p class="line867"><strong>Etapa 5:</strong> repita as etapas 3 e 4 para cada host virtual. <p class="line867"><strong>Considerações</strong> <p class="line874">Embora esse procedimento seja conveniente para possibilitar a geração de relatórios a vários hosts virtuais, ele requer que o Urchin reprocesse o arquivo de registro inteiro para cada host virtual.No caso de um arquivo de registro muito grande, isso pode causar uma sobrecarga significativa, afetando o desempenho do Urchin.Convém criar um arquivo de registro separado para cada host virtual. <p class="line874">Embora esse procedimento esteja especificamente direcionado ao Apache, o processo é semelhante para outros formatos de registro de servidores da web que registram os mesmos campos do tipo NCSA. <p class="line874">No momento, não é possível para o Urchin detectar automaticamente novos hosts virtuais e configurar automaticamente novos Perfis para eles.Todos os Perfis devem ser configurados explicitamente. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>