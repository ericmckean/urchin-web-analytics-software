<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Formatos de registro personalizados</strong> <p class="line867"><strong>Introdução</strong> <p class="line874">O Urchin pode processar praticamente qualquer formato de arquivo de registro.Ao fornecer ao Urchin as informações necessárias sobre o formato de registro, o Urchin fará a leitura e a análise dos dados brutos de acordo com a sua configuração.Este artigo descreve um método passo-a-passo para criar formatos de registro personalizados.Depois de criado, um formato personalizado pode ser selecionado na Interface de administração como o formato para qualquer arquivo de registro. <p class="line874">É necessário observar que certos dados de registro são necessários para se criar determinados relatórios.Você precisará se certificar de que o seu registro contenha o número mínimo de campos obrigatórios para ser processado pelo Urchin.Em caso de dúvidas, consulte o documento Arquivos de registro - Como efetuar registros - Outros servidores da web, na seção Administração do Urchin do Centro de documentação. <p class="line867"><strong>Como criar formatos personalizados</strong> <p class="line874">Um formato de registro personalizado é gerado por meio da criação de um arquivo de especificação de formato na pasta <p class="line867"><pre>   urchin install dir]/lib/custom/logformats/
</pre><p class="line874">.É fornecido um arquivo de amostra denominado 'custom.lf'.Vários arquivos personalizados podem ser criados.Cada um deles precisa da extensão '.lf' para ser reconhecido pelo Urchin.Os formatos de registro padrão embutidos, como apache, w3c, netscape, etc., estão localizados em <p class="line867"><pre>   urchin install dir]/lib/reporting/logformats/
</pre><p class="line874">Em cada um dos diretórios acima, existe uma lista de campos disponíveis no arquivo fieldlist.txt.A pasta "custom" contém a lista de campos personalizados, enquanto a pasta "reporting" contém a lista de campos padrão.Formatos de registro personalizados podem fazer referência a campos em qualquer uma das listas, usando para isso os números de ID de campo.Depois de criado, um formato personalizado fica disponível para seleção na Interface de administração.Veja, a seguir, as etapas básicas para a criação de um formato personalizado: <p class="line867"><strong>Etapa 1:copie o exemplo.</strong> Na pasta 'lib/custom/logformats' da distribuição do Urchin, faça uma cópia do arquivo 'custom. lf'.O novo nome de arquivo não deve usar espaços e requer a extensão '. 1f'. <p class="line867"><strong>Etapa 2:defina as posições principais.</strong> Edite o arquivo criado na etapa acima.Esse arquivo contém várias informações úteis sobre cada variável.A primeira etapa é definir a variável "PrimaryPositions".Essa lista separada por vírgulas identifica cada campo (por número de ID) no formato de registro, bem como a sua posição relativa.Use os arquivos fieldlist.txt nos dois diretórios mencionados acima para determinar os IDs de campo que serão usados.Se você tiver formatos de data e hora personalizados que são diferentes dos formatos do Apache e do IIS, use os campos 16 e 17, respectivamente.Se a data e a hora estiverem juntas em um campo, use apenas o campo 16. <p class="line867"><strong>Etapa 3:verifique o separador de campos.</strong> Verifique a variável "FieldSeparator1" e defina-a como o separador entre os seus campos.Use \s para espaço e \t para tabulação. <p class="line867"><strong>Etapa 4:o campo de status HTTP está disponível?</strong> Se o campo de status HTTP estiver disponível, deixe a variável "StatusRequired" definida como YES.Isso irá separar apropriadamente os hits válidos dos hits com erro.Se não houver um status no registro, defina a variável como NO, para que todos os hits sejam considerados válidos. <p class="line867"><strong>Etapa 5:você está usando um formato de Data/hora personalizado?</strong> Em caso positivo, edite "CustomDateFormat" para o campo 16 e "CustomTimeFormat" para o campo 17.O formato é especificado com o uso das variáveis % definidas em <a href="Time_Formats.html">Formatos de data/hora personalizado</a>. <p class="line867"><strong>Etapa 6:verifique as outras variáveis.</strong> A maioria das outras variáveis estará OK para a maior parte dos formatos de registro personalizados. Mesmo assim, confira os comentários fornecidos no arquivo sobre cada variável, para verificar se a variável se aplica à sua situação. <p class="line867"><strong>Etapa 7:você possui campos calculados personalizados?</strong> Além do formato, você pode especificar campos calculados personalizados no arquivo de especificações.Um exemplo com comentários é fornecido no final do arquivo.O campo calculado personalizado funciona da mesma maneira que o Filtro avançado na seção de filtragem, exceto pelo fato de que campos calculados personalizados são processados em primeiro lugar.Consulte o artigo sobre campos calculados personalizados para obter mais informações. <p class="line874">Salve o arquivo. Depois disso, você estará pronto para atribuí-lo como o formato para um arquivo de registro na Interface administrativa.Ele aparecerá automaticamente como uma das opções de formato no menu suspenso de formatos de registro. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>