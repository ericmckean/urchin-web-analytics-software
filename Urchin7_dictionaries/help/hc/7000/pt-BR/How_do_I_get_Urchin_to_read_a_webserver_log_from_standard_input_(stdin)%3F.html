<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong> Como faço para o Urchin ler um registro de servidor da web a partir de uma entrada padrão (stdin)?</strong> <p class="line874">Em certas circunstâncias, pode ser preferível fazer com que o mecanismo de processamento de registros do Urchin possa ler dados de registro do servidor da web diretamente da entrada padrão (stdin), em vez de fazer a leitura de um arquivo real. O Urchin oferece suporte para a configuração de uma Origem de registro que faça leituras de uma entrada padrão e não de um arquivo real. <p class="line874">Para configurar o Urchin de modo a fazer isso, configure primeiro uma nova Origem de registro denominada "stdin" no Gerenciador de origens de registro, usando os seguintes parâmetros: <p class="line874">Configurações do registro <ul><li>Localização do arquivo de registro:local </li><li>Caminho do arquivo de registro:-  </li><li>Formato do registro:auto </li></ul><p class="line874">Configurações avançadas <ul><li>Destino do registro:Não toque </li><li>Token de consulta:?  </li><li>Origem do URI em letras minúsculas:desativado </li></ul><p class="line867"><strong>OBSERVAÇÃO:</strong> é muito importante que o "Caminho do arquivo de registro" seja definido como um caractere de traço único "-" (sem as aspas). <p class="line862">Agora, para qualquer perfil cuja leitura você deseje efetuar a partir de "stdin", basta escolher sua nova origem de registro "stdin" na tela de configuração "Perfil -&gt; Origem do registro". <p class="line867"><strong>Observação importante:</strong> não é possível executar perfis do Urchin que estejam configurados com uma origem de registro "stdin" para execução via Agendador do Urchin, já que este não é capaz de associar corretamente o fluxo de entrada de registro.A única maneira de processar registros para um perfil com uma origem de registro "stdin" é executar o Urchin manualmente.Como exemplo bastante simples, veja como é possível chamar o Urchin: <ol type="1"><li>Abra uma janela de shell de comando no sistema Urchin. </li><li>Mude para o diretório "bin" da distribuição do Urchin. </li><li><p class="line862">[Sistemas UNIX] Execute o urchin com "./urchin -p myprofile &lt; /path/to/webserver.log". <ul><li style="list-style-type:none"><p class="line862">[Sistemas Windows] Execute o urchin com "urchin -p myprofile &lt; C:\path\to\webserver.log" </li></ul></li></ol><p class="line874">O uso de "stdin" como origem do registro proporciona uma grande flexibilidade, uma vez que é possível efetuar facilmente uma parte do pré-processamento de um registro antes que este seja lido pelo Urchin. <p class="line867"><strong>Exemplos adicionais</strong> <p class="line874">Extraia hits para um único host virtual a partir de um registro formado por hits de vários hosts virtuais diferentes e alimente os resultados no Urchin: <pre>grep " www.meudominio.com.br"/path/to/alldomains.log | urchin -p mydomain.com 
</pre><p class="line874">Extraia hits brutos do servidor da web a partir de um banco de dados relacional, usando um determinado tipo de script SQL incorporado e alimente os resultados no Urchin para processamento. <pre>sql-extract --date 20040302 --domain mydomain.com | urchin -p mydomain.com
</pre></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>