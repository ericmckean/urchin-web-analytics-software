<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Guia de instalação do Urchin 6 (Windows)</strong> <p class="line867"><em>Este artigo foi escrito por</em> <a href="EpikOne.html">EpikOne</a><em>, um Consultor autorizado do software Urchin </em> <p class="line867"><strong>Antes de começar ― Observação importante para usuários do Urchin 6.500</strong> <p class="line874">Diversos erros do Urchin 6.501 foram corrigidos no programador de CPC (cost per click ou custo por clique). Se estiver fazendo a atualização do Urchin 6.500 para o Urchin 6.602, os dados de CPC processados poderão estar incorretos ou incompletos, produzindo resultados incorretos nos relatórios do Urchin. Para obter os dados corretos do Google Adwords, (a) instale o Urchin 6.602 em um novo local ou (b) exclua os dados de CPC antigos, se quiser instalá-lo em uma instância existente do 6.500. Caso opte pela segunda maneira, exclua todo o conteúdo dos seguintes diretórios: <p class="line867"><pre>&lt;path_to_urchin_6500_installation&gt;\data\cpc\...
&lt;path_to_urchin_6500_installation&gt;\data\history\cpc\...
</pre><p class="line874">Nenhuma ação será necessária se estiver fazendo atualização do Urchin 6.600, 6.501 ou do Urchin 6.402 e versões anteriores. <p class="line867"><strong>Visão geral das etapas de instalação</strong> <ul><li>Instale o servidor de banco de dados desejado no sistema do Urchin ou adicione o banco de dados do Urchin's a um servidor existente. Os mecanismos de banco de dados compatíveis atualmente são: <ul><li>MySQL 5.0.3 ou posterior (Observação: A partir do Urchin 6.6, o MySQL 4.x.x não terá mais suporte) </li><li>PostgreSQL 8.2.5 ou posterior </li></ul></li><li>Crie o banco de dados e o usuário do Urchin no servidor de banco de dados e conceda permissões de acesso </li><li>Descompacte a distribuição do Urchin em uma pasta temporária </li><li>Execute o instalador MSI </li><li>Licencie a instalação do Urchin </li></ul><p class="line867"><strong>Opção 1: usar banco de dados MySQL existente com o Urchin</strong> <ul><li><p class="line862">Se ainda não tem um servidor MySQL configurado em seu sistema, é possível obter uma distribuição em <a class="http" href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a>. O pacote Windows Essentials contém todos os componentes necessários para o uso do Urchin. </li><li>Instale o servidor MySQL de acordo com as instruções do site MySQL. </li><li>Verifique se você sabe o login de administrador de banco de dados do MySQL (por exemplo, raiz) e senha. </li><li>Escolha o nome do banco de dados, a senha e o usuário locais do MySQL que você usará com o Urchin. Salve essas informações, pois você precisará delas mais tarde, durante a instalação do Urchin. O exemplo a seguir cria um banco de dados chamado urchin e um nome de usuário MySQL urchin com a senha urchinpassword (porém, você vai, obviamente, escolher sua própria senha). </li><li><p class="line862">Inicie o Cliente de linha de comando MySQL usando “Iniciar” -&gt; “Programas” -&gt; “MySQL” -&gt; “MySQL Server” -&gt; “Cliente de linha de comando MySQL”. </li><li>Na janela “Cliente da linha de comando MySQL”, crie o banco de dados Urchin, o usuário e as permissões com os seguintes comandos: </li></ul><p class="line867"><pre>mysql&gt; create database urchin character set utf8;
mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY
'urchinpassword';
</pre><p class="line867"><strong>Opção 2: usar banco de dados PostgreSQL existente com o Urchin</strong> <ul><li><p class="line862">Se você ainda não tem um servidor PostgreSQL configurado em seu sistema, é possível obter uma distribuição em <a class="http" href="http://www.postgresql.org">http://www.postgresql.org</a>. </li><li>Instale o servidor PostgreSQL de acordo com as instruções do site PostgreSQL. </li><li>Verifique se você sabe o login de administrador de banco de dados do PostgreSQL (por exemplo, postgres) e senha. </li><li>Escolha o nome do banco de dados, a senha e o usuário locais do PostgreSQL que você usará com o Urchin. Salve essas informações, pois você precisará delas mais tarde, durante a instalação do Urchin. O exemplo a seguir cria um banco de dados chamado urchin e um nome de usuário PostgreSQL urchin com a senha urchinpass (porém, você vai, obviamente, escolher sua própria senha). </li><li><p class="line862">Inicie o Cliente de linha de comando PostgreSQL usando “Iniciar” -&gt; “Programas” -&gt; “PostgreSQL 8.2” -&gt; “psql” para 'postgres'. </li><li>Na janela “Cliente da linha de comando PostgreSQL”, crie o banco de dados Urchin, o usuário e as permissões com os seguintes comandos: </li></ul><p class="line867"><pre>postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
postgres=# CREATE USER urchin WITH PASSWORD 'urchinpass';
postgres=# GRANT ALL ON DATABASE urchin TO urchin;
postgres=# \connect urchin;
postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>Opção 3: usar o servidor PostgreSQL acompanhado com o Urchin</strong> <ul><li>O instalador Urchin 6.602 vem com o servidor PostgreSQL acompanhado como uma opção durante a instalação do Urchin. </li><li><p class="line862">Para usar esta opção, o instalador Urchin deverá ser executado com privilégios de administrador. O instalador solicitará o número da porta e a senha do usuário "postgres". <strong>Observação:</strong> Se o usuário "postgres" já existir no sistema, a senha existente precisará ser fornecida. Se o usuário "postgres" não existir no sistema, será criado com a senha fornecida. </li><li>As limitações a seguir se aplicam ao servidor PostgreSQL acompanhado: <ul><li>Ele não deverá ser instalado no modo de atualização. </li><li>Privilégios de administrador são obrigatórios para instalação. </li></ul></li></ul><p class="line867"><strong>Instalação do Urchin</strong> <ul><li>Descompacte o arquivo ZIP de distribuição do Urchin em uma pasta temporária. </li><li><p class="line862">Caso queira instalar um servidor PostgreSQL acompanhado, verifique se você já não tem um servidor PostgreSQL no sistema. Para instalar, selecione a opção "Instalar PostgreSQL" e forneça detalhes do servidor PostgreSQL, por exemplo, número da porta e usuário e senha do "postgres". <strong>Observação:</strong> Consulte <a class="http" href="http://www.postgresql.org">http://www.postgresql.org</a> se tiver problemas ao instalar o servidor PostgreSQL acompanhado. </li><li>Se quiser usar um banco de dados existente, verifique se você tem o nome do banco de dados do Urchin e o usuário e a senha do MySQL ou do PostgreSQL que selecionou acima. </li><li>O Urchin 6 permite apenas uma instância do Urchin 6 em uma máquina (apenas Windows). Se houver uma versão existente do Urchin instalada na máquina, apenas uma atualização será permitida. (regressão não é permitida). </li><li>Para realizar uma 'Nova' instalação, remova a versão existente do Urchin 6 da máquina alvo. Para remover o Urchin, siga estas etapas: <ul><li><p class="line862">Iniciar -&gt; Programas -&gt; Urchin 6 -&gt; Desativar serviços do Urchin </li><li><p class="line862">Iniciar -&gt; Configurações -&gt; Painel de controle -&gt; Adicionar/remover programas </li><li>Clique em "Software Urchin do Google" e selecione Remover </li><li>Depois que o Urchin tiver sido removido, renomeie a pasta de instalação do urchin (por exemplo, de C:\Program Files\Urchin6 para Urchin6-OLD). </li></ul></li><li>O Urchin 6.602 só pode ser usado para a atualização de algumas versões anteriores do Urchin 6. As seguintes versões podem ser atualizadas: <ul><li>Urchin 6.6 - Service Pack 1      : Versão 6.601 </li><li>Urchin 6.6- Versão em inglês       : Versão 6.600 </li><li>Urchin 6.5 - Service Pack 2            :   Versão 6.501 </li><li>Urchin 6.5                             :   Versão 6.500 (veja observação importante acima) </li><li>Urchin 6 - Service Pack 1         :   Versão 6.402 </li><li>Urchin 6 - Versão internacional:   Versão 6.401 </li><li>Urchin 6- Versão em inglês         :   Versão 6.400 </li></ul></li><li>Para fazer atualizações, não é necessário parar/desinstalar a instância existente do Urchin 6. Primeiramente, o instalador do Urchin 6.602 procura e desinstala qualquer instalação existente do Urchin 6. Em seguida, ele instala os arquivos e as configurações do Urchin 6.602. </li><li>Para iniciar a instalação do Urchin 6.602, clique duas vezes no arquivo urchin6602_windows_installer.msi e siga as instruções interativas. </li><li><p class="line891"><strong>Observação:</strong> Caso tenha uma versão anterior do Urchin 6 instalada e queira preservar sua configuração, verifique se a opção "Recriar tabelas de bancos de dados específicas do Urchin EXISTENTES (se existirem)" não está marcada. Nesse caso, o Urchin manterá a configuração existente intacta, mas poderá criar 'tabelas adicionais' ou 'colunas nas tabelas existentes'. </li><li>Agora, você tem uma versão em execução do Urchin em seu sistema. Para finalizar a configuração, direcione seu navegador da web preferido para este URL: </li></ul><p class="line867"><pre>http://yourserver:&lt;port&gt;
</pre><p class="line862">em que &lt;port&gt; é a porta da rede que você escolheu durante a instalação (o padrão é 9999). <ul><li>Caso queria restaurar dados de relatório de seu perfil de uma versão antiga do Urchin 6, copie o histórico e a pasta de relatórios de C:\Program Files\Urchin6-OLD\data para C:\Program Files\Urchin6. </li><li>Clique no link Obter licença de demonstração e siga as etapas de licenciamento para ativar o Urchin e realizar as etapas de configuração iniciais. </li></ul><p class="line867"><strong>Configuração de acompanhamento</strong> <p class="line874">Depois que o Urchin estiver instalado, pode haver etapas adicionais obrigatórias para configurar o acompanhamento de website, dependendo de seu caso de uso. <p class="line867"><strong>Caso 1: uso do Urchin com Acompanhamento de IP+User-Agent</strong> <p class="line874">Nenhuma configuração adicional é necessária. Ao adicionar perfis ao Urchin, especifique o IP+User-Agent como Método de acompanhamento de visitantes. <p class="line867"><strong>Caso 2: uso do Urchin com Acompanhamento de UTM</strong> <p class="line874">Para usar o Urchin com o acompanhamento de UTM, é necessário instalar uma pequena parte do código de acompanhamento do javascript nas páginas de seu website. Siga estas etapas: <ul><li><p class="line862">Copie os arquivos urchin.js e <tt class="backtick">__</tt>utm.gif do diretório util\utm da distribuição do  Urchin para a raiz do documento de seu website (por exemplo, o diretório de nível superior de seu conteúdo) </li><li>Em cada página de seu website, coloque o seguinte código de acompanhamento logo depois de qualquer tag META na seção HEAD: </li></ul><p class="line867"><pre>&lt;script src="/urchin.js" type="text/javascript"&gt;
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  _userv=0;
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Ao adicionar perfis ao Urchin, certifique-se de especificar o Monitor de tráfego do Urchin (UTM) como Método de acompanhamento de visitantes. </li></ul><p class="line867"><strong>Caso 3: uso do Urchin concomitantemente com o Google Analytics</strong> <p class="line874">Os novos recursos de acompanhamento no código de acompanhamento do Google Analytics "ga.js" não são compatíveis com a versão anterior do Urchin 6.  Caso queira acompanhar seu website com os softwares Google Analytics e Urchin, recomendamos usar o código de acompanhamento urchin.js-based para obter melhores resultados. Se escolher usar o ga.js, você não poderá usar os novos recursos de acompanhamento do ga.js. <p class="line874">Para usar o Urchin com um website que já esteja sendo acompanhado com o Google Analytics, basta fazer uma pequena modificação em seu código de acompanhamento do Google Analytics. Siga estas etapas: <ul><li><p class="line862">Copie apenas o arquivo <tt class="backtick">__</tt>utm.gif do diretório util\utm da distribuição do  Urchin para a raiz do documento de seu website (por exemplo, o diretório de nível superior de seu conteúdo). </li><li><p class="line862">Adicione a linha <tt>_userv=2;</tt> (como mostrado abaixo) ao código de acompanhamento existente nas páginas de seu website. Não modifique nenhuma parte do código de acompanhamento existente. </li></ul><p class="line867"><pre>&lt;script src="http://www.google-analytics.com/urchin.js"
type="text/javascript"&gt;
&lt;script type="text/javascript"&gt;
  _userv=2;
  _uacct="UA-XXXXXXX-Y";
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Ao adicionar perfis ao Urchin, certifique-se de especificar o Monitor de tráfego do Urchin (UTM) como Método de acompanhamento de visitantes. </li></ul><p class="line867"><strong>Etapas adicionais de instalação para Windows Vista e Server 2008</strong> <p class="line874">Além das versões já compatíveis de Windows (2000, XP e Server 2003), o Urchin 6.6+ também é compatível com Windows Vista e Server 2008. Alguns recursos de segurança nessas versões mais novas de Windows afetam a execução do Urchin. A explicação segue abaixo. <p class="line867"><strong>UAC (user access control ou controle de acesso do usuário) - Problema</strong> <p class="line862">O Windows 2008 contém um novo recurso de segurança chamado User Access Control (UAC), para obter detalhes, consulte <a class="http" href="http://technet.microsoft.com/en-us/library/cc709691.aspx">http://technet.microsoft.com/en-us/library/cc709691.aspx</a>. <p class="line874">Os problemas conhecidos quando o UAC está ativado são: <ol type="1"><li><p class="line862">  . Se o UAC estiver ativado, o aplicativo não poderá ser gravado corretamente na pasta “Arquivos de programa”. Encontre mais detalhes aqui: <a class="http" href="http://msdn.microsoft.com/en-us/library/aa905330.aspx">http://msdn.microsoft.com/en-us/library/aa905330.aspx</a> </li><li><p class="line862">  . Executáveis do Urchin’s, por padrão, não podem ser executados por um prompt de comando. Você pode usar o prompt de comando como administrador ou definir as propriedades do executável desta maneira: Clique com o botão direito e selecione “Propriedades” -&gt; “Compatibilidade” -&gt; “Executar este programa como administrador” -&gt; “OK”. Os serviços de Windows do Urchin operam como esperado sem a necessidade de quaisquer esforços adicionais. </li></ol><p class="line867"><strong>UAC - Solução</strong> <ol type="1"><li>Desative o UAC e configure o Urchin onde quiser. Execute o Urchin usando binários ou serviços Windows. </li><li>Se o UAC estiver ativado, NÃO instale o Urchin na pasta Arquivos de programa. Instale-o, por exemplo, no diretório Usuários. Modifique as propriedades para executar binários no modo de administrador (como descrito em 2, acima) ou use os serviços do Windows em nenhuma mudança. </li></ol></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>