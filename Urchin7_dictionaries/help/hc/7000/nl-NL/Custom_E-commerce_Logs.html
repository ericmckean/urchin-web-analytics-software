<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Aangepaste E-commerce-logbestanden</strong> <p class="line867"><strong>Overzicht</strong> <p class="line862">Veel winkelwagentjes bieden de mogelijkheid om waardevolle informatie over aankopen vast te leggen en te registreren in andere indelingen dan ELF2. Deze informatie kan daarom niet automatisch worden verwerkt door Urchin. In dit artikel wordt uitgelegd hoe u een aangepaste logbestandsindeling kunt maken voor uw E-commerce-logbestand als u uw winkelwagentje niet zodanig kunt wijzigen dat deze de ELF2-indeling kan genereren. Voordat u verder gaat, raden we u aan <a href="Custom_Log_Formats.html">Aangepaste logbestandsindelingen</a> te lezen, waarin het maken van aangepaste logbestanden in detail wordt beschreven. <p class="line867"><strong>Typen E-commerce-logbestandsindelingen</strong> <p class="line874">Winkelwagentjes kunnen informatie over aankopen en over de aangeschafte items registreren in een indeling met één regel of met meerdere regels. In de indeling met één regel bevat elke regel alle informatie die nodig is om een transactie en de aangeschafte items volledig te beschrijven en hebben alle regels dezelfde structuur. In indelingen met meerdere regels worden meerdere regels gebruikt om een aankoop te beschrijven. Eén regel wordt gebruikt voor de transacties en een andere regel voor de items die zijn aangeschaft. ELF2-logbestanden hebben een indeling met meerdere regels. U moet uw E-commerce-logbestanden controleren om te bepalen of de gegevens een indeling met één regel of met meerdere regels hebben. Dit is namelijk van invloed op de manier waarop u uw aangepaste logbestandsindeling moet instellen. Volg de onderstaande instructies, afhankelijk van uw type logbestandsindeling. <p class="line867"><strong>Algemene vereisten voor E-commerce-logboekregistratie</strong> <p class="line874">Ongeacht de indeling van de logbestandsitems die uw winkelwagentje produceert, moet elk item de datum en tijd en ten minste een van de volgende velden bevatten om informatie over bezoekerssamenhang te leveren: <ul><li>Externe host of IP-adres (voor de bezoekersmethode IP-Only of IP-Useragent) </li><li>Useragent (voor de bezoekersmethode IP-Useragent) </li><li>Cookies (voor de bezoekersmethode UTM of SID) </li><li>Sessie-id (voor de bezoekersmethode SID) </li></ul><p class="line874">Als geen van de bovenstaande velden aanwezig is, genereert Urchin geen zinvolle analyse van uw opbrengsten. Met Urchin worden ook de volgende E-commerce-velden gedefinieerd: <ul><li>%{ORDERID} is het ordernummer </li><li>%{STORE} is de naam/id van de winkel </li><li>%{SESSIONID} is de unieke sessie-id van de klant </li><li>%{TOTAL} is het transactietotaal, inclusief belasting  en verzendkosten (alleen decimalen, geen '$'-tekens) </li><li>%{TAX} is het bedrag aan belasting dat wordt opgeteld bij het subtotaal </li><li>%{SHIPPING} is het bedrag voor de verzendkosten </li><li>%{BILL_CITY} is de plaats van het factuuradres van de klant </li><li>%{BILL_STATE} is de staat van het factuuradres van de klant </li><li>%{BILL_ZIP} is de postcode van het factuuradres van de klant </li><li>%{BILL_COUNTRY} is het land van het factuuradres van de klant </li><li>%{PRODUCT_CODE} is de id van het product </li><li>%{PRODUCT_NAME} is de naam van het product </li><li>%{VARIATION} is een optionele variant van het product voor kleuren, afmetingen, enzovoort </li><li>%{PRICE} is de eenheidsprijs van het product (alleen decimalen, geen '$'-tekens) </li><li>%{QUANTITY} is het aantal dat van dit product is besteld </li><li>%{UPSOLD} is een booleaanse waarde (0|1) als het product in de uitverkoop was </li></ul><p class="line867"><strong>Logbestanden met een indeling met één regel</strong> <p class="line874">Volg deze instructies als uw E-commerce-logbestand alleen treffers bevat die dezelfde regelindeling hebben als hierboven is beschreven. <ol type="1"><li>Maak een nieuwe aangepaste logbestandsindeling in de directory lib/custom/logformats door een kopie van het indelingsbestand custom.lf.sample te maken. Geef de kopie een naam met het achtervoegsel .lf. </li><li>Bewerk uw nieuwe bestand voor aangepaste logbestandsindelingen en stel de volgende items in op basis van de onderstaande aanbevelingen: <ul><li><p class="line891">PrimaryPositions: met dit item wordt de volgorde van de velden in uw logbestand opgegeven. Maak een door komma's gescheiden lijst met veld-id's die uw veldvolgorde beschrijft. U kunt de veldnamen en -id's vinden in het bestand lib/reporting/logformats/fieldlist.txt. Zie het voorbeeld hieronder. </li><li><p class="line891">SecondaryPositions: laat dit als '-', aangezien het niet wordt gebruikt voor logbestanden met een indeling met één regel. </li><li><p class="line891">PrimaryKey: laat dit als '-', aangezien het niet wordt gebruikt voor logbestanden met een indeling met één regel. </li><li><p class="line891">SecondaryKey: laat dit als '-', aangezien het niet wordt gebruikt voor logbestanden met een indeling met één regel. </li><li><p class="line891">PrimaryContent: geldige items voor dit veld zijn TRANSACTION en ITEM. Als de treffers in uw logbestand de aankoop van elk afzonderlijke product beschrijven, stelt u dit in op ITEM. Als de treffers in het logbestand de volledige aankoop beschrijven, stelt u dit in op TRANSACTION. </li><li><p class="line891">SecondaryContent: laat dit als '-', aangezien het niet wordt gebruikt voor logbestanden met een indeling met één regel. </li><li><p class="line891">CommentKey: als sommige regels in uw logbestand opmerkingen zijn of niet worden gezien als treffers en beginnen met een specifiek teken, geeft u het teken hier op. </li><li><p class="line891">FieldSeparator1: met de veldscheidingstekens wordt aangegeven welke tekens worden beschouwd als veldscheidingstekens. Veelgebruikte items zijn tabs (\t) en spaties (\s). Stel de juiste items in op basis van de tekens tussen de velden in uw logbestand. </li><li><p class="line891">FieldSeparator2: zie FieldSeparator1 hierboven. </li><li><p class="line891">QuotesEscapeSep: dit geeft aan of veldscheidingstekens moeten worden genegeerd in een veld met de aanhalingstekens "". Dit moet waarschijnlijk op YES blijven staan. </li><li><p class="line891">BracketsEscapeSep: dit geeft aan of veldscheidingstekens moeten worden genegeerd in een veld met haakjes []. Dit moet waarschijnlijk op YES blijven staan. </li><li><p class="line891">MergSuccessiveSep: dit geeft aan of twee scheidingstekens achter elkaar moeten worden geïnterpreteerd als één scheidingsteken. Dit kan waarschijnlijk op NO blijven staan. </li><li><p class="line891">CleanWhiteSpace: dit geeft aan of witruimte aan het einde van de velden moet worden verwijderd wanneer de velden worden geparseerd. Dit kan waarschijnlijk op NO blijven staan. </li><li><p class="line891">StatusRequired: laat dit op NO staan, tenzij uw treffers statuscodes van het type webserver bevatten. </li><li><p class="line891">CustomDateFormat: als uw logbestandsindeling een aangepaste datumnotatie bevat, stelt u de juiste strptime-notatie in waarmee het item wordt beschreven. </li><li><p class="line891">CustomTimeFormat: als uw logbestandsindeling een aangepaste tijdnotatie bevat, stelt u de juiste strptime-notatie in waarmee het item wordt beschreven. </li></ul></li><li>Sla uw aangepaste logbestandsindeling op in de directory lib/custom/logformats. </li><li>Selecteer de aangepaste logbestandsindeling voor uw logbestandsbron in de Urchin Admin-interface. </li><li>Verwerk uw logbestanden met Urchin. </li></ol><p class="line867"><strong>Voorbeeld van een indeling met één regel</strong> <p class="line874">Het volgende voorbeeld is één treffer uit een logbestand dat alleen transactiegegevens bevat. <p class="line867"><pre>12345 123.123.123.123 "Urchin Store" [26/Aug/2003:11:43:02 -0700] 192.73 "San Diego" "CA" 92101 "US" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)" "utma=171060324.2734232095.1061444425.1061444425.1061444763.2"
</pre><p class="line862">In de onderstaande lijst wordt elke veldnaam vermeld met het id-nummer dat is opgehaald uit het bestand lib/reporting/logformats/fieldslist.txt. De id-nummers die op deze manier zijn toegewezen, worden gebruikt in het veld PrimaryPositions in uw bestand voor aangepaste logbestandsindelingen. <ol type="1"><li>Transactie-id 25 </li><li>Externe host of IP-adres 12 </li><li>Winkelnaam 26 </li><li>Apache-datum/-tijd 3 </li><li>Totale kosten 28 </li><li>Plaats van factuuradres 31 </li><li>Staat van factuuradres 32 </li><li>Postcode van factuuradres 33 </li><li>Land van factuuradres 34 </li><li class="gap">Useragent 13 </li><li>Cookies 14 </li></ol><p class="line874">Op basis van de bovenstaande lijst stelt u de volgende items in het bestand voor aangepaste logbestandsindelingen in: <p class="line867"><pre>PrimaryPositions: "25, 12, 26, 3, 28, 31, 32, 33, 34, 13, 14" SecondaryPositions: - PrimaryKey: - SecondaryKey: - PrimaryContent: TRANSACTION SecondaryContent: - CommentKey: # FieldSeparator1: \s FieldSeparator2: \t QuotesEscapeSep: YES BracketsEscapeSep: YES MergSuccessiveSep: NO CleanWhiteSpace: NO StatusRequired: NO CustomDateFormat: - CustomTimeFormat: -
</pre><p class="line862">De PrimaryPositions geven de veldvolgorde aan en de PrimaryContent laat Urchin weten dat dit logbestand transacties bevat (of algemene informatie over aankopen). De veldscheidingstekens zijn ingesteld op spatie en tab, aangezien de velden zijn gescheiden door witruimte. De aangepaste notaties voor datum/tijd zijn niet opgegeven omdat de datum/tijd is opgemaakt als Apache-datum. <p class="line867"><strong>Logbestanden met een indeling met meerdere regels</strong> <p class="line874">Urchin kan indelingen met meerdere regels lezen, zolang het eerste teken van elke regel een specifiek teken bevat dat kan aangeven welke indeling wordt gebruikt. De ELF2-logbestanden bevatten bijvoorbeeld een uitroepteken '!' als eerste tekens op de transactieregel. De itemregels bevatten GEEN voorafgaand teken '!'. <p class="line874">Volg deze instructies als uw E-commerce-logbestand twee verschillende indelingsregels bevat, één voor de transactie en de andere voor informatie over het product of artikel. <ol type="1"><li>Maak een nieuwe aangepaste logbestandsindeling in de directory lib/custom/logformats door een kopie van het indelingsbestand custom.lf.sample te maken. Geef de kopie een naam met het achtervoegsel .lf. </li><li>Bewerk het nieuwe bestand voor aangepaste logbestandsindelingen en stel de volgende items in op basis van de onderstaande aanbevelingen: <ul><li><p class="line891">PrimaryPositions: met dit item wordt de volgorde van de velden in uw logbestand opgegeven. Maak een door komma's gescheiden lijst met veld-id's die uw veldvolgorde beschrijft. U kunt de veldnamen en -id's vinden in het bestand lib/reporting/logformats/fieldlist.txt. </li><li><p class="line891">SecondaryPositions: met dit item wordt de volgorde van de velden in uw logbestand opgegeven. Maak een door komma's gescheiden lijst met veld-id's die uw veldvolgorde beschrijft. U kunt de veldnamen en -id's vinden in het bestand lib/reporting/logformats/fieldlist.txt. </li><li><p class="line891">PrimaryKey: stel de primaire sleutel in op het teken waarmee wordt aangegeven dat de logbestandsregel de indeling heeft die wordt beschreven door de PrimaryPositions. </li><li><p class="line891">SecondaryKey: stel de secundaire sleutel in op het teken waarmee wordt aangegeven dat de logbestandsregel de indeling heeft die wordt beschreven door de SecondaryPositions. </li><li><p class="line891">PrimaryContent: geldige items voor dit veld zijn TRANSACTION en ITEM. Als de treffers in uw logbestand de aankoop van elk afzonderlijke product beschrijven, stelt u dit in op ITEM. Als de treffers in het logbestand de volledige aankoop beschrijven, stelt u dit in op TRANSACTION. </li><li><p class="line891">SecondaryContent: zie PrimaryContent hierboven. </li><li><p class="line891">CommentKey: als sommige regels in uw logbestand opmerkingen zijn of niet worden gezien als treffers en beginnen met een specifiek teken, geeft u het teken hier op. </li><li><p class="line891">FieldSeparator1: met de veldscheidingstekens wordt aangegeven welke tekens worden beschouwd als veldscheidingstekens. Veelgebruikte items zijn tabs (\t) en spaties (\s). Stel de juiste items in op basis van de tekens tussen de velden in uw logbestand. </li><li><p class="line891">FieldSeparator2: zie FieldSeparator1 hierboven. </li><li><p class="line891">QuotesEscapeSep: dit geeft aan of veldscheidingstekens moeten worden genegeerd in een veld met aanhalingstekens "". Dit moet waarschijnlijk op YES blijven staan. </li><li><p class="line891">BracketsEscapeSep: dit geeft aan of veldscheidingstekens moeten worden genegeerd in een veld met haakjes []. Dit moet waarschijnlijk op YES blijven staan. </li><li><p class="line891">MergSuccessiveSep: dit geeft aan of twee scheidingstekens achter elkaar moeten worden geïnterpreteerd als één scheidingsteken. Dit kan waarschijnlijk op NO blijven staan. </li><li><p class="line891">CleanWhiteSpace: dit geeft aan of witruimte aan het einde van de velden moet worden verwijderd wanneer de velden worden geparseerd. Dit kan waarschijnlijk op NO blijven staan. </li><li><p class="line891">StatusRequired: laat dit op NO staan, tenzij uw treffers statuscodes van het type webserver bevatten. </li><li><p class="line891">CustomDateFormat: als uw logbestandsindeling een aangepaste datumnotatie bevat, stelt u de juiste strptime-notatie in waarmee het item wordt beschreven. </li><li><p class="line891">CustomTimeFormat: als uw logbestandsindeling een aangepaste tijdnotatie bevat, stelt u de juiste strptime-notatie in waarmee het item wordt beschreven. </li></ul></li><li>Sla uw aangepaste logbestandsindeling op in de directory lib/custom/logformats. </li><li>Selecteer de aangepaste logbestandsindeling voor uw logbestandsbron in de Urchin Admin-interface. </li><li>Verwerk uw logbestanden met Urchin. </li></ol></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>