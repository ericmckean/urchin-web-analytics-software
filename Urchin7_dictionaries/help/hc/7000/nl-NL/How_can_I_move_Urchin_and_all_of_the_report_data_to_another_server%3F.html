<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Hoe kan ik Urchin 6.x en alle rapportagegegevens verplaatsen naar een andere server?</strong> <p class="line874">U moet de volgende stappen uitvoeren om Urchin 6.x van de ene naar de andere server te verplaatsen: <ol type="1"><li>De Urchin-database voorbereiden </li><li>Urchin 6.x installeren op de nieuwe server </li><li>De rapportagedatabases voor de profielen van Urchin verplaatsen </li><li>Aangepaste bestanden en sjablonen verplaatsen </li><li>Aangepaste instellingen voor Urchin toepassen </li><li>Toestemmingsrechten voor de nieuwe bestanden controleren </li><li>De Urchin-licentie opnieuw activeren </li></ol><p class="line874">OPMERKING: de volgende gedetailleerde instructies kunnen ook worden toegepast op overdrachten naar andere besturingssystemen. De bestanden van de Urchin-rapportagedatabase kunnen worden verplaatst naar elk willekeurig besturingssysteem dat door Urchin wordt ondersteund. U moet bij het verplaatsen van gegevens en bestanden van het ene besturingssysteem naar het andere onder andere rekening houden met de syntaxis van de opdrachtregels (zoals het toevoegen van './' voor Unix-systemen). Andere aspecten waarmee u rekening moet houden, zijn syntaxiswijzigingen in de directory's zoals 'Standaard\Windows\mappen\' versus '/standaard/unix/directory's/.' <p class="line867"><strong>1. De Urchin-database voorbereiden</strong> <p class="line874">Deze stap kan worden overgeslagen als u dezelfde databaseserver gebruikt voor uw nieuwe Urchin-installatie. Zo niet, dan moet de Urchin-database worden voorbereid voordat u Urchin op de nieuwe server installeert: <p class="line867"><strong>a.</strong>      Maak een lege Urchin-database met de juiste toegangsrechten voor de Urchin-gebruiker. <p class="line874">Voorbeeld van SQL-opdrachten voor het maken van een backend-database voor MySQL: <p class="line867"><pre>   mysql&gt; create database urchin character set utf8;
   mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY 'urchinpassword';
</pre><p class="line874">Voorbeeld van PSQL-opdrachten voor het maken van een backend-database voor PostreSQL: <p class="line867"><pre>   postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
   postgres=# CREATE USER urchin WITH PASSWORD 'urchin password';
   postgres=# GRANT ALL ON DATABASE urchin TO urchin;
   postgres=# \connect urchin;
   postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>b.</strong>      Kopieer de gegevens uit de Urchin-database van de oude server door een SQL-dump te maken van de oude database en deze te importeren in de nieuwe database. Hiermee worden de meeste van de benodigde Urchin-configuraties automatisch meegekopieerd, zoals profielen, logbestandsbronnen, gebruikers, accounts, groepen, de planner en andere instellingen. <p class="line874">Hieronder volgt een voorbeeld van SQL-opdrachten voor een backend-database voor MySQL: <ul><li style="list-style-type:none">Brondatabase: </li></ul><p class="line867"><pre>   mysqldump -h {oldDBhostname} -u {username} -p {urchinDBname} &gt; urchin.sql
</pre><ul><li style="list-style-type:none">Doeldatabase: </li></ul><p class="line867"><pre>   mysql -h {newDBhostname} -u {username} -p {urchinDBname} &lt; urchin.sql
</pre><p class="line874">Hieronder volgt een voorbeeld van PSQL-opdrachten voor een backend-database voor PostreSQL: <ul><li style="list-style-type:none">Brondatabase: </li></ul><p class="line867"><pre>   pg_dump -h {oldDBhostname} -p {oldDBport} -U {username} {urchinDBname} &gt; urchin.sql
</pre><ul><li style="list-style-type:none">Doeldatabase: </li></ul><p class="line867"><pre>   psql -h {newDBhostname} -p {newDBport} -U {username} {urchinDBname} &lt; urchin.sql
</pre><p class="line867"><strong>2. Urchin 6 installeren op de nieuwe server</strong> <p class="line874">Installeer Urchin 6 op de nieuwe server met de eerder voorbereide database. <p class="line874">(Verwijder het vinkje bij de optie "De specifieke Urchin-databasetabellen verwijderen en opnieuw maken als deze bestaan" voor Windows-installaties of antwoord "Nee" op de vraag "Wilt u de configuratiedatabase tijdens installatie initialiseren?" voor Unix-installaties.). <p class="line874">Gedetailleerde instructies voor het installeren van Urchin kunt u hier vinden (sla de stappen voor het configureren van de database over en begin bij het hoofdstuk "Urchin installeren"): <ul><li><p class="line891"><a href="Urchin_Installation_Guide_(FreeBSD_and_Linux).html">Installatiehandleiding voor Urchin (FreeBSD en Linux)</a> </li><li><p class="line891"><a href="Urchin_Installation_Guide_(Windows).html">Installatiehandleiding voor Urchin (Windows)</a> </li></ul><p class="line874">Stop daemons of services van Urchin voordat u verdergaat met de volgende stappen: <p class="line867"><pre>~/urchin/bin/urchinctl -stop
</pre><p class="line867"><strong>3. De rapportagedatabases voor de profielen van Urchin verplaatsen</strong> <p class="line874">Alle rapportagegegevens voor Urchin worden standaard opgeslagen in een subdirectory van de hoofddirectory voor Urchin: '~/urchin/data/'. Deze directory moet worden gearchiveerd om de subdirectorystructuur te behouden, en vervolgens worden overgezet naar de nieuwe server nadat Urchin daarop is geïnstalleerd. De directory moet indien mogelijk op dezelfde directorylocatie op de nieuwe server worden neergezet: '~/urchin/data'. <p class="line874">OPMERKING: als de oude Urchin-installatie aangepaste directory's bevatte voor rapportage en historische gegevens, moeten de aangepaste directory's worden gekopieerd (in plaats van '~/urchin/data/reports' en '~/urchin/data/history'). <p class="line867"><strong>4. Aangepaste bestanden en sjablonen verplaatsen</strong> <p class="line874">Aanpassingen aan Urchin, inclusief aangepaste logbestandsindelingen en rapportreeksen, zijn niet opgeslagen in de directory "data" van Urchin. Deze aanpassingen worden opgeslagen op een aparte locatie in de directory "lib" van de Urchin-distributie. Wanneer Urchin op uw nieuwe server is geïnstalleerd, moeten alle eventuele aanpassingen die in uw oude Urchin-systeem zijn aangebracht, naar uw nieuwe Urchin-installatie worden gekopieerd. Deze bestanden staan meestal in '~/urchin/lib/custom/'. <p class="line874">Open hiervoor op de oude Urchin-server de directory "lib" van de Urchin-distributie. Comprimeer vervolgens de volledige directory "custom" (en alle subdirectory's) met een comprimeerprogramma als tar of ZIP. Kopieer dit ingepakte bestand naar uw nieuwe Urchin-server en pak het uit in de directory "lib" van uw Urchin-distributie. <p class="line867"><strong>5. Aangepaste instellingen voor Urchin toepassen</strong> <p class="line874">Als de standaardinstellingen zijn gewijzigd voor de oude installatie van Urchin 6.x in: <p class="line867"><pre>/etc/session.conf
/etc/urchin.conf
/var/urchinwebd.conf
</pre><p class="line874">moet u dezelfde instellingen toepassen in uw nieuwe installatie door de betreffende bestanden te bewerken. <p class="line867"><strong>6. Toestemmingsrechten voor de nieuwe bestanden controleren</strong> <p class="line874">Nadat alle bestanden naar de nieuwe server zijn verplaatst, moet u een uitgebreide controle uitvoeren om te controleren dat voor alle bestanden de juiste rechten zijn verleend en dat alle bestanden zijn toegewezen aan dezelfde gebruiker (alleen voor UNIX-systemen). <p class="line874">Als u de toestemmingsrechten voor Urchin wilt aanpassen, voert u de volgende opdracht uit vanuit de directory '~/urchin/util/': <p class="line867"><pre>        inspector -r
</pre><p class="line874">Als u wilt controleren wie de eigenaar van de bestanden is (alleen voor UNIX), voert u de volgende opdracht uit vanuit de directory '~/urchin/': <p class="line867"><pre>        chown -R urchin_user:urchin_group ./
</pre><p class="line867"><strong>7. De Urchin-licentie opnieuw activeren</strong> <p class="line874">Start de daemons of services van Urchin. <p class="line867"><pre>~/urchin/bin/urchinctl start
</pre><p class="line874">Open de webinterface van Urchin na het voltooien van de Urchin-installatie. <p class="line874">Het licentievenster van Urchin moet worden weergegeven met de link "Licentie opnieuw activeren". <p class="line874">Aangezien Urchin is geïnstalleerd met de bestaande, eerder voorbereide database, is de systeemsleutel gewijzigd en moet de licentie opnieuw worden geactiveerd. <p class="line874">OPMERKING: vraag uw wederverkoper van Urchin om de licentie opnieuw in te stellen voordat u deze opnieuw activeert. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>