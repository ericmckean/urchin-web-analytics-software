<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Praktische tips voor het roteren van logbestanden</strong> <p class="line867"><strong>Overzicht</strong> <p class="line874">In de meeste besturingsomgevingen is het gebruikelijk dat systeemservices en toepassingen zoals webservers logbestanden genereren. In deze bestanden worden handelingen en gebeurtenissen met betrekking tot de services vastgelegd. Meestal is ook standaard ingesteld dat via het besturingssysteem en/of toepassingen regelmatig onderhoud aan de logbestanden wordt uitgevoerd om de grootte van logbestanden beheersbaar te houden. Zo wordt voorkomen dat logbestanden onverantwoord groot worden en een tekort aan schijfruimte veroorzaken. <p class="line874">Een veelgebruikte methode voor het beheer van logbestanden is het instellen van een schema voor het regelmatig roteren van logbestanden, waarbij de bestaande logbestanden worden hernoemd met een tijdstempel. Vervolgens wordt de service of toepassing opnieuw gestart met een nieuw logbestand met een bestandsgrootte van nul. Het is bij het roteren van logbestanden ook gebruikelijk dat oude logbestanden worden gecomprimeerd of verwijderd nadat een bepaalde periode of cyclus is verstreken. <p class="line874">Voor webserverlogbestanden wordt het roteren doorgaans dagelijks uitgevoerd om ervoor te zorgen dat de bestandsgrootte beheersbaar blijft. Daarnaast draagt een dagelijks rotatieschema bij aan de nauwkeurigheid van het achteraf verwerken van de bestanden met een analysehulpprogramma, zoals Urchin. Sommige webservers, zoals Microsoft IIS, hebben een geïntegreerde functie waarmee logbestanden dagelijks worden geroteerd als de functie is ingeschakeld. Andere webservers, zoals Apache, hebben geen expliciete handler voor het roteren van logbestanden, maar bieden hulpprogramma's waarmee de webserver eenvoudig opnieuw kan worden opgestart (zonder de webservice te onderbreken) om logbestanden te roteren (bijvoorbeeld 'apachectl restart'). <p class="line867"><strong>Praktische tips voor het roteren van logbestanden</strong> <p class="line874">Dankzij de Urchin-functie 'Logbestand bijhouden' is het niet nodig logbestanden te roteren om dubbele verwerking van logbestanden te voorkomen. Met deze functie kan Urchin logbestanden veel flexibeler verwerken. Zo kunnen logbestanden al worden verwerkt terwijl er nog naar wordt geschreven door de webserver, en kunnen logbestanden worden verwerkt die handmatig of onregelmatig worden geroteerd. <p class="line867"><strong>Belangrijk:</strong> in tegenstelling tot bepaalde eerdere versies van Urchin, biedt Urchin 6 geen methoden voor het aanroepen van een procedure voor het roteren van logbestanden of het opnieuw opstarten van een webserver nadat de taken voor het roteren van logbestanden zijn uitgevoerd. Bepaalde handelingen voor het achteraf verwerken van de logbestanden kunnen wel worden uitgevoerd, zoals hieronder beschreven. <p class="line874">Hoewel het voor de werking van Urchin 6 niet vereist is dat webserverlogbestanden (regelmatig) worden geroteerd, is het verstandig om een standaardschema voor het roteren van logbestanden te implementeren. Zo zorgt u ervoor dat het programma probleemloos werkt en de functie 'Logbestanden bijhouden' niet onnodig veel verwerkingstaken hoeft uit te voeren. Het is ook veel efficiënter voor het systeem en toepassingen om meerdere kleinere logbestanden te gebruiken in plaats van één heel groot logbestand, omdat bestandsbewerkingen aanzienlijk trager worden uitgevoerd naarmate bestanden groter worden. Het is ook veel eenvoudiger om van kleinere bestanden een back-up te maken of de bestanden te herstellen in geval van een schijf- of andere systeemfout. <p class="line874">Methoden voor het roteren van logbestanden hoeven niet ingewikkeld te zijn. In de meeste gevallen volstaat een eenvoudig shell- of Perl-script dat dagelijks wordt uitgevoerd vanuit 'cron' op UNIX-systemen. Het script hoeft alleen maar het bestaande webserverlogbestand te roteren, hieraan een tijdstempel toe te voegen (bij voorkeur met de notatie %Y%m%d of JJJJMMDD) en de webserver opnieuw op te starten. Met aanvullende scriptfuncties kunnen oude logbestanden worden gereduceerd om de gebruikte schijfruimte beheersbaar te houden.  <p class="line867"><strong>Urchin configureren voor het roteren van logbestanden</strong> <p class="line862">Nadat u het rotatieschema voor de logbestanden heeft ingesteld, kunt u Urchin eenvoudig configureren om het geroteerde logbestand te verwerken. Wanneer u een logbestandsbron configureert, kunt u voor de waarde bij 'Pad logbestand' een notatie met een jokerteken gebruiken die geschikt is voor de bestandsnamen met tijdstempels (bijvoorbeeld 'access-log.*' voor Apache-logebestanden of 'ex*.log' voor IIS-logbestanden). U kunt ook de Urchin-functie voor tijdstempelpatronen gebruiken (bijvoorbeeld 'access-log.%Y%m%d' voor Apache en 'ex%y%m%d.log' voor IIS). Als Urchin dit tijdstempelpatroon tegenkomt, wordt het patroon '%Y%m%d' vervangen door de betreffende datum en wordt het logbestand met de nieuwe bestandsnaam verwerkt (bijvoorbeeld 'access-log.20080617'). Raadpleeg Datum/tijd vervangen door jokerteken in padnaam logbestand voor meer informatie over de datumpatronen. <p class="line874">Wanneer u de notatie met het jokerteken gebruikt, kunt u meerdere niet-verwerkte logbestanden in één directory plaatsen en de bestanden de eerstvolgende keer verwerken dat Urchin wordt uitgevoerd. Dit is met name handig in gevallen waar de verwachte logbestanden zich niet op de juiste locatie bevinden op het moment dat Urchin wordt uitgevoerd, bijvoorbeeld omdat een externe webserver is uitgeschakeld of de netwerkverbinding is verbroken. Het nadeel van deze methode is dat Urchin de directory moet openen en naar de afzonderlijke logbestanden moet zoeken om te bepalen of bestanden al zijn verwerkt. Als de directory veel logbestanden bevat, kan de verwerkingstijd aanzienlijk oplopen. Als u uw rotatieschema voor logbestanden betrouwbaar acht, is het efficiënter om het datumpatroon JJJJMMDD te gebruiken. <p class="line862">Mogelijk wilt u met Urchin 6 het logbestand verwijderen of archiveren/comprimeren nadat het bestand is verwerkt. U kunt dan verschillende waarden voor 'Bestemming van logbestand' instellen bij de geavanceerde instellingen van een logbestandsbron. Raadpleeg Logboekbeheer voor meer informatie over deze instellingen voor 'Bestemming van logbestand'. <p class="line867"><strong>Belangrijk!</strong> gebruik de opties voor 'Bestemming van logbestand' niet voor live logbestanden die niet zijn geroteerd! <p class="line867"><strong>Het roteren van logbestanden configureren voor UNIX-systemen</strong> <p class="line874">Vanwege de grote verschillen in besturingssysteemfuncties en webserverconfiguraties en het feit dat het roteren van logbestanden meestal per locatie verschilt, is er niet één algemeen geldende methode voor het instellen van het roteren van webserverlogbestanden op UNIX-systemen.  <p class="line867"><strong>Het roteren van logbestanden configureren voor Windows IIS-webservers</strong> <p class="line874">Zoals eerder gemeld, kunnen webserverlogbestanden automatisch worden geroteerd met de IIS-beheerfuncties. Dit is echter niet standaard ingeschakeld. Volg de onderstaande stappen om het roteren van logbestanden in te stellen op een IIS-webserver. U kunt logbestanden het beste dagelijks roteren op basis van de plaatselijke tijd. Logbestanden worden door IIS namelijk standaard om twaalf uur 's nachts GMT geroteerd, en dus niet op basis van plaatselijke tijd. <p class="line874">Als u Windows 2000 gebruikt, moet u ervoor zorgen dat de IIS-webserver correct is geconfigureerd voor het roteren van logbestanden. Gebruik hiervoor de functie 'Computerbeheer' in Windows 2000. In Windows NT, Windows XP en Windows 2003 Server wordt een vergelijkbare procedure gebruikt. Ga als te volgt werk om 'Computerbeheer' te openen en het roteren van logbestanden in te stellen: <ul><li><p class="line862">Klik op 'Start' -&gt; 'Instellingen' -&gt; 'Configuratiescherm'. </li><li>Dubbelklik op 'Systeembeheer'. </li><li>Dubbelklik op 'Computerbeheer'. </li><li>Dubbelklik op 'Internet Information-services'. </li><li>Klik met de rechtermuisknop op 'Standaardwebsite' en kies 'Eigenschappen'. </li><li>Klik op het tabblad 'Website' in het pop-upvenster. </li><li>Klik op het tabblad 'Eigenschappen' onder in het venster. </li><li>Selecteer het keuzerondje 'Dagelijks' bij 'Nieuwe periode voor logboekregistratie'. </li><li>Klik op 'Lokale tijd gebruiken voor benoemen van bestanden en rollover'. </li></ul><p class="line874">Zo zorgt u ervoor dat de webserverlogbestanden dagelijks net na middernacht worden geroteerd door IIS. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>