<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Procesamiento de registros de Apache con varios hosts virtuales</strong> <p class="line867"><strong>Introducción</strong> <p class="line874">Es posible que las empresas cuenten con servidores web Apache con varios hosts virtuales y el registro de todos los sitios web alojados se realice en un único archivo. Aunque resulta más eficaz que Urchin procese registros individuales para cada host virtual, es posible configurar los perfiles de cada host virtual para que lean el único registro combinado. <p class="line867"><strong>Procedimiento</strong> <p class="line867"><strong>Paso 1:</strong> Asegúrese de que su servidor web Apache está configurado para crear los registros utilizando el formato correcto para Urchin. En concreto, debe asegurarse de que se están registrando los campos siguientes, en el orden que se muestra a continuación. <ol type="1"><li>Host remoto [%h] </li><li>Host solicitado [%v] </li><li>Nombre de usuario [%u] </li><li>Fecha y hora (NCSA) [%t] </li><li>Solicitud (NCSA) [%r] </li><li><p class="line862">Estado [%&gt;s] </li><li>Bytes [%b] </li><li>Referencia [%{Referer}i] </li><li>User-Agent [%{User-Agent}i] </li><li>Cookie (si está registrando cookies, por ejemplo, para UTM) [%{Cookie}i] </li></ol><p class="line867"><strong>Paso 2:</strong> En la interfaz de administración de Urchin, acceda a Configuración -&gt; Perfiles de Urchin -&gt; Administrador de registros y añada una fuente de registro que señale a su único archivo de registros. Seleccione "auto" como formato de registro. <p class="line867"><strong>Paso 3:</strong> En Configuración -&gt; Perfiles de Urchin, cree un nuevo perfil para cada host virtual. En el asistente para añadir perfiles, seleccione "Añadir fuente de registro existente" cuando añada la fuente de registro para cada perfil, y seleccione la fuente de perfil que configuró anteriormente. <p class="line867"><strong>Paso 4:</strong> Ahora acceda al Administrador de filtros y haga clic en el botón Añadir para añadir un filtro nuevo. En la pantalla "Asistente para filtros: Configuración", seleccione "Incluir SOLO patrón" como Tipo de filtro, "cs_host(RAW)" para el Campo de filtro, e introduzca el nombre del host virtual en el Campo de patrón de filtro. A continuación, asigne este filtro al perfil correspondiente. <p class="line867"><strong>Paso 5:</strong> Repita los pasos 3 y 4 con cada host virtual. <p class="line867"><strong>Nota importante</strong> <p class="line874">Aunque este procedimiento resulta útil para permitir la generación de informes para varios hosts virtuales, es necesario que Urchin vuelva a procesar el archivo de registro completo para cada host virtual. En un archivo de registro grande, esto puede suponer bastante trabajo y afecta al rendimiento de Urchin. Se recomienda encarecidamente crear un archivo de registro independiente para cada host virtual. <p class="line874">Aunque este proceso está especialmente diseñado para Apache, será similar en el caso de otros formatos de registro de servidor web que incluyan los mismos campos de tipo NCSA. <p class="line874">Por el momento, Urchin no puede detectar automáticamente nuevos hosts virtuales ni configurar automáticamente nuevos perfiles para ellos. Todos los perfiles deben configurarse de manera explícita.  </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>