<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Utilización de la autenticación externa u omisión de la autenticación</strong> <p class="line867"><strong>Visión general</strong> <p class="line874">De forma predeterminada, la autenticación de Urchin se realiza cuando el controlador de sesión de Urchin (session.cgi) llama al binario "auth" que se encuentre en el directorio "bin" de la instalación Urchin. Este binario realiza una consulta a la base de datos de configuración y compara el nombre de usuario y la contraseña con los guardados en la configuración. Se devuelve al controlador de sesión un código de salida que representa éxito o error. La ubicación del binario de autenticación se puede controlar mediante un cambio en la configuración. Este diseño modular permite a los administradores llamar a un programa de autenticación externo en vez del binario "auth" predeterminado. <p class="line867"><img alt="Using_External_Authentication" src="../images/Using_External_Authentication.jpg" title="Using_External_Authentication" /> <p class="line874">Como se muestra en el diagrama anterior, este programa de autenticación externo puede realizar cualquier función de autenticación que se desee, incluidas LDAP y llamadas a otras bases de datos. Mientras el programa pueda ser ejecutado por el mismo usuario que está ejecutando "urchinwebd" (servidor web Apache de Urchin) y se ajuste a los requisitos de entrada/salida, Urchin puede modificarse fácilmente para utilizar una forma distinta de autenticación. <p class="line867"><strong>Especificación de la rutina de autenticación</strong> <p class="line874">Para configurar la rutina de autenticación que llama el controlador de sesión, edite el archivo "etc/session.conf" que se encuentra en la instalación de Urchin. Este archivo contiene los parámetros configurables que controlan el comportamiento del controlador de sesión, incluida la rutina a la que se va a llamar para la autenticación. Edite la línea: <pre>    AUTHENTICATION: ../bin/auth 
</pre><p class="line874">Sustituya "../bin/auth" por la ruta a su rutina de autenticación. Asegúrese de que la rutina de autenticación es ejecutable por el mismo usuario que está ejecutando "urchinwebd". <p class="line867"><strong>Requisitos de entrada/salida</strong> <p class="line874">Cuando el controlador de sesión llama a la rutina de autenticación, le pasa el nombre de usuario, la contraseña y la dirección IP remota del usuario como argumentos de la línea de comandos, de forma que: <pre>    argv[1] = username
    argv[2] = password
    argv[3] = remote_addr 
</pre><p class="line874">La rutina de autenticación externa puede elegir ignorar parte o la totalidad de estos parámetros pero las rutinas de autenticación típicas consideran al menos los dos primeros. Tras realizar la totalidad o parte de la autenticación deseada, la rutina debe salir con el código 0 en caso de éxito o -1 en caso de error. <pre>    Exit Code
     0 = successful authentication
    -1 = authentication failed 
</pre><p class="line874">La interfaz de autenticación anterior permite a los administradores personalizar fácilmente sus propias rutinas de validación de los accesos de los usuarios. <p class="line867"><strong>Omisión de la autenticación</strong> <p class="line874">Por medio de las técnicas descritas anteriormente, puede omitirse la autenticación de Urchin. En el caso de que un proveedor de alojamiento desee utilizar el sistema Urchin completo para controlar usuarios y grupos, pero que estos ya han sido autenticados por el usuario cuando llega a Urchin, la omisión de la autenticación es una opción para evitar el acceso duplicado. Mientras el host pueda garantizar que el acceso al sistema de Urchin se controla desde una portal de autenticación y que el nombre de usuario no se puede falsificar, el host puede omitir la autenticación utilizando la técnica que se describe a continuación. <p class="line874">Para omitir la autenticación cree una rutina de autenticación externa de prueba que salga siempre con un 0. Por ejemplo, en código Perl sería semejante a: <pre>    #!/usr/bin/perl
    exit(0); 
</pre><p class="line874">Apunte el controlador de la versión hacia esta rutina de autenticación de prueba editando el archivo "etc/session.conf", como se describió anteriormente. A continuación, simplemente indique un enlace semejante a: <pre>    http://hostname:9999/session.cgi?action=login&amp;user=paul 
</pre><p class="line874">Modifique el enlace anterior para que apunte a su nombre de host y puerto reales. Modifique también el usuario para que apunte al nombre de usuario o variable que desee. La rutina de autenticación de prueba aprobará automáticamente este acceso. Sea cuidadoso al utilizar este método para evitar problemas de seguridad. <p class="line867"><strong>Nota para los usuarios de Windows</strong> <p class="line874">Para ofrecer una funcionalidad similar en entornos Windows en los que no esté instalado Perl, está disponible el binario noauth.exe en el área Secuencias de comando de ayuda del sitio web del Servicio asistencia Urchin. Este binario no es más que un "no-op"; cuando se llama, simplemente devuelve un estado de éxito. Antes de implementar esta solución, asegúrese de que comprende las implicaciones de seguridad que conlleva  </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>