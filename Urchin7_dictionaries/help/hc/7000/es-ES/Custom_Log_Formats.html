<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Formatos de registro personalizados</strong> <p class="line867"><strong>Introducción</strong> <p class="line874">Urchin puede procesar prácticamente cualquier formato de archivo de registros. Al ofrecer a Urchin la información necesaria acerca del formato de registro, Urchin lee y analiza los datos sin procesar según la configuración especificada. En este artículo se describe el método por pasos de creación de formatos de registro personalizados. Una vez que se haya creado un formato personalizado, podrá seleccionarlo en la interfaz de administración como formato de cualquier archivo de registros.  <p class="line874">Tenga en cuenta que ciertos datos de registro son necesarios para crear algunos informes. Debe asegurarse de que el registro contiene los campos mínimos necesarios para que Urchin pueda procesarlo. Si no está seguro, consulte el documento Archivos de registro - Registro - Otros servidores web en la sección Administración de Urchin del Centro de Documentación. <p class="line867"><strong>Creación de formatos personalizados</strong> <p class="line874">Se genera un formato de registro personalizado al crear un archivo de especificación de formatos en la carpeta <pre>   urchin install dir]/lib/custom/logformats/
</pre><p class="line874">. Se proporciona un archivo de muestra llamado 'custom.lf'. Pueden crearse varios archivos personalizados, cada uno de los cuales necesita la extensión '.lf' para que Urchin pueda reconocerlo. Los formatos del registro predeterminados incorporados como apache, w3c, netscape, entre otros, se encuentran en <pre>   urchin install dir]/lib/reporting/logformats/
</pre><p class="line874">En cada uno de los directorios anteriores existe una lista de campos disponibles en el archivo fieldlist.txt. La carpeta custom contiene la lista de campos personalizados y la carpeta reporting, la lista de campos estándar. Los formatos de registro personalizados pueden hacer referencia a los campos de cualquiera de las dos listas por medio de los números de identificación de campo. Una vez que se haya creado un formato personalizado, podrá seleccionarse en la interfaz de administración. A continuación se indican los pasos básicos para la creación de un formato personalizado: <p class="line867"><strong>Paso 1: Copia del ejemplo.</strong> Copie el archivo 'custom.lf' en la carpeta 'lib/custom/logformats' de la distribución de Urchin. El nuevo nombre de archivo no debe contener espacios y su extensión debe ser '.lf'. <p class="line867"><strong>Paso 2: Establecimiento de las posiciones principales.</strong> Edite el archivo creado en el paso anterior. Este archivo contiene una gran cantidad de información útil acerca de cada variable. El primer paso consiste en establecer la variable <tt class="backtick">PrimaryPositions</tt>. Esta lista separada por comas identifica cada campo (por su número de identificación) en el formato del registro y en la posición relativa. Utilice los archivos fieldlist.txt de los dos directorios mencionados anteriormente para determinar qué número de identificación de campo utilizar. Si dispone de formatos de fecha y hora personalizados diferentes de los de Apache y de IIS, utilice los campos 16 y 17 respectivamente. En el caso de que la fecha y la hora compartan un mismo campo, utilice sólo el 16. <p class="line867"><strong>Paso 3: Comprobación del separador de campos.</strong> Compruebe la variable <tt class="backtick">FieldSeparator1</tt> y configúrela para el separador de sus campos. Utilice \s para indicar espacios y \t para tabulaciones. <p class="line867"><strong>Paso 4: ¿Está el disponible el campo de estado HTTP?</strong> Si está disponible el campo de estado HTTP, deje la variable <tt class="backtick">StatusRequired</tt> en SÍ. De esta forma se separaran los resultados válidos de los erróneos de forma adecuada. En el caso de que no haya un estado en el registro, establezca este valor en NO, para que todos los resultados se consideren válidos. <p class="line867"><strong>Paso 5: ¿Está utilizando un formato de fecha y hora personalizado?</strong> Si es así, edite <tt class="backtick">CustomDateFormat</tt> para el campo 16 y <tt class="backtick">CustomTimeFormat</tt> para el 17. El formato se especifica utilizando las variables % definidas en <a href="Time_Formats.html">Formatos de fecha y hora personalizados</a>. <p class="line867"><strong>Paso 6: Comprobación de las otras variables.</strong> La mayor parte de las variables restantes serán correctas para la mayoría de los formatos de registro personalizados. Aún así, compruebe los comentarios incluidos en el archivo de cada variable para ver si es aplicable a su situación. <p class="line867"><strong>Paso 7: ¿Dispone de campos calculados personalizados?</strong> Además del formato, también puede especificar campos calculados personalizados en el archivo de especificación. Al final del archivo, se indica un ejemplo con comentarios. El campo calculado personalizado funciona igual que el filtro avanzado de la sección de filtros, con la diferencia de que se procesa primero. Para obtener más información, consulte el artículo acerca de los campos calculados personalizados. <p class="line874">Cuando guarde el archivo, ya estará listo para asignarlo como formato para un archivo de registro en la interfaz administrativa. Se mostrará automáticamente como una de las opciones de formato del menú desplegable de formatos de registro.  </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>