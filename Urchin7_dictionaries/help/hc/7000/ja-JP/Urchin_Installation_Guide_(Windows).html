<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Urchin 6インストール ガイド（Windows）</strong> <p class="line867"><em>この記事は、Urchin ソフトウェア認定コンサルタントの </em> <a href="EpikOne.html">EpikOne</a><em> によって作成されています</em> <p class="line867"><strong>はじめに - 注（Urchin 6.500 を使用している場合）</strong> <p class="line874">Urchin 6.501 では、CPC スケジュールに関する問題がいくつか修正されました。 Urchin 6.500 から Urchin 6.602 にアップグレードする場合、処理済みの CPC データが誤っていたり不完全な場合、Urchin レポートが正しく作成されない場合があります。 Google Adwords から正しいデータを取得するには、（a） Urchin 6.602 を新しい場所にインストールする、（b）既存の 6.500 に上書きインストールする場合は、古い CPC データを削除することをおすすめします。 （ｂ）の場合は下記のディレクトリのコンテンツをすべて削除してください。 <p class="line867"><pre>&lt;path_to_urchin_6500_installation&gt;\data\cpc\...
&lt;path_to_urchin_6500_installation&gt;\data\history\cpc\...
</pre><p class="line874">Urchin 6.600、6.501、Urchin 6.402 以前からアップグレードする場合、特別な手続きは必要ありません。 <p class="line867"><strong>インストール手順の概要</strong> <ul><li>Urchin システムに使用するデータベース サーバーをインストールするか、既存のサーバーに Urchin のデータベースを追加します。 現在サポートされているデータベース エンジンは下記のとおりです。 <ul><li>MySQL 5.0.3 以降（注:  Urchin 6.6 以降では MySQL 4.x.x はサポートされません） </li><li>PostgreSQL 8.2.5 以降 </li></ul></li><li>データベース サーバーで Urchin データベースとユーザーを作成し、アクセス権を設定します。 </li><li>Urchin ソフトウェアを一時フォルダに展開します。 </li><li>MSI インストーラを実行します。 </li><li>Urchin インストール ライセンスを取得します。 </li></ul><p class="line867"><strong>オプション 1:  MySQL で Urchin を使用する</strong> <ul><li><p class="line862">システムに MySQL サーバーをまだ設定していない場合は、<a class="http" href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a> から入手できます。 Windows Essentials パッケージには、Urchin の使用に必要なすべてのコンポーネントが含まれています。 </li><li>MySQL サイトの手順で MySQL サーバーをインストールします。 </li><li>MySQL データベースの管理者ログイン情報（root など）とパスワードを確認しておきます。 </li><li>Urchin で使用するデータベース名と、ローカルの MySQL のユーザーとパスワードを指定します。 この情報は後で Urchin をインストールする場合に必要となるため保存しておきます。 下記の例では、urchin という名前のデータベースを作成し、MySQL のユーザー名を urchin、パスワードを urchinpassword に指定しています（パスワードは独自のものを指定してください）。 </li><li>[スタート]、[プログラム]、[MySQL]、[MySQL サーバー]、[MySQL コマンド ライン クライアント] の順にクリックして、MySQL コマンド ライン クライアントを開始します。 </li><li>MySQL コマンド ライン クライアントで、下記のコマンドを使用して Urchin データベースを作成し、ユーザーと権限の設定を行ないます。 </li></ul><p class="line867"><pre>mysql&gt; create database urchin character set utf8;
mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY
'urchinpassword';
</pre><p class="line867"><strong>オプション 2:  PostgreSQL で Urchin を使用する</strong> <ul><li><p class="line862">システムに PostgreSQL サーバーをまだ設定していない場合は、<a class="http" href="http://www.postgresql.org">http://www.postgresql.org</a> から入手できます。 </li><li>PostgreSQL サイトの手順で PostgreSQL サーバーをインストールします。 </li><li>PostgreSQL データベースの管理者ログイン情報（postgres など）とパスワードを確認しておきます。 </li><li>Urchin で使用するデータベース名と、ローカルの PostgreSQL のユーザーとパスワードを指定します。 この情報は後で Urchin をインストールする場合に必要となるため保存しておきます。 下記の例では、urchin という名前のデータベースを作成し、PostgreSQL のユーザー名を urchin、パスワードを urchinpass に指定しています（パスワードは独自のものを指定してください）。 </li><li>[スタート]、[プログラム]、[PostgreSQL 8.2]、[psql to 'postgres'] の順にクリックして、PostgreSQL コマンド ライン クライアントを開始します。 </li><li>PostgreSQL コマンド ライン クライアントで、下記のコマンドを使用して Urchin データベースを作成し、ユーザーと権限の設定を行ないます。 </li></ul><p class="line867"><pre>postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
postgres=# CREATE USER urchin WITH PASSWORD 'urchinpass';
postgres=# GRANT ALL ON DATABASE urchin TO urchin;
postgres=# \connect urchin;
postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>オプション 3:  バンドルされている PostgreSQL サーバーで Urchin を使用する</strong> <ul><li>Urchin 6.602 のインストーラには PostgreSQL サーバーがバンドルされており、Urchin インストール時にオプションとして選択できます。 </li><li><p class="line862">このオプションを使用するには、管理者権限を持つユーザーが Urchin のインストールを行なう必要があります。 インストールでは、ポート番号とユーザー "postgres" のパスワードの入力を求められます。 <strong>注: </strong> ユーザー "postgres" がシステムに既に存在している場合は、現在設定されているパスワードを入力する必要があります。 ユーザー "postgres" がシステムに存在していない場合は、入力したパスワードでアカウントを作成します。 </li><li>バンドルされている PostgreSQL サーバーには次の制限事項があります。 <ul><li>アップグレード モードでのインストールはしないでください。 </li><li>インストールを行なうには管理者権限が必要です。 </li></ul></li></ul><p class="line867"><strong>Urchin のインストール</strong> <ul><li>Urchin ソフトウェアの ZIP アーカイブを一時フォルダに展開します。 </li><li><p class="line862">バンドルされている PostgreSQL サーバーをインストールする場合は、システムに PostgreSQL が存在していないことを確認してください。 インストールするには、"PostgreSQL をインストール" オプションを選択して、ポート番号やユーザー "postgres" のパスワードなど PostgreSQL サーバーの詳細情報を入力します。 <strong>注: </strong> バンドルされている PostgreSQL サーバーのインストールで問題が発生した場合は、<a class="http" href="http://www.postgresql.org">http://www.postgresql.org</a> をご覧ください。 </li><li>既存のデータベースを使用する場合は、Urchin データベース名、上記で選択した MySQL または PostgreSQL のユーザー名とパスワードを確認してください。 </li><li>Urchin 6 では、1 台のコンピュータ（Windows のみ）で Urchin 6 のインスタンスを 1 つのみ利用できます。 コンピュータに既存の Urchin がインストールされている場合は、アップグレードのみが許可されています （下位バージョンに変更することは許可されていません）。 </li><li>'新しく' インストールする場合は、コンピュータから Urchin 6 の既存のバージョンをすべて削除します。 Urchin を削除する手順は下記のとおりです。 <ul><li>[スタート]、[プログラム]、[Urchin 6]、[Urchin サービスの無効化] の順にクリックします。 </li><li>[スタート]、[設定]、[コントロール パネル]、[プログラムの追加と削除] の順にクリックします。 </li><li>"Google Urchin ソフトウェア" をクリックし [削除] を選択します。 </li><li>Urchin を削除してから、urchin インストール フォルダの名前を変更します（例: C:\Program Files\Urchin6 フォルダを Urchin6-OLD に変更）。 </li></ul></li><li>Urchin 6.602 は、Urchin 6 の特定のバージョンのみからアップグレードできます。 アップグレード可能なバージョンは下記のとおりです。 <ul><li>Urchin 6.6 - Service Pack 1      :  バージョン 6.601 </li><li>Urchin 6.6 - 英語版リリース       :  バージョン 6.600 </li><li>Urchin 6.5 - Service Pack 2            :   バージョン 6.501 </li><li>Urchin 6.5                             :   バージョン 6.500（上記の注をご確認ください） </li><li>Urchin 6 - Service Pack 1         :    バージョン 6.402 </li><li>Urchin 6 - 国際版リリース:    バージョン 6.401 </li><li>Urchin 6 - 英語版リリース         :    バージョン 6.400 </li></ul></li><li>アップグレードする場合は、既存の Urchin 6 を停止またはアンインストールする必要はありません。 Urchin 6.602 インストーラでは、既存の Urchin 6 の有無を確認し、存在する場合はアンインストールしてから、 Urchin 6.602 のファイルと設定情報をインストールします。 </li><li>Urchin 6.602 のインストールを開始するには、urchin6602_windows_installer.msi ファイルをダブル クリックし、表示される手順に従います。 </li><li><p class="line891"><strong>注: </strong> Urchin 6 の前のバージョンの設定を保持するには、"既存の Urchin データベース テーブルがある場合は再作成する" オプションをオフにします。 これにより、Urchin で既存の設定が保持されます。ただし、'追加のテーブル' や '既存のテーブルの列' は作成される場合があります。 </li><li>これで、システム上で Urchin を実行できるようになります。 設定を完了するには、下記の URL で使用するウェブブラウザを指定します。 </li></ul><p class="line867"><pre>http://yourserver:&lt;port&gt;
</pre><p class="line867">&lt;port&gt; はインストール時に選択したネットワーク ポート（デフォルトは 9999）です。 <ul><li>Urchin 6 の以前のバージョンからプロファイルのレポート データを復元するには、history と reports フォルダを C:\Program Files\Urchin6-OLD\data から C:\Program Files\Urchin6 にコピーします。 </li><li>[デモ ライセンスの取得] をクリックして、ライセンス取得の手順に従って Urchin の有効化と初期設定を行います。 </li></ul><p class="line867"><strong>トラッキングの設定</strong> <p class="line874">Urchin をインストールしたら、使用状況に応じてウェブサイトのトラッキングを設定します。 <p class="line867"><strong>使用例 1:  Urchin で IP+User-Agentによるトラッキングを行なう場合</strong> <p class="line874">その他の設定は必要ありません。 Urchin にプロファイルを追加する際、[ユーザーのトラッキング方法] で IP+User-Agent を指定します。 <p class="line867"><strong>使用例 2:  Urchin で Urchin トラフィックモニタ（UTM）によるトラッキングを行なう場合</strong> <p class="line874">Urchin で Urchin トラフィック モニタ（UTM）によるトラッキングを行なう場合、ウェブサイトの各ページに小さな javascript トラッキング コードをインストールする必要があります。 手順は下記のとおりです。 <ul><li><p class="line862">Urchin の util\utm ディレクトリにある urchin.js ファイルと <tt class="backtick">__</tt>utm.gif ファイルを、ウェブサイトのドキュメント ルート（コンテンツの最上位ディレクトリなど）にコピーします。 </li><li>ウェブサイトの各ページの HEAD セクションの META タグの直後に、下記のトラッキング コード追加します。 </li></ul><p class="line867"><pre>&lt;script src="/urchin.js" type="text/javascript"&gt;
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  _userv=0;
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Urchin にプロファイルを追加する際、[ユーザーのトラッキング方法] で Urchin トラフィック モニタ（UTM）を指定します。 </li></ul><p class="line867"><strong>使用例 3:  Urchin と Google Analytics を併用する場合</strong> <p class="line874">Google Analytics の "ga.js" トラッキング コードの新しいトラッキング機能は、Urchin 6 との下位互換性がありません。  Google Analytics と Urchin ソフトウェアの両方でウェブサイトをトラッキングして最適な結果を得るには、urchin.js-basedのトラッキング コードを使用することをおすすめします。 ga.js を使用する場合、ga.js の新しいトラッキング機能は使用できません。 <p class="line874">Google Analytics で既にトラッキングされているウェブサイトで Urchin を使用するには、Google Analytics の既存のトラッキング コードを若干変更する必要があります。 手順は下記のとおりです。 <ul><li><p class="line862">Urchin の util\utm ディレクトリにある <tt class="backtick">__</tt>utm.gif ファイルのみを、ウェブサイトのドキュメント ルート（コンテンツの最上位ディレクトリなど）にコピーします。 </li><li><p class="line862">下記に示すように、行 <tt>_userv=2;</tt> をウェブサイト ページの既存のトラッキング コードに追加します。 既存のトラッキング コードの他の部分は絶対に変更しないでください。 </li></ul><p class="line867"><pre>&lt;script src="http://www.google-analytics.com/urchin.js"
type="text/javascript"&gt;
&lt;script type="text/javascript"&gt;
  _userv=2;
  _uacct="UA-XXXXXXX-Y";
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Urchin にプロファイルを追加する際、[ユーザーのトラッキング方法] で Urchin トラフィック モニタ（UTM）を指定します。 </li></ul><p class="line867"><strong>Windows Vista、Windows Server 2008 向けの追加のインストール手順</strong> <p class="line874">Urchin 6.6+ では、既にサポートされている Windows のバージョン（2000、XP、Server 2003）に加えて、Windows Vista と Server 2008 もサポートされます。 これらの Windows の新しいバージョンのセキュリティ機能により、Urchin の実行時に影響を受ける可能性があります。 詳細については下記をご覧ください。 <p class="line867"><strong>UAC - 問題</strong> <p class="line862">Windows 2008 には User Access Control（UAC）という新しいセキュリティ機能があります。詳細については、次の URL をご覧ください。 <a class="http" href="http://technet.microsoft.com/en-us/library/cc709691.aspx">http://technet.microsoft.com/en-us/library/cc709691.aspx</a> <p class="line874">UAC を有効にした場合に報告されている問題は下記のとおりです。 <ol type="1"><li><p class="line862">  . UAC が有効な場合、アプリケーションで “Program files” フォルダに適切に書き込むことができません。 詳細については、次の URL をご覧ください。 <a class="http" href="http://msdn.microsoft.com/en-us/library/aa905330.aspx">http://msdn.microsoft.com/en-us/library/aa905330.aspx</a> </li><li>  . Urchin の実行ファイルは、デフォルトではコマンド プロンプトから実行できません。 管理者としてコマンド プロンプトを使用するか、実行ファイルを 右クリックして [プロパティ]、[互換性]、[このプログラムを管理者として実行]、[OK] の順にクリックし、プロパティを設定する必要があります。 なお、Urchin Windows サービスは追加手順なしに正常に機能します。 </li></ol><p class="line867"><strong>UAC - 対処方法</strong> <ol type="1"><li>UAC を無効にして、希望の場所に Urchin を設定し、 バイナリか Windows サービスを使用して Urchin を実行します。 </li><li>UAC が有効な場合、Urchin を Program files フォルダにインストールせず、 Users ディレクトリなどにインストールします。 プロパティを変更して管理者モードでバイナリを実行するか（上記 2 参照）、変更を加えず Windows サービスを使用します。 </li></ol></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>