<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong> Urchin で標準入力 (stdin) からウェブサーバー ログを読み込むようにする </strong> <p class="line874">特定の状況では、Urchin のログ処理エンジンで実際のファイルではなく標準入力 (stdin) から、ウェブサーバー ログのデータを直接読み込む必要性が生じることがあります。Urchin では、実際のファイルではなく標準入力から読み込むログ ソースの設定が可能です。 <p class="line874">Urchin でこの設定を行うには、まず最初にログ ソース マネージャで次のパラメータを使用して、「stdin」という名前の新しいログ ソースを設定します。 <p class="line874">ログ設定 <ul><li>ログ ファイルの場所:   ローカル  </li><li>ログ ファイルのパス:       -  </li><li>ログ形式:          auto </li></ul><p class="line874">詳細設定 <ul><li>ログの処置:               処置なし           </li><li>クエリ トークン:               ?  </li><li>URI を小文字に変換:    オフ </li></ul><p class="line867"><strong>注: </strong> [ログ ファイルのパス] には必ずダッシュ (-) を指定する必要があります。 <p class="line862">これで、[プロファイル] -&gt; [ログ ソース] の設定画面で新しい「stdin」ログ ソースを選択するだけで、「stdin」からプロファイルのログを読み込めるようになります。 <p class="line867"><strong>注: </strong> 「stdin」ログ ソースを使用して、Urchin スケジューラから実行するよう設定した Urchin プロファイルは、スケジューラをログの入力ストリームと適切に関連付けることができないため、実行できません。 「stdin」ログ ソースを使用するプロファイルのログを処理するには、Urchin を手動で実行します。 簡単な例として、Urchin で次のような操作を行います。 <ol type="1"><li>Urchin でコマンド シェル ウィンドウを開きます。 </li><li>Urchin の「bin」ディレクトリに移動します。 </li><li><p class="line862">[UNIX システム] 「./urchin -p myprofile &lt; /path/to/webserver.log」と指定して urchin を実行します。 <ul><li style="list-style-type:none"><p class="line862">[Windows システム] 「urchin -p myprofile &lt; C:\path\to\webserver.log」と指定して urchin を実行します。 </li></ul></li></ol><p class="line874">ログ ソースとして「stdin」を使用すると、Urchin で読み込む前にログの前処理を簡単に行えるため、柔軟性が高まります。  <p class="line867"><strong>その他の例</strong> <p class="line874">さまざまな仮想ホストからのヒットで構成されるログから特定の仮想ホストのヒットを取得し、結果を Urchin に渡す場合は、次のように指定します。 <pre>grep " www.mydomain.com " /path/to/alldomains.log | urchin -p mydomain.com 
</pre><p class="line874">何らかの埋め込み SQL スクリプトを使用してリレーショナル データベースから元のウェブサーバー ヒットを抽出し、Urchin に渡して処理を行う場合は、次のように指定します。  <pre>sql-extract --date 20040302 --domain mydomain.com | urchin -p mydomain.com
</pre></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>