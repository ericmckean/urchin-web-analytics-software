<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Verwendung der externen Authentifizierung oder Umgehung der Authentifizierung</strong> <p class="line867"><strong>Übersicht</strong> <p class="line874">Die Urchin-Authentifizierung erfolgt standardmäßig, wenn der Urchin-Sitzungs-Controller (session.cgi) die Binärdatei "auth" im Verzeichnis "bin" der Urchin-Installation aufruft. Diese Binärdatei fragt die Konfigurationsdatenbank ab und vergleicht den Nutzernamen und das Passwort mit dem in der Konfiguration angegebenen Nutzernamen und Passwort. Ein Beendigungscode mit der Angabe, ob der Abgleich erfolgreich war, wird an den Sitzungs-Controller zurückgegeben. Der Speicherort der Authentifizierungsbinärdatei kann durch eine Konfigurationsänderung gesteuert werden. Diese modulare Struktur erlaubt dem Administrator das Aufrufen eines externen Authentifizierungsprogramms anstelle der standardmäßigen Binärdatei "auth". <p class="line867"><img alt="Using_External_Authentication" src="../images/Using_External_Authentication.jpg" title="Using_External_Authentication" /> <p class="line874">Wie im obigen Diagramm dargestellt, könnte dieses externe Authentifizierungsprogramm jede gewünschte Authentifizierungsfunktion ausführen, einschließlich "LDAP" und anderer Datenbankaufrufe. Das Programm muss lediglich vom selben Nutzer ausgeführt werden können, der "urchinwebd" (Apache-Webserver von Urchin) ausführt, und den Eingabe-/Ausgabeanforderungen entsprechen. Urchin kann dann problemlos für die Verwendung einer anderen Authentifizierungsmethode konfiguriert werden. <p class="line867"><strong>Angeben der Authentifizierungsroutine</strong> <p class="line874">Bearbeiten Sie die Datei "etc/session.conf" im Verzeichnis der Urchin-Installation, um die vom Sitzungs-Controller aufgerufene Authentifizierungsroutine zu konfigurieren. Diese Datei enthält konfigurierbare Parameter, die die Funktionsweise des Sitzungs-Controllers steuern. Dazu gehört auch die Routine zum Aufrufen der Authentifizierung. Bearbeiten Sie die folgende Zeile: <pre>    AUTHENTICATION: ../bin/auth 
</pre><p class="line874">Ersetzen Sie "../bin/auth" durch den Pfad zu Ihrer Authentifizierungsroutine. Stellen Sie sicher, dass die Authentifizierungsroutine von demselben Nutzer ausgeführt werden kann, der "urchinwebd" ausführt. <p class="line867"><strong>Eingabe-/Ausgabeanforderungen</strong> <p class="line874">Wenn der Sitzungs-Controller die Authentifizierungsroutine aufruft, übergibt er den Nutzernamen, das Passwort und die Remote-IP-Adresse des Nutzers als Befehlszeilenargumente. Beispiel: <pre>    argv[1] = username
    argv[2] = password
    argv[3] = remote_addr 
</pre><p class="line874">Die externe Authentifizierungsroutine kann einzelne oder alle diese Parameter ignorieren. Normalerweise prüft die Authentifizierungsroutine jedoch zumindest die ersten beiden Parameter. Nach Abschluss der gewünschten - partiellen oder vollständigen - Authentifizierung sollte die Routine einen Code "0" für eine erfolgreiche oder einen Code "-1" für eine fehlgeschlagene Authentifizierung zurückgeben. <pre>    Exit Code
     0 = successful authentication
    -1 = authentication failed 
</pre><p class="line874">Mithilfe der obigen Authentifizierungsschnittstelle können Administratoren problemlos eigene Routinen zur Überprüfung von Nutzeranmeldungen anpassen. <p class="line867"><strong>Umgehen der Authentifizierung</strong> <p class="line874">Mit dem oben aufgeführten Verfahren kann die Urchin-Authentifizierung bewusst umgangen werden. Angenommen, ein Hosting-Anbieter verwendet das gesamte Urchin-System für Nutzer und Gruppen, wobei die Nutzer beim Aufrufen von Urchin bereits authentifiziert sind. In diesem Fall kann mit einer Umgehung der Authentifizierung eine doppelte Anmeldung vermieden werden. Der Host muss sicherstellen, dass der Zugriff auf das Urchin-System über ein Authentifizierungsportal gesteuert wird und eine Manipulation des Nutzernamens nicht möglich ist. Dann kann die Authentifizierung mithilfe der folgenden Verfahren umgangen werden. <p class="line874">Erstellen Sie zum Umgehen der Authentifizierung eine externe Scheinauthentifizierungsroutine, die immer mit null beendet wird. Beispiel für einen Perl-Code: <pre>    #!/usr/bin/perl
    exit(0); 
</pre><p class="line874">Verweisen Sie den Sitzungs-Controller auf diese Scheinauthentifizierungsroutine. Bearbeiten Sie dazu die Datei "etc/session.conf" und verweisen Sie wie oben beschrieben auf diese Scheinroutine. Geben Sie dann ganz einfach einen Link nach dem folgenden Schema an: <pre>    http://hostname:9999/session.cgi?action=login&amp;user=paul 
</pre><p class="line874">Ändern Sie den oben dargestellten Link, so dass er auf den tatsächlichen Hostnamen und Port verweist. Ändern Sie den Nutzer in den gewünschten Nutzernamen oder die Variable. Die Scheinauthentifizierungsroutine akzeptiert automatisch diese Anmeldung. Wenden Sie diese Methode bitte vorsichtig an, um Sicherheitsprobleme zu vermeiden. <p class="line867"><strong>Hinweis für Nutzer von Windows</strong> <p class="line874">Für eine ähnliche Funktion in Windows-Umgebungen, in denen Perl nicht installiert ist, steht eine einfache Binärdatei "noauth.exe" auf der Support-Website von Urchin unter den Hilfsskripts zur Verfügung. Die Binärdatei besteht lediglich aus einer "no-op"-Anweisung und gibt beim Aufruf einfach einen Status "erfolgreich" zurück. Berücksichtigen Sie vor der Implementierung dieser Lösung die verbundenen Sicherheitsrisiken. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>