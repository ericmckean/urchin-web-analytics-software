<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Benutzerdefinierte Protokollformate</strong> <p class="line867"><strong>Einführung</strong> <p class="line874">Urchin kann praktisch jedes Protokolldateiformat verarbeiten. Nachdem Sie die erforderlichen Informationen zum Protokollformat für Urchin angegeben haben, werden die Rohdaten anhand Ihrer Konfiguration von Urchin gelesen und analysiert. Dieser Artikel enthält eine detaillierte Anleitung zum Erstellen benutzerdefinierter Formate. Sobald Sie ein benutzerdefiniertes Format erstellt haben, kann es in der Verwaltungsoberfläche als Format für eine Protokolldatei ausgewählt werden.  <p class="line874">Einige Protokolldaten sind zum Erstellen bestimmter Berichte erforderlich. Stellen Sie sicher, dass Ihr Protokoll die Felder enthält, die zur Verarbeitung von Urchin mindestens erforderlich sind. Falls Sie nicht sicher sind, erhalten Sie im Bereich "Urchin-Verwaltung" des Dokumentationscenters unter "Protokolldateien, Protokollierung und andere Webserver" weitere Informationen. <p class="line867"><strong>Erstellen benutzerdefinierter Formate</strong> <p class="line874">Zum Erstellen eines Protokollformats erstellen Sie zunächst im Ordner <pre>   urchin install dir]/lib/custom/logformats/
</pre><p class="line874">eine Datei zur Formatbeschreibung. Eine Beispieldatei "custom.lf" wird bereitgestellt. Sie können mehrere benutzerdefinierte Dateien erstellen. Jede Datei muss die Erweiterung ".lf" erhalten, damit sie von Urchin erkannt wird. Die standardmäßig integrierten Protokollformate, wie z. B. apache, w3c oder netscape, sind im folgenden Ordner gespeichert: <pre>   urchin install dir]/lib/reporting/logformats/
</pre><p class="line874">In jedem der oben aufgeführten Verzeichnisse ist eine Feldliste verfügbar, die sich in der Datei fieldlist.txt befindet. Der benutzerdefinierte Ordner enthält die Liste mit den benutzerdefinierten Feldern und der Berichtordner enthält die Liste mit den Standardfeldern. Benutzerdefinierte Protokollformate können anhand der Feld-ID-Nummer auf Felder in beiden Listen verweisen. Nachdem ein benutzerdefiniertes Format erstellt wurde, kann es in der Verwaltungsoberfläche ausgewählt werden. Im Folgenden werden die grundlegenden Schritte zum Erstellen eines benutzerdefinierten Formats aufgeführt: <p class="line867"><strong>Schritt 1: Kopieren des Beispiels.</strong> Erstellen Sie im Ordner "lib/custom/logformats" der Urchin-Installation eine Kopie der Datei "custom.lf". Im neuen Dateinamen dürfen keine Leerzeichen enthalten sein. Die Erweiterung ".lf" ist erforderlich. <p class="line867"><strong>Schritt 2: Festlegen der primären Positionen.</strong> Bearbeiten Sie die im vorherigen Schritt erstellte Datei. Die Datei enthält viele hilfreiche Informationen zu den einzelnen Variablen. Legen Sie zuerst die Variable <tt class="backtick">PrimaryPositions</tt> fest. In dieser durch Kommas getrennten Liste wird jedes Feld (durch eine ID-Nummer) im Protokollformat und seine relative Position angegeben. Bestimmen Sie anhand der Datei "fieldlist.txt" in den beiden oben erwähnten Verzeichnissen die zu verwendenden Feld-IDs. Verwenden Sie für benutzerdefinierte Datums- und Zeitformate, die sich von Apache- und IIS-Formaten unterscheiden, jeweils die Felder 16 und 17. Befinden sich Datum und Uhrzeit in einem Feld, verwenden Sie nur Feld 16. <p class="line867"><strong>Schritt 3: Überprüfen der Feldtrennzeichen.</strong> Überprüfen Sie die Variable <tt class="backtick">FieldSeparator1</tt> und legen Sie sie auf das zwischen Ihren Feldern verwendete Trennzeichen fest. Verwenden Sie "\s" für ein Leerzeichen und "\t" für ein Tabulatorzeichen. <p class="line867"><strong>Schritt 4: Ist das HTTP-Statusfeld verfügbar?</strong> Wenn das HTTP-Statusfeld verfügbar ist, lassen Sie die Variable <tt class="backtick">StatusRequired</tt> auf "YES" festgelegt. Dadurch werden gültige und fehlerhafte Treffer ordnungsgemäß unterschieden. Ist kein Statusfeld im Protokoll vorhanden, legen Sie die Variable auf "NO" fest. Alle Treffer werden dann als gültig behandelt. <p class="line867"><strong>Schritt 5: Verwenden Sie ein benutzerdefiniertes Datums-/Zeitformat?</strong> Wenn ja, bearbeiten Sie <tt class="backtick">CustomDateFormat</tt> für Feld 16 und <tt class="backtick">CustomTimeFormat</tt> für Feld 17. Das Format wird mithilfe der %-Variablen angegeben. Eine Definition dieser Variablen erhalten Sie unter <a href="Time_Formats.html">Benutzerdefinierte Datums-/Zeitformate</a>. <p class="line867"><strong>Schritt 6 Überprüfen der anderen Variablen.</strong> Die anderen Variablen eignen sich größtenteils für die meisten Protokollformate. Stellen Sie trotzdem anhand der Kommentare zu den einzelnen Variablen in der Datei fest, ob sich die Variable für Ihren Zweck eignet. <p class="line867"><strong>Schritt 7: Verwenden Sie benutzerdefinierte berechnete Felder?</strong> Abgesehen vom Format können Sie auch benutzerdefinierte berechnete Felder in der Beschreibungsdatei angeben. Ein Beispiel mit Kommentaren wird unten in der Datei aufgeführt. Das benutzerdefinierte berechnete Feld funktioniert wie der erweiterte Filter im Filterabschnitt, mit dem Unterschied, dass die benutzerdefinierten berechneten Felder zuerst verarbeitet werden. Weitere Informationen erhalten Sie im Artikel zu benutzerdefinierten berechneten Feldern. <p class="line874">Nachdem Sie die Datei gespeichert haben, können Sie sie als Format für eine Protokolldatei in der Veraltungsoberfläche verwenden. Die Datei wird automatisch als eine der Formatoptionen im Dropdown-Menü für Protokollformate angezeigt.  </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>