<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Wie kann ich Urchin 6.x und alle Berichtdaten auf einen anderen Server verschieben?</strong> <p class="line874">Zum Verschieben von Urchin 6.x zwischen Servern sind folgende grundlegenden Schritte erforderlich: <ol type="1"><li>Vorbereiten der Urchin-Datenbank </li><li>Installieren von Urchin 6.x auf dem neuen Server </li><li>Verschieben der Urchin-Berichtdatenbanken für die Profile </li><li>Verschieben der benutzerdefinierten Dateien und Vorlagen </li><li>Anwenden der benutzerdefinierten Einstellungen von Urchin </li><li>Überprüfen der neuen Dateiberechtigungen </li><li>Reaktivieren der Urchin-Lizenz </li></ol><p class="line874">HINWEIS: Die folgenden ausführlichen Anleitungen treffen auch auf das Verschieben von Urchin zwischen verschiedenen Plattformen zu. Die Dateien der Urchin-Berichtdatenbanken können auf Server mit jedem von Urchin unterstützten Betriebssystem verschoben werden. Ein Aspekt, der beim Verschieben von Daten und Dateien zwischen Plattformen beachtet werden muss, ist die Befehlszeilensyntax (z. B. das Hinzufügen von "./" bei Unix-Systemen). Ferner spielt die unterschiedliche Verzeichnissyntax eine Rolle: "Standard\Windows\Ordner\" im Vergleich zu "/standard/unix/directories/". <p class="line867"><strong>1. Vorbereiten der Urchin-Datenbank</strong> <p class="line874">Dieser Schritt kann übersprungen werden, wenn Sie für Ihre neue Urchin-Installation denselben Datenbankserver verwenden. Bereiten Sie andernfalls die Urchin-Datenbank vor, bevor Sie eine frische Installation auf dem neuen Server vornehmen: <p class="line867"><strong>a.</strong>      Erstellen Sie eine leere Urchin-Datenbank mit den richtigen Berechtigungen für die Nutzer von Urchin. <p class="line874">Beispiele für SQL-Befehle zum Erstellen der MySQL-Backend-Datenbank: <p class="line867"><pre>   mysql&gt; create database urchin character set utf8;
   mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY 'urchinpassword';
</pre><p class="line874">Beispiele für PSQL-Befehle zum Erstellen der PostreSQL-Backend-Datenbank: <p class="line867"><pre>   postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
   postgres=# CREATE USER urchin WITH PASSWORD 'urchin password';
   postgres=# GRANT ALL ON DATABASE urchin TO urchin;
   postgres=# \connect urchin;
   postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>b.</strong>      Kopieren Sie die Daten der Urchin-Datenbank vom alten Server, indem Sie mit SQL ein Abbild der alten Datenbank sichern und in die neue Datenbank importieren. Dabei werden automatisch die meisten der benötigten Urchin-Konfigurationen kopiert, einschließlich Profilen, Protokollquellen, Nutzern, Konten, Gruppen, des Planers und sonstiger Einstellungen. <p class="line874">Beispiele für SQL-Befehle für die MySQL-Backend-Datenbank: <ul><li style="list-style-type:none">Quelldatenbank: </li></ul><p class="line867"><pre>   mysqldump -h {oldDBhostname} -u {username} -p {urchinDBname} &gt; urchin.sql
</pre><ul><li style="list-style-type:none">Zieldatenbank: </li></ul><p class="line867"><pre>   mysql -h {newDBhostname} -u {username} -p {urchinDBname} &lt; urchin.sql
</pre><p class="line874">Beispiele für PSQL-Befehle für die PostreSQL-Backend-Datenbank: <ul><li style="list-style-type:none">Quelldatenbank: </li></ul><p class="line867"><pre>   pg_dump -h {oldDBhostname} -p {oldDBport} -U {username} {urchinDBname} &gt; urchin.sql
</pre><ul><li style="list-style-type:none">Zieldatenbank: </li></ul><p class="line867"><pre>   psql -h {newDBhostname} -p {newDBport} -U {username} {urchinDBname} &lt; urchin.sql
</pre><p class="line867"><strong>2. Installieren von Urchin 6 auf dem neuen Server</strong> <p class="line874">Erstellen Sie anhand der vorbereiteten Datenbank eine frische Installation von Urchin 6 auf dem neuen Server. <p class="line874">(Stellen Sie bei Windows-Installationen sicher, dass die Option "Falls vorhanden, Urchin-spezifische Datenbanktabellen löschen und neu erstellen" nicht aktiviert ist. Antworten Sie bei Unix-Installationen auf die Frage "Soll die Konfigurationsdatenbank beim Installieren initialisiert werden?" mit NEIN.) <p class="line874">Ausführliche Anleitungen zur Installation von Urchin erhalten Sie hier (überspringen Sie die Schritte zur Datenbankkonfiguration und beginnen Sie mit dem Kapitel "Installieren von Urchin"): <ul><li><p class="line891"><a href="Urchin_Installation_Guide_(FreeBSD_and_Linux).html">Urchin-Installationsanleitung (FreeBSD und Linux)</a> </li><li><p class="line891"><a href="Urchin_Installation_Guide_(Windows).html">Urchin-Installationsanleitung (Windows)</a> </li></ul><p class="line874">Stoppen Sie die urchin-Daemons oder -Dienste, bevor Sie mit den nächsten Schritten fortfahren: <p class="line867"><pre>~/urchin/bin/urchinctl -stop
</pre><p class="line867"><strong>3. Verschieben der Urchin-Berichtdatenbanken für die Profile</strong> <p class="line874">Alle Urchin-Berichtdaten werden standardmäßig in einem Unterverzeichnis des Hauptverzeichnisses von Urchin gespeichert: ~/urchin/data/. Archivieren Sie dieses Verzeichnis, um die Struktur der Unterverzeichnisse beizubehalten, und verschieben Sie es nach der Installation von Urchin auf den neuen Server. Stellen Sie es auf dem neuen Server möglichst am selben Verzeichnisspeicherort wieder her: ~/urchin/data. <p class="line874">HINWEIS: Wurden in der alten Urchin-Installation benutzerdefinierte Verlaufs- und Berichtverzeichnisse verwendet, sollten die benutzerdefinierten Verzeichnisse kopiert werden (anstelle von "~/urchin/data/reports" und "~/urchin/data/history"). <p class="line867"><strong>4. Verschieben der benutzerdefinierten Dateien und Vorlagen</strong> <p class="line874">An Urchin vorgenommene Anpassungen, einschließlich benutzerdefinierter Protokollformate und Berichtsets, werden nicht im Verzeichnis "data" von Urchin beibehalten. Diese Anpassungen befinden sich stattdessen an einem gesonderten Speicherort im Verzeichnis "lib" der Urchin-Installation. Bei einer Installation von Urchin auf einen neuen Server müssen alle Anpassungen am alten Urchin-System in die neue Urchin-Installation kopiert werden. Diese Dateien sind in der Regel im Verzeichnis "~/urchin/lib/custom/" gespeichert. <p class="line874">Wechseln Sie für diese Aufgabe auf dem alten Urchin-Server in das Verzeichnis "lib" der Urchin-Installation. Erstellen Sie dann ein Archiv des gesamten Verzeichnisses "custom" mit allen Unterverzeichnissen. Verwenden Sie dazu ein Dienstprogramm wie "tar" oder ZIP. Kopieren Sie dieses Archiv auf Ihren neuen Urchin-Server in das Verzeichnis "lib" Ihrer Urchin-Installation. <p class="line867"><strong>5. Anwenden der benutzerdefinierten Einstellungen von Urchin</strong> <p class="line874">Wurden Standardeinstellungen für die alte Urchin 6.x-Installation in folgenden Dateien geändert: <p class="line867"><pre>/etc/session.conf
/etc/urchin.conf
/var/urchinwebd.conf
</pre><p class="line874">dann übernehmen Sie diese Einstellungen auch in Ihre frische Installation, indem Sie die entsprechenden Dateien bearbeiten. <p class="line867"><strong>6. Überprüfen der neuen Dateiberechtigungen</strong> <p class="line874">Nachdem alle Dateien auf den neuen Server verschoben wurden, sollten Sie genau überprüfen, ob alle Dateien über die erforderlichen Berechtigungen verfügen und ob derselbe Nutzer alle Dateien besitzt (nur bei UNIX-Systemen). <p class="line874">Führen Sie zur Korrektur von Urchin-Berechtigungen den folgenden Befehl aus dem Verzeichnis "~/urchin/util/" aus: <p class="line867"><pre>        inspector -r
</pre><p class="line874">Führen Sie zur Überprüfung der Dateieigentümerschaft (nur UNIX) den folgenden Befehl aus dem Verzeichnis "~/urchin/" aus: <p class="line867"><pre>        chown -R urchin_user:urchin_group ./
</pre><p class="line867"><strong>7. Reaktivieren der Urchin-Lizenz</strong> <p class="line874">Starten Sie die urchin-Deamons oder -Dienste. <p class="line867"><pre>~/urchin/bin/urchinctl start
</pre><p class="line874">Öffnen Sie nach dem Abschluss der Urchin-Installation die Urchin-Web-Benutzeroberfläche. <p class="line874">Die Seite "Urchin-Lizenzierung" mit dem Link "Lizenz reaktivieren" sollte angezeigt werden: <p class="line874">Da Urchin mit der vorhandenen und zuvor vorbereiteten Datenbank installiert wurde, hat sich der Systemschlüssel geändert. Deshalb sollte die Lizenz reaktiviert werden. <p class="line874">HINWEIS: Lassen Sie die Lizenz vor der Reaktivierung bitte von dem Händler zurücksetzen, von dem Sie Urchin erworben haben. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>