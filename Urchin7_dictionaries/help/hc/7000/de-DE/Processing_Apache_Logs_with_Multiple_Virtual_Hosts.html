<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Verarbeiten von Apache-Protokollen mit mehreren virtuellen Hosts</strong> <p class="line867"><strong>Einführung</strong> <p class="line874">Organisationen können Apache-Webserver mit mehreren virtuellen Hosts einsetzen. Dabei erfolgt die Protokollierung für alle gehosteten Websites möglicherweise in eine einzige Protokolldatei. In Urchin ist eine Verarbeitung einzelner Protokolle für jeden virtuellen Host zwar effizienter, doch können Profile, die ein kombiniertes Protokoll lesen, für jeden virtuellen Host konfiguriert werden. <p class="line867"><strong>Vorgehensweise</strong> <p class="line867"><strong>Schritt 1:</strong> Stellen Sie sicher, dass Ihr Apache-Webserver zum Erstellen der Protokolle in einem für Urchin geeigneten Format konfiguriert ist. Insbesondere die folgenden Felder sollten in der unten aufgeführten Reihenfolge protokolliert werden. <ol type="1"><li>Remote-Host [%h] </li><li>Angeforderter Host [%v] </li><li>Nutzername [%u] </li><li>Datum und Uhrzeit (NCSA) [%t] </li><li>Anforderung (NCSA) [%r] </li><li><p class="line862">Status [%&gt;s] </li><li>Bytes [%b] </li><li>Verweis-URL [%{Referer}i] </li><li>User-Agent [%{User-Agent}i] </li><li>Cookie (bei Protokollierung von Cookies, z. B. für UTM) [%{Cookie}i] </li></ol><p class="line867"><strong>Schritt 2:</strong> Navigieren Sie in der Verwaltungsoberfläche von Urchin zu "Konfiguration" -&gt; "Urchin-Profile" -&gt; "Protokollmanager" und fügen Sie eine Protokollquelle hinzu, die auf die einzelne Protokolldatei verweist. Wählen Sie "Auto" als Protokollformat. <p class="line867"><strong>Schritt 3:</strong> Erstellen Sie unter "Konfiguration" -&gt; "Urchin-Profile" für jeden virtuellen Host ein neues Profil. Wählen Sie beim Hinzufügen der Protokollquelle für die einzelnen Profile im Profilassistenten "Vorhandene Protokollquelle hinzufügen". Wählen Sie dann die oben konfigurierte Protokollquelle aus. <p class="line867"><strong>Schritt 4:</strong> Wechseln Sie nun zu "Filtermanager" und klicken Sie zum Hinzufügen eines neuen Filters auf die Schaltfläche "Hinzufügen". Wählen Sie auf der Seite "Filterassistent: Einstellungen" die Option "ONLY-Muster einschließen" als Filtertyp und die Option "cs_host(RAW)" als Filterfeld und geben Sie den Namen des virtuellen Hosts in das Feld "Filtermuster" ein. Weisen Sie den Filter dann dem entsprechenden Profil zu. <p class="line867"><strong>Schritt 5:</strong> Wiederholen Sie die Schritte 3 bis 4 für jeden virtuellen Host. <p class="line867"><strong>Hinweise</strong> <p class="line874">Dieses Verfahren eignet sich zwar zum Bereitstellen von Berichten für mehrere virtuelle Hosts, erfordert jedoch eine wiederholte Verarbeitung der gesamten Protokolldatei durch Urchin für jeden virtuellen Host. Bei einer großen Protokolldatei kann das zu einer erheblichen Auslastung mit Auswirkungen auf die Leistung von Urchin führen. Eine eigene Protokolldatei für jeden virtuellen Host ist deshalb unbedingt vorzuziehen. <p class="line874">Obwohl sich dieses Verfahren speziell auf Apache bezieht, dürfte der Vorgang bei anderen Webserver-Protokollformaten mit Protokolldaten in denselben NCSA-Feldern vergleichbar sein. <p class="line874">Derzeit kann Urchin neue virtuelle Host nicht automatisch erkennen und deshalb auch nicht automatisch neue Profile für diese Hosts konfigurieren. Alle Profile müssen speziell eingerichtet werden.  </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>