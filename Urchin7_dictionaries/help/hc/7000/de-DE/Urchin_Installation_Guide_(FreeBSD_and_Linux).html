<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Urchin 6-Installationsanleitung (FreeBSD und Linux)</strong> <ul><li style="list-style-type:none"><p class="line891"><em>Dieser Artikel wurde von </em><a href="EpikOne.html">EpikOne</a><em> erstellt, einem autorisierten Berater für Urchin-Software.</em> </li></ul><p class="line867"><strong>Bevor Sie beginnen: ein wichtiger Hinweis für Nutzer von Urchin 6.500</strong> <p class="line874">Urchin 6.501 behebt mehrere Probleme im CPC-Planer. Bei einem Upgrade von Urchin 6.500 auf Urchin 6.601 können die verarbeiteten CPC-Daten fehlerhaft oder unvollständig sein, wodurch es zu fehlerhaften Urchin-Berichten kommen kann. Zum Abrufen korrekter Daten von Google Adwords empfehlen wir entweder (a) die Installation von Urchin 6.601 an einem neuen Speicherort oder (b) das Löschen der alten CPC-Daten, falls Sie die neue Version über die 6.500-Instanz installieren. Löschen Sie im letzteren Fall den Inhalt der folgenden Verzeichnisse: <p class="line867"><pre>&lt;path_to_urchin_6500_installation&gt;/data/cpc/...
&lt;path_to_urchin_6500_installation&gt;/data/history/cpc/...
</pre><p class="line874">Bei einem Upgrade von Urchin 6.600, 6.501 oder von Urchin 6.402 und früheren Versionen ist keine Aktion erforderlich. <p class="line867"><strong>Bevor Sie beginnen: ein wichtiger Hinweis für Nutzer von FreeBSD</strong> <ul><li>Für FreeBSD gilt eine festcodierte Beschränkung der Datenverarbeitungsmenge von 500 MB. Dies reicht für die Ausführung von Urchin aufgrund der Größe der Geodaten nicht aus, da diese Daten während der Protokollverarbeitung im Arbeitsspeicher vorliegen müssen. Aus diesem Grund wird der folgende Laufzeitfehler angezeigt: </li></ul><p class="line867"><pre>FEHLER: (8011-323-1057) Arbeitsspeicher konnte nicht zugewiesen werden
</pre><ul><li style="list-style-type:none">Sie können dieses Problem beheben, indem Sie für das FreeBSD-System die standardmäßige Beschränkung der Datenverarbeitungsmenge erweitern. Bearbeiten Sie dazu die Datei "/boot/loader.conf" und fügen Sie die folgenden Zeilen hinzu: </li></ul><p class="line867"><pre># Erhöhen Sie die Größe des maximalen Datenverarbeitungssegments auf 1 GB.
kern.maxdsiz="1073741824"
</pre><ul><li style="list-style-type:none">Nach diesem Schritt ist ein Neustart erforderlich. </li><li>FreeBSD verfügt über einen speziellen Treiber namens "accf_http". Zur Leistungsoptimierung puffert der Treiber eingehende Verbindungen so lange, bis bestimmte HTTP-Anfragen vollständig abgerufen wurden. Standardmäßig wird dieser Treiber nicht in den Kernel geladen und es wird die folgende Warnung angezeigt: </li></ul><p class="line867"><pre>[warn] (2)No such file or directory: Failed to enable the ‘httpready’ Accept Filter
</pre><ul><li style="list-style-type:none">Zur Vermeidung dieses Problems müssen Sie das FreeBSD-Kernelmodul des HTTP-Accept-Filters (accf_http) aktivieren. Bearbeiten Sie dazu die Datei "/boot/loader.conf" und fügen Sie die folgenden Zeilen hinzu: </li></ul><p class="line867"><pre># Wait for full HTTP request accept filter
accf_http_load="YES"
</pre><ul><li style="list-style-type:none">Nach diesem Schritt ist ein Neustart erforderlich. </li></ul><p class="line867"><strong>WARNUNG!!!</strong> Gehen Sie beim Ändern der Systembeschränkungen mit Bedacht vor. Möglicherweise lässt sich das System nicht mehr starten, wenn Sie für "kern.maxdsiz" einen zu hohen Wert festlegen. Bevor Sie diese Änderung vornehmen, <strong>sollten Sie auf jeden</strong> Fall die FreeBSD-Dokumentation lesen, um die potenziellen Risiken einschätzen zu können, die für Ihre spezifische Konfiguration gelten.  <em> <p class="line867"></em><strong>Übersicht über die Installationsschritte</strong><strong> <em></strong> <ul><li><p class="line891"></em>Installieren Sie den gewünschten Datenbank-Server auf dem Urchin-System oder fügen Sie die Datenbank von Urchin zu einem vorhandenen Server hinzu. Zurzeit werden die folgenden Datenbank-Engines unterstützt:  <em> <ul><li><p class="line891"></em>MySQL 5.0.3 oder höher (Hinweis: MySQL 4.x.x wird ab Urchin 6.6 nicht mehr unterstützt.) <em> </em></li><li>PostgreSQL 8.2.5 oder höher </li></ul></li><li>Erstellen Sie die Urchin-Datenbank und den Nutzer auf dem Datenbankserver und gewähren Sie die Zugriffsrechte. </li><li>Entpacken Sie die Urchin-Installationsdateien in ein temporäres Verzeichnis. </li><li>Führen Sie das Skript "install.sh" aus. </li><li>Führen Sie die Lizenzierung für die Urchin-Installation durch. </li></ul><p class="line867"><strong>Option 1: Verwenden von MySQL in Verbindung mit Urchin</strong><strong> </strong> <ul><li><p class="line862">Falls auf Ihrem System noch kein MySQL-Server eingerichtet ist, können Sie die Installationsdateien unter <a class="http" href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a> abrufen. </li><li>Installieren Sie den MySQL-Server gemäß der Anleitung auf der MySQL-Website. </li><li>Stellen Sie sicher, dass Ihnen der Administratorbenutzername (z. B. "root") und das Passwort für die MySQL-Datenbank vorliegen. </li><li>Wählen Sie den Datenbanknamen, den lokalen MySQL-Nutzer und das Passwort für die Verwendung mit Urchin aus. Speichern Sie diese Informationen bzw. bewahren Sie sie sicher auf, da Sie die Informationen später während der Urchin-Installation benötigen. Im Beispiel unten werden eine Datenbank mit dem Namen "urchin" und ein MySQL-Nutzername "urchin" mit dem Passwort "urchinpassword" erstellt. (Sie sollten natürlich ein eigenes Passwort wählen!) </li><li>Erstellen Sie die Urchin-Datenbank, den Nutzer und die Berechtigungen mit den folgenden Befehlen: </li></ul><p class="line867"><pre>root@yourserver# mysql -u root -p
mysql&gt; create database urchin character set utf8;
mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY 'urchinpassword';
</pre><ul><li>Ermitteln Sie den Pfadnamen des MySQL-Sockets für die Kommunikation mit Ihrem MySQL-Server. Sie finden den Pfad in der Regel in der Datei "my.cnf" der MySQL-Installation. Suchen Sie nach einer Zeile, die wie folgt aussieht: socket=/var/lib/mysql/mysql.sock. </li></ul><p class="line867"><strong>Option 2: Verwenden von PostgreSQL in Verbindung mit Urchin</strong><strong> </strong> <ul><li><p class="line862">Falls auf Ihrem System noch kein PostgreSQL-Server eingerichtet ist, können Sie die Installationsdateien unter <a class="http" href="http://www.postgresql.org">http://www.postgresql.org</a> abrufen. </li><li>Installieren Sie den PostgreSQL-Server gemäß der Anleitung auf der PostgreSQL-Website. </li><li>Stellen Sie sicher, dass sich der Befehl "psql" in Ihrem Pfad befindet und dass Ihnen der Administratornutzername (z. B. "pgsql") und das Passwort für die PostgreSQL-Datenbank vorliegen. </li><li>Wählen Sie den Datenbanknamen, den lokalen PostgreSQL-Nutzer und das Passwort für die Verwendung mit Urchin aus. Speichern Sie diese Informationen bzw. bewahren Sie sie sicher auf, da Sie die Informationen später während der Urchin-Installation benötigen. Im Beispiel unten werden eine Datenbank mit dem Namen "urchin" und ein PostgreSQL-Nutzername "urchin" mit dem Passwort "urchinpass" erstellt. (Sie sollten natürlich ein eigenes Passwort wählen!) </li><li>Erstellen Sie die Urchin-Datenbank, den Nutzer und die Berechtigungen mit den folgenden Befehlen: </li></ul><p class="line867"><pre>root@yourserver# psql -U pgsql -d postgres
postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
postgres=# CREATE USER urchin WITH PASSWORD 'urchinpass';
postgres=# GRANT ALL ON DATABASE urchin TO urchin;
postgres=# \connect urchin;
postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>Installieren von Urchin</strong><strong> </strong> <ul><li>Stellen Sie sicher, dass Ihnen der Urchin-Datenbankname, der Nutzer und das Passwort, die Sie oben ausgewählt haben, vorliegen. </li><li>Erstellen Sie ein temporäres Verzeichnis und entpacken Sie die Urchin-Installationsdateien in dieses Verzeichnis: </li></ul><p class="line867"><pre>mkdir /var/tmp/urchintemp
cd /var/tmp/urchintemp
tar xzvf urchin6601_&lt;platform&gt;_installer.tar.gz
</pre><p class="line867"><strong>Wichtig!</strong><strong> </strong>Stellen Sie sicher, dass auf dem Zielcomputer keine Instanz von Urchin 6 aktiv ist, um Fehler bei der Installation zu vermeiden. Führen Sie zur Deaktivierung einer eventuell vorhandenen Version von Urchin 6 den folgenden Befehl aus: <p class="line867"><pre>/path/to/urchin6/bin/urchinctl stop</pre><ul><li>Falls auf einem Computer mehrere Instanzen von Urchin 6 ausgeführt werden müssen, sollten die Instanzen (1) an unterschiedlichen Speicherorten installiert sein, (2) verschiedene Webserverports verwenden und (3) Verbindungen zu unterschiedlichen Datenbanken herstellen. </li><li>Urchin kopiert alle erforderlichen Dateien in die Zielordner und überschreibt eventuell vorhandene Dateien. Zur Beibehaltung von durchgeführten Anpassungen muss Urchin 6 in ein neues Verzeichnis installiert oder das vorhandene Installationsverzeichnis umbenannt werden. </li><li>Urchin 6.601 kann völlig neu installiert werden oder Sie können auf Basis einer vorhandenen Version von Urchin 6 ein Upgrade durchführen. <ul><li>Bei der Installationsoption "Neu" muss der Nutzer alle Konfigurationsparameter, etwa den Port des Webservers oder die Datenbankkonfigurationseinstellungen, eingeben. Bei der Option "Upgrade" übernimmt Urchin die Konfiguration der vorhandenen Urchin 6-Instanz. </li><li>Nicht alle früheren Versionen von Urchin 6 können mit einem Upgrade auf 6.601 gebracht werden. Die folgenden Versionen können aktualisiert werden: <ul><li>Urchin 6.6 - English Release       : Version 6.600 </li><li>Urchin 6.5 - Service Pack 2            :   Version 6.501 </li><li>Urchin 6.5                             :   Version 6.500 (siehe wichtigen Hinweis oben) </li><li>Urchin 6 - Service Pack 1         :   Version 6.402 </li><li>Urchin 6 - International Release :   Version 6.401 </li><li>Urchin 6 - English Release         :   Version 6.400 </li></ul></li><li>Bei der Installationsoption "Neu" werden Sie zur Initialisierung der Datenbanktabellen aufgefordert. Wählen Sie "Nein", falls Sie die vorhandene Datenbankkonfiguration beibehalten möchten. In diesem Fall behält Urchin zwar die vorhandene Konfiguration bei, indem die bestehenden Tabellen nicht neu erstellt werden, die Anwendung muss jedoch eventuell zusätzliche Tabellen oder Spalten in vorhandenen Tabellen erstellen. </li></ul></li><li>Starten Sie jetzt das Urchin-Installationsprogramm. Sie können es interaktiv ausführen und den Anleitungen folgen, indem Sie Folgendes eingeben: </li></ul><p class="line867"><pre>./install.sh
</pre><p class="line874">Sie können die Installation auch direkt über die Befehlszeile ausführen und dabei alle für die Installation erforderlichen Parameter angeben. Sie erhalten eine Liste der Befehlszeilenparameter, indem Sie Folgendes eingeben: <p class="line867"><pre>./install.sh -h
</pre><ul><li>Wenn die Installation abgeschlossen ist, ist auf Ihrem System eine betriebsbereite Version von Urchin installiert. Um das Setup zu beenden, rufen Sie mit Ihrem bevorzugten Webbrowser diese URL auf: </li></ul><p class="line867"><pre>http://yourserver:&lt;port&gt;
</pre><p class="line862">Dabei ist &lt;port&gt; der Netzwerkport, den Sie bei der Installation ausgewählt haben (Standard ist 9999). <ul><li>Wenn Sie die Profilberichtdaten einer älteren Version von Urchin 6 wiederherstellen möchten, kopieren Sie die Protokoll-, Bericht- und CPC-Verzeichnisse aus dem Datenverzeichnis der alten Urchin-Installation in das Datenverzeichnis der neuen Installation. </li><li>Klicken Sie auf den Link "Demo-Lizenz" und folgen Sie den Lizenzierungsschritten, um Urchin zu aktivieren und die ersten Einrichtungsschritte durchzuführen. </li></ul><p class="line867"><strong>Konfigurieren des Tracking</strong><strong> </strong> <p class="line874">Nach der Installation von Urchin sind je nach Anwendungsfall eventuell zusätzliche Schritte erforderlich, um das Tracking für Ihre Website einzurichten. <p class="line867"><strong>Fall 1: Verwendung von Urchin mit IP+User-Agent-Tracking</strong><strong> </strong> <p class="line874">Es ist keine zusätzliche Konfiguration notwendig. Stellen Sie sicher, dass Sie beim Hinzufügen von Profilen zu Urchin IP+User-Agent als Besucher-Tracking-Methode angeben. <p class="line867"><strong>Fall 2: Verwendung von Urchin mit UTM-Tracking</strong><strong> </strong> <p class="line862">Um Urchin mit UTM-Tracking zu verwenden, müssen Sie einen kleinen Abschnitt des JavaScript-Tracking-Codes auf jeder Seite Ihrer Website installieren. Gehen Sie folgendermaßen vor: <ul><li><p class="line862">Kopieren Sie die Dateien urchin.js und <tt class="backtick">__</tt>utm.gif aus dem Verzeichnis util/utm der Urchin-Installation in den Dokumenten-Stammordner Ihrer Website (beispielsweise das Content-Verzeichnis der obersten Ebene). </li><li>Fügen Sie auf jeder Seite Ihrer Website den folgenden Tracking-Code direkt hinter den META-Tags im Website-Bereich HEAD ein: </li></ul><p class="line867"><pre>&lt;script src="/urchin.js" type="text/javascript"&gt;
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  _userv=0;
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Stellen Sie sicher, dass Sie beim Hinzufügen von Profilen zu Urchin den Urchin Traffic Monitor (UTM) als Besucher-Tracking-Methode angeben. </li></ul><p class="line867"><strong>Fall 3: Gleichzeitige Verwendung von Urchin und Google Analytics</strong><strong> </strong> <p class="line874">Beachten Sie, dass die neuen Tracking-Funktionen im Tracking-Code "ga.js" von Google Analytics nicht mit Urchin 6 rückwärtskompatibel sind. Wenn Sie Ihre Website sowohl mit Google Analytics als auch mit Urchin protokollieren, sollten Sie für optimale Ergebnisse weiter den auf urchin.js basierenden Tracking-Code verwenden. Falls Sie sich für "ga.js" entscheiden, können Sie die neuen Tracking-Funktionen von "ga.js" nicht verwenden. <p class="line874">Um Urchin mit einer Website zu verwenden, die bereits von Google Analytics protokolliert wird, müssen Sie am bestehenden Tracking-Code von Google Analytics eine leichte Änderung vornehmen. Gehen Sie folgendermaßen vor: <ul><li><p class="line862">Kopieren Sie nur die Datei <tt class="backtick">__</tt>utm.gif aus dem Verzeichnis util/utm der Urchin-Installation in den Dokumenten-Stammordner Ihrer Website (beispielsweise das Content-Verzeichnis der obersten Ebene). </li><li><p class="line862">Fügen Sie die Zeile <tt>_userv=2;</tt> wie unten dargestellt zum vorhandenen Tracking-Code der Seiten Ihrer Website hinzu. Achten Sie darauf, keine anderen Abschnitte des vorhandenen Tracking-Codes zu ändern. </li></ul><p class="line867"><pre>&lt;script src="http://www.google-analytics.com/urchin.js"
type="text/javascript"&gt;
&lt;script type="text/javascript"&gt;
  _userv=2;
  _uacct="UA-XXXXXXX-Y";
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Stellen Sie sicher, dass Sie beim Hinzufügen von Profilen zu Urchin den Urchin Traffic Monitor (UTM) als Besucher-Tracking-Methode angeben. </li></ul></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>