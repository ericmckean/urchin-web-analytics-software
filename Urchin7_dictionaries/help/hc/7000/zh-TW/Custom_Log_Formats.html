<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>自訂記錄格式</strong> <p class="line867"><strong>簡介</strong> <p class="line874">Urchin 可虛擬處理任何記錄檔格式。透過提供 Urchin 關於記錄格式的必要資訊，Urchin 會根據您的設定讀取並解析原始資料。本文即將說明建立自訂記錄格式的逐步方法。建立自訂格式後，您就可以在「管理介面」中選取該格式做為任何記錄檔的格式。 <p class="line874">請留意，系統建立特定報告時，會要求特定的記錄資料。您需確定記錄內包含 Urchin 處理所需的最低欄位要求。如果您不確定，請參閱說明文件中心「Urchin 管理」部分中的「記錄檔 - 記錄 - 其他網頁伺服器」文件。 <p class="line867"><strong>建立自訂格式</strong> <p class="line874">透過在資料夾中建立格式規格，可以建立自訂記錄格式 <p class="line867"><pre>   urchin install dir]/lib/custom/logformats/
</pre><p class="line874">。提供的範例檔案名為 'custom.lf'。可以建立多個自訂檔案。每個自訂檔都需使用 '.lf' 副檔名，Urchin 才能辨識。預設的內建記錄格式 (如 apache、w3c、netscape 等) 則位於 <p class="line867"><pre>   urchin install dir]/lib/reporting/logformats/
</pre><p class="line874">以上各目錄在 fieldlist.txt 檔案中都列有可用欄位。自訂資料夾保存自訂欄位清單，回報資料夾則保存標準欄位清單。自訂記錄格式可以透過欄位 ID 編號參照任一清單中的欄位。自訂格式建立後，就可以在「管理介面」中提供選取。以下是建立自訂格式的基本步驟： <p class="line867"><strong>步驟 1：複製範例。</strong> 在 Urchin 分佈的 'lib/custom/logformats' 資料夾中，複製 'custom.lf' 檔案。新的檔名不應使用空格，且需採用 '.lf' 副檔名。 <p class="line867"><strong>步驟 2：設定主要位置。</strong> 編輯於前一步驟中建立的檔案。檔案包含許多關於各變數的實用資訊。第一步驟是設定「PrimaryPositions」變數。這份由逗號分隔的清單可以辨識記錄格式中的各個欄位 (按 ID 編號) 及其相對位置。使用前述兩個目錄中的 fieldlist.txt 檔案來判定要使用哪一個欄位 ID。如果您自訂的日期與時間格式與 Apache 及 IIS 格式不同，請分別使用欄位 16 和 17。如果日期和時間合併在同一欄位，僅使用欄位 16 即可。 <p class="line867"><strong>步驟 3：確認欄位分隔字元。</strong> 確認 "FieldSeparator1" 變數，並設定為欄位間使用的分隔字元。空格時使用 \s，標籤使用 \t。 <p class="line867"><strong>步驟 4：HTTP 狀態欄位可以使用嗎？</strong> 如果 HTTP 狀態欄位可以使用，請仍將「StatusRequired」變數設定為 [YES]。此變數可以正確區隔有效與錯誤點擊。如果記錄中沒有狀態，請將此變數設定為 [NO]，這樣一來，所有的點擊都會視為有效。 <p class="line867"><strong>步驟 5：您是否使用自訂日期 / 時間格式？</strong> 如果是，請編輯欄位 16 的「CustomDateFormat」及欄位 17 的「CustomTimeFormat」。此格式透過<a href="Time_Formats.html">自訂日期 / 時間格式</a>中定義的 % 變數指定。 <p class="line867"><strong>步驟 6：確認其他變數。</strong> 其他大部分變數都適用於多數自訂記錄格式，但請確認檔案中針對各變數提供的註解，以瞭解是否適用於您的情況。 <p class="line867"><strong>步驟 7：您有自訂計算欄位嗎？</strong> 除了格式之外，您還可以在規格檔案中指定自訂計算欄位。附註的範例於檔案底部提供。自訂計算欄位與篩選區段中的「進階篩選器」運作方式相同 (除了先處理自訂計算欄位之外)。請參閱自訂計算欄位表單的文章，以取得詳細資訊。 <p class="line874">儲存檔案，且您已經準備好將其指派為「管理介面」中記錄檔的格式。此格式會自動在記錄格式下拉式選單中顯示為其中一個格式選項。 </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>