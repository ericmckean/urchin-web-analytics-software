<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Urchin 報表資料庫設定</strong> <p class="line874">(修訂日期： 2008 年 12 月 16 日) <p class="line867"><strong>總覽</strong> <p class="line874">為了方便您管理報表資料庫的擴充性和精確度，Urchin 提供了以下兩種選項： <p class="line867"><strong>資料庫表格限制</strong> <p class="line862">這個選項可用來將大型網站的資料數量維持在合理限度內。 您可以使用此選項來限制單一 Urchin 報表資料庫表格中的記錄數目。 此為預設選項，適合大多數安裝使用。 如果任何表格的記錄數目在一個月內超出此上限，系統會將這些超出上限的記錄全部排入最後一項記錄中，名稱為<em>「其他資料」</em>。 因此，表格尺寸愈大，報表資料準確度愈高。 <p class="line862">如果 Urchin 報表資料中的<strong>其他項目</strong>資料佔了很高的比率，您就應該提高資料庫表格上限，以提升資料準確度。 <p class="line867"><strong>記憶體使用量配置</strong> <p class="line874">為了限制處理記錄檔時可配置的記憶體數量，Urchin 提供您這個選項，以便為記憶體中報表資料庫大小指定上限。 對於較大的網站，記憶體分配量越大，網頁切換次數越少，而效能也越高。 雖然預設設定較為保守，不過系統有足夠的實體記憶體可用，您不妨設定更高的值。 <p class="line867"><strong>實驗設定</strong> <p class="line874">目前，Urchin 可支援為報表資料庫設定下列最大可用值： <p class="line862">資料庫表格上限            ：    &lt;= 500,000 筆記錄 <p class="line862">記憶體使用量配置  ：    &lt;= 1024 MB <p class="line862">從 6.5 版開始，Urchin 能夠支援進一步提高上述設定，但我們只建議<span class="u"><strong>有經驗的 Urchin 使用者</strong></span>如此進行。 這些更高的值並不會顯示在管理介面上，而且只能透過組態資料庫進行設定。 對於 Urchin 6.5，用於更高的報表資料庫設定的最大值如下。 <p class="line862">資料庫表格上限：    &lt;= 2,000,000 筆記錄 <p class="line862">記憶體使用量配置：    &lt;= 2GB <strong> </strong> <p class="line867"><strong>實驗設定指南</strong> <ul><li style="list-style-type:none"><p class="line862">由於這些更高的設定仍在實驗階段，而且在某些系統可能會導致<strong>記憶體不足</strong>的錯誤，因此，請務必在實際使用之前先參考下列資訊和指南。 </li><li>一般而言，每個 32 位元的應用程式都有 40 億位元組 (4 GB) 的虛擬位址空間，劃分為使用者位址空間和核心位址空間。 使用者處理程序只能配置使用者位址空間中的記憶體。 </li><li><p class="line891"><em><strong>Windows 平台：</em></strong> 使用者應用程式可使用 2GB ，另外 2GB 則分配給核心程式使用。 雖然 windows OS 可讓使用者透過 <a class="http" href="http://msdn.microsoft.com/en-us/library/bb613473(VS.85).aspx">4 GB 位址空間調整</a>，將使用者空間最高擴充至 3 GB，不過，Urchin 處理程序並不會假設使用者實際進行了擴充程序，並且在所有情況下都會遵守 2 GB 上限的規定。 因此，在 windows OS 上，使用者在設定資料庫表格上限時不應超過 <span class="u"><strong>500,000</strong></span> 筆記錄，記憶體使用量配置也不應超過 <span class="u"><strong>1GB</strong></span>。 <ul><li><p class="line862">為了獲得最高的<span class="u"><em>效能</em></span>，請進行下列設定： <ul><li><p class="line862">記憶體使用量配置 ： <span class="u"><strong>1024 MB</strong></span> </li><li><p class="line862">資料庫表格上限 ： <span class="u"><strong>500,000</strong></span> 條資料庫表格列 </li></ul></li><li><p class="line862">為了獲得最高的<em><span class="u">精確度</span></em>，請進行下列設定： <ul><li><p class="line862">記憶體使用量配置 ： <span class="u"><strong>256</strong></span> MB </li><li><p class="line862">資料庫表格上限 ： <span class="u"><strong>1,000,000</strong></span> 條資料庫表格列 </li></ul></li></ul></li><li><p class="line891"><em><strong>Unix 平台：</strong><strong></em></strong> 使用者應用程式可使用 3GB，而核心程式則可以使用 1GB。 因此，在 UNIX 平台上，使用者不應讓資料庫表格上限超過 <span class="u"><strong>500,000</strong></span> 筆記錄，也不應將記憶體使用量配置設為高於 <span class="u"><strong>2GB</strong></span>。 <ul><li><p class="line862">為了獲得最高的<span class="u"><em>效能</em></span>，請進行下列設定： <ul><li><p class="line862">記憶體使用量配置 ： <span class="u"><strong>2048</strong></span> MB </li><li><p class="line862">資料庫表格上限 ： <strong><span class="u">500,000</span></strong> 條資料庫表格列 </li></ul></li><li><p class="line862">為了獲得最高的<em><span class="u">精確度</span></em>，請進行下列設定： <ul><li><p class="line862">記憶體使用量配置 ： <span class="u"><strong>1024</strong></span> MB </li><li><p class="line862">資料庫表格上限 ： <span class="u"><strong>2,000,000</strong></span> 條資料庫表格列 </li></ul></li></ul></li></ul><p class="line867"><strong>設定</strong><strong>擴充的'資料庫表格上限</strong><strong>' </strong> <p class="line874">這些更高的值可以針對個別設定檔進行設定，也可以針對全域設定，這一點就像'資料庫表格上限'的設定 下列查詢可將編號 '1' 的設定檔資料庫表格上限設定為 1,000,000 筆記錄。 <p class="line867"><pre>UPDATE uprofiles SET uipr_db_table_limit=1000000 WHERE uspr_id=1;
</pre><p class="line874">下列查詢可將全域資料庫表格上限設定為 1,000,000 筆記錄。 該上限將套用至 uipr_db_table_limit 欄位值為 0 的所有設定檔中。 <p class="line867"><pre>UPDATE uglobals SET uigl_db_table_limit=1000000 WHERE ucgl_name='Global Settings';
</pre><p class="line867"><strong>設定擴充的'記憶體使用量配置</strong><strong>' </strong> <p class="line874">「記憶體使用量配置」僅適用於進行全域設定的狀況。 <p class="line874">當資料庫記憶體使用量設為'「快取系統上限」'，或是 'ubpr_limit_db_cache_size' 設為 1 的時候，此設定就會自動套用至設定檔。 <p class="line874">下列查詢可將全域記憶體使用量配置設為 2GB。 請注意，資料庫欄位中的數目都是以'百萬位元組' 為單位 (例如，512 實際上代表 512 MB)。 <p class="line867"><pre>UPDATE uglobals SET uigl_db_cache_size=2048 WHERE ucgl_name='Global Settings';
</pre></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>