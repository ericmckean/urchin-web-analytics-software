<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>使用多個虛擬主機處理 Apache 記錄</strong> <p class="line867"><strong>簡介</strong> <p class="line874">許多組織的 Apache 網頁伺服器可能含有多個虛擬主機，卻將所有代管網站的記錄儲存於單一記錄檔中。儘管每個虛擬主機使用個別記錄可讓 Urchin 更有效地處理，您也可以為每個虛擬主機設定一個設定檔，用它們來讀取單一的合併記錄。 <p class="line867"><strong>程序</strong> <p class="line867"><strong>步驟 1：</strong> 請確認您已設定 Apache 網頁伺服器，使其以正確的 Urchin 格式建立記錄。請務必確認系統是按照以下的順序記錄下列欄位。 <ol type="1"><li>遠端主機 [%h] </li><li>要求的主機 [%v] </li><li>使用者名稱 [%u] </li><li>日期和時間 (NCSA) [%t] </li><li>要求 (NCSA) [%r] </li><li><p class="line862">狀態 [%&gt;s] </li><li>位元組 [%b] </li><li>推薦連結網址 [%{Referer}i] </li><li>使用者代理程式 [%{User-Agent}i] </li><li>Cookie (如果您要針對 Urchin 流量監視器等記錄 Cookie 的話) [%{Cookie}i] </li></ol><p class="line867"><strong>步驟 2：</strong> 在 Urchin 管理介面中，瀏覽至 [組態] &gt; [Urchin 設定檔] &gt; [記錄管理員]，然後新增記錄來源，將其指向您的單一記錄檔。選擇 [自動] 做為記錄格式。 <p class="line867"><strong>步驟 3：</strong> 在 [組態] &gt; [Urchin 設定檔] 之下，為每一個虛擬主機建立新的設定檔。在「新增設定檔」精靈中，在新增每一個設定檔的記錄來源時，選擇 [新增現有記錄來源]，然後選取您在上述步驟中設定的記錄來源。 <p class="line867"><strong>步驟 4：</strong> 現在，移至「篩選器管理」，然後按一下 [新增] 按鈕新增篩選器。在「篩選器精靈：設定」畫面上，選取 [只包含行為模式] 做為篩選器類型，並選取 [cs_host(RAW)] 做為篩選器欄位，然後在「篩選器模式」欄位中輸入虛擬主機的名稱。接著，將此篩選器指定給對應的設定檔。 <p class="line867"><strong>步驟 5：</strong> 針對每一個虛擬主機重複步驟 3-4。 <p class="line867"><strong>注意事項</strong> <p class="line874">雖然上述程序方便您取得多個虛擬主機的報告，但卻需要 Urchin 針對每台虛擬主機重新處理整個記錄檔。就大型的記錄檔而言，此程序會造成明顯的系統超載，因而拖累 Urchin 的效能。強烈建議您分別為每個虛擬主機建立個別的記錄檔。 <p class="line874">雖然此程序是特別為 Apache 撰寫的，但應該也適用於相同 NCSA 類型欄位中所記錄的其他網頁伺服器記錄格式。 <p class="line874">Urchin 目前無法自動偵測新的虛擬主機，也無法自動為其設定新的設定檔。您必須個別設定每一個設定檔。 </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>