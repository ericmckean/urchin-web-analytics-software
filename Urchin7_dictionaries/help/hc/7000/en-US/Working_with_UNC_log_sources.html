<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Working with UNC Log Sources</strong> <p class="line874">When a UNC log source is created in Urchin, the following parameters are specified: Server Name/IP, Remote Server Login, Local Server Login, Remote Log Source File. <p class="line874">The flow Urchin uses to get the log from a UNC source is as follows: <ul><li>Urchin tries to browse for the file(s) specified in the "Remote Log Source File"; </li><li class="gap">If browsing fails, Urchin tries to create a connection to the UNC share, specified in the "Server Name/IP" field; </li><li class="gap">If the connection failed, Urchin assumes that it is running under a user account that does not have network access, like Local System account. In this case, it creates a logon session for user account, specified in "Local Server Login" and impersonates itself as this account, i.e. Urchin process starts running under this account. If the "Same Local and Remote Login" option is set to "Yes", the impersonation credentials are taken from "Remote Server Login"; </li><li>When the impersonation is successful, Urchin tries again to create a UNC connection to the network share and retries the browsing attempt. </li><li>When Urchin is finished with the log source, it closes the UNC connection and terminates the impersonation, i.e. Urchin process starts running under the account it was running before the impersonation.  </li></ul><p class="line874">Impersonation has the following drawbacks: <ul><li>While it is on, the Urchin process is running under different account, which might not have access to the Urchin data directory, thus failing to create any reporting databases. </li><li>The reporting databases, created while the impersonation was on, might not be accessible to the Urchin process when the impersonation is terminated. </li><li>It slows the performance, especially when multiple UNC log files are attached to the profile, since Urchin needs to start/terminate the impersonation for each file. </li></ul><p class="line874">Therefore, the best practices to using the UNC shares in Urchin are: <ul><li>Run Urchin under the account that has access to network. In this case the impersonation does not occur </li><li>Grant read access to the UNC log shares to the user account Urchin is running on. In this case, creating the UNC connection and impersonating might not be necessary. </li></ul></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>