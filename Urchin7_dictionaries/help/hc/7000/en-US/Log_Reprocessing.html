<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Log Reprocessing</strong> <p class="line867"><strong>Overview</strong> <p class="line874">Certain circumstances may warrant re-processing of log data, such as a DNS server being down when the processing was, incorrectly applied filters, and so on. The following document describes the proper procedure necessary to back out and reprocess webserver log data. <p class="line874">Please note that reprocessing logs requires the use of Urchin utilities that are only available from a command line shell environment. It is not possible to do the complete procedure exclusively from the Urchin web-based administrative GUI. <p class="line867"><strong>Reprocessing a Single Day</strong> <ul><li>In the Urchin admin GUI, edit the Profile and turn off Log Tracking under the Storage/DB tab. Be sure to click Update to save your change. </li><li>Under the Log Sources tab, ensure that the proper log file (s) to be re-processed are specified. The log data should only contain hits for the date(s) that you are zeroing out the statistics for. </li><li>Invoke a command shell on the Urchin system and  </li></ul><p class="line867"><pre>cd /&lt;URCHIN_DIR&gt;/util
</pre><ul><li>Run the udb-sanitizer utility in the 'util' directory/folder of the Urchin distribution with the command </li></ul><p class="line867"><pre>udb-sanitizer -p profile-name -d YYYYMM 
</pre><ul><li style="list-style-type:none">where YYYYMM is the year and month containing the day you wish to reprocess </li></ul><ul><li><p class="line862">Select option 5, Zero out one or more days. The utility will prompt you for the correct day and will zero out the statistics for that particular day. For more examples of how to use udb-sanitizer, see <a href="udb-sanitizer%253A_Database_Maintenance.html">udb-sanitizer: Database Maintenance</a>. </li><li>Click the Run Now button under the Run/Schedule tab for the Profile to reprocess the log data </li><li>Reset the Log Source by changing the Log File Path back to its original setting </li><li>Under the Storage/DB tab in the profile edit area, turn Log Tracking back on </li></ul><p class="line867"><strong>Reprocessing an Entire Month:</strong> <p class="line862">The procedure for reprocessing an entire month's worth of data is similar to the single day procedure above; you'll simply use different udb-sanitizer options. See <a href="udb-sanitizer%253A_Database_Maintenance.html">udb-sanitizer: Database Maintenance</a> for examples. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>