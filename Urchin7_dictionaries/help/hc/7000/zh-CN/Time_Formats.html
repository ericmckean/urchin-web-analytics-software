<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line862">本文由 Urchin 软件授权顾问<a href="%2522Friedrich_Software_Resources%2522.html">"Friedrich Software Resources"</a>编写。 <p class="line867"><strong>自定义日期/时间格式</strong> <p class="line874">简介 <p class="line874">Urchin 可处理日志文件中几乎所有日期或时间格式。只需向 Urchin 提供与日志文件中的日期模式相匹配的日期或时间格式即可。本文说明了用来指定日期或时间格式的变量。这些格式可在自定义日志格式文件中指定。请参阅此部分前面的"自定义日志格式"一文。 <p class="line874">日期/时间解析的工作方式 <p class="line874">Urchin 会将日志文件中的日期/时间字段与指定格式相比较，从而判断日期/时间。 <p class="line874">例如，IIS 日志中包含采用以下格式的日期： 2002-11-12 Urchin 就可以使用下列格式判断年、月、日。 %Y-%m-%d <p class="line874">创建日期/时间格式 <p class="line874">要创建自定义日期/时间格式，首先要查看日志文件中所包含的日期/时间数据的顺序和模式。然后，从下列日期/时间变量中加以选择，以创建格式。世界各个时区会以与 UTC（世界标准时间）的正负偏差表示。 <p class="line874">例如，如果日志文件包含时间"07:01:47"，则需要创建与之相匹配的格式。首先应注意此格式是以"时:分:秒"方式排列。查看下面的变量列表，会发现 %H 是代表小时的变量，%M 是代表分钟的变量，而 %S 是代表秒的变量。将它们组合在一起，就是"%H:%M:%S"格式。如果日期或时间格式字段中包含 '%' 文字字符，可将此 % 字符指定为 %%。 <p class="line874">最常用的变量有：%Y、%m、%d、%H、%M 和 %S。 <p class="line874">日期/时间变量定义 <ul><li>%A = 工作日完整名称的国标表示方式。 </li><li>%a = 工作日缩写名称的国标表示方式。 </li><li>%B = 月份完整名称的国标表示方式。 </li><li>%b = 月份缩写名称的国标表示方式。 </li><li>%d = 日期以十进制数字表示 (01-31)。 </li><li>%e = 日期以十进制数字表示 (1-31)；如果只有一位数字，前面请留空白。 </li><li>%H = 小时（24 小时制）以十进制数字表示 (00-23)。 </li><li>%I = 小时（12 小时制）以十进制数字表示 (01-12)。 </li><li>%j = 一年中的某一天以十进制数字表示 (001-366)。 </li><li>%k = 小时（24 小时制）以十进制数字表示 (0-23)；如果只有一位数字，前面请留空白。 </li><li>%l = 小时（12 小时制）以十进制数字表示 (1-12)；如果只有一位数字，前面请留空白。 </li><li>%M = 分钟以十进制数字表示 (00-59)。 </li><li>%m = 月份以十进制数字表示 (01-12)。 </li><li>%p ="上午"或"下午"的相应国标表示方式。 </li><li>%S = 秒数以十进制数字表示 (00-60)。 </li><li>%s = 自 UTC（世界标准时间）Epoch 以来的秒数（请参阅 mktime(3)）。 </li><li>%w = 工作日（星期日是一周的第一天）以十进制数字表示 (0-6)。 </li><li>%Y = 年份（含世纪）以十进制数字表示。 </li><li>%y = 年份（不含世纪）以十进制数字表示 (00-99)。 </li><li>%z = 与世界标准时间 (UTC) 的时差，开头的加号代表 UTC 的东侧，减号代表 UTC 的西侧，接下来的小时和分钟分别为两位数字，且中间没有分隔符（RFC 822 日期标题的常见形式）。 </li><li>%% = `%'。  </li></ul></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>