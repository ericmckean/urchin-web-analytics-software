<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Urchin 6 安装指南（适用于 Windows）</strong> <p class="line862">本文由 Urchin 软件授权顾问 <a href="EpikOne.html">EpikOne</a> 撰写<strong></strong><strong></strong> <em> </em> <p class="line867"><strong>'开始之前 – Urchin 6.500 用户的重要注意事项</strong><strong> <em> </em> </strong> <p class="line867"><strong></strong>'Urchin 6.501 修复了 CPC 调度程序的几个问题。 如果您从 Urchin 6.500 升级至 Urchin 6.602，处理后的每次点击费用数据可能不正确或不完整，从而导致 Urchin 报告的结果出现错误。 为了从 Google Adwords 中获取正确的数据，我们建议您 (a) 在新位置安装Urchin 6.602，或 (b) 如果希望在现有 6.500 实例上安装，请删除原有 CPC 数据。 在后一种情况下，请删除以下目录中的所有内容： <em> </em> <p class="line867"><pre>&lt;path_to_urchin_6500_installation&gt;\data\cpc\...
&lt;path_to_urchin_6500_installation&gt;\data\history\cpc\...
</pre><p class="line874">如果您是从 Urchin 6.600, 6.501 或从 Urchin 6.402 及更早版本进行升级，则无需进行任何操作。 <p class="line867"><strong>安装步骤概述</strong> <ul><li>将所需数据库服务器安装到 Urchin 系统或将 Urchin 数据库添加到现有服务器。 目前支持的数据库引擎包括： <ul><li>MySQL 5.0.3 或更高版本（请注意：从 Urchin 6.6 开始，不再支持 MySQL 4.x.x） </li><li>PostgreSQL 8.2.5 或更高版本 </li></ul></li><li>在数据库服务器上创建 Urchin 数据库和用户并授予访问权限 </li><li>将 Urchin 发行版解包到临时文件夹中 </li><li>运行 MSI 安装程序 </li><li>为 Urchin 安装提供许可 </li></ul><p class="line867"><strong>选项 1： 将现有 MySQL 数据库用于 Urchin</strong> <ul><li><p class="line862">如果您的系统中没有安装 MySQL 服务器，请访问 <a class="http" href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a> 获取其发行版。 Windows Essentials 软件包含使用 Urchin 所需的全部组件。 </li><li>按照 MySQL 网站中的说明安装 MySQL 服务器。 </li><li>请务必取得 MySQL 数据库管理员登录信息（如 root）和密码。 </li><li>选择您将在 Urchin 中使用的数据库名称、本地 MySQL 用户名和密码。 保存这些信息，之后安装 Urchin 时会用到这些信息。 下面的示例中创建了一个名为 urchin 的数据库以及一个用户名为 urchin、密码为 urchinpassword 的 MySQL 用户（您需要自行选择密码！）。 </li><li><p class="line862">依次选择“开始”-&gt;“程序”-&gt;“MySQL”-&gt;“MySQL 服务器”-&gt;“MySQL 命令行客户端”，启动“MySQL 命令行客户端”。 </li><li>在“MySQL 命令行客户端”窗口中，使用下列命令创建 Urchin 数据库、用户和权限： </li></ul><p class="line867"><pre>mysql&gt; create database urchin character set utf8;
mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY
'urchinpassword';
</pre><p class="line867"><strong>选项 2： 将现有 PostgreSQL 数据库用于 Urchin</strong> <ul><li><p class="line862">如果您的系统中没有安装 PostgreSQL 服务器，请访问 <a class="http" href="http://www.postgresql.org">http://www.postgresql.org</a> 获取其发行版。 </li><li>按照 PostgreSQL 网站中的说明安装 PostgreSQL 服务器。 </li><li>请务必获取 PostgreSQL 数据库管理员登录信息（如 postgres）和密码。 </li><li>选择您将在 Urchin 中使用的数据库名称、本地 PostgreSQL 用户名和密码。 保存这些信息，之后安装 Urchin 时会用到这些信息。 下面的示例中创建了一个名为 urchin 的数据库和名为 urchin 的 PostgreSQL 用户名及密码 urchinpass（当然，您应该选择您自己的密码！） </li><li><p class="line862">依次选择“开始”-&gt;“程序”-&gt;“PostgreSQL 8.2”-&gt;“psql to 'postgres'”，启动“PostgreSQL 命令行客户端”。 </li><li>在“PostgreSQL 命令行客户端”窗口中，使用下列命令创建 Urchin 数据库、用户和权限： </li></ul><p class="line867"><pre>postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
postgres=# CREATE USER urchin WITH PASSWORD 'urchinpass';
postgres=# GRANT ALL ON DATABASE urchin TO urchin;
postgres=# \connect urchin;
postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>选项 3： 将附带的 PostgreSQL 服务器用于 Urchin</strong> <ul><li>Urchin 6.602 安装程序附带了 PostgreSQL 服务器，供您在 Urchin 安装过程中选用。 </li><li><p class="line862">要选择此选项，您需要以管理员权限调用 Urchin 安装程序。 安装程序将提示您提供 "postgres" 用户的端口号和密码。 <strong>请注意：</strong> 如果系统中已存在名为 "postgres" 的用户，您需要提供该用户已有的密码。 如果系统中不存在名为 "postgres" 的用户，安装程序就会以提供的密码创建该用户。 </li><li>附带的 PostgreSQL 服务器会受到下列限制： <ul><li>不可在升级模式中进行安装。 </li><li>需要管理员权限才能进行安装。 </li></ul></li></ul><p class="line867"><strong>安装 Urchin</strong> <ul><li>将 Urchin 发行版 ZIP 存档解包到临时文件夹中。 </li><li><p class="line862">如果安装的是附带的 PostgreSQL 服务器，则请确保系统目前没有安装任何 PostgreSQL 服务器。 要进行安装，请选择“安装 PostgreSQL”，并提供端口号和用户 "postgres" 密码等 PostgreSQL 服务器详细信息。 <strong>请注意：</strong> 如果在安装附带的 PostgreSQL 服务器时遇到任何问题，请参阅 <a class="http" href="http://www.postgresql.org。">http://www.postgresql.org。</a> </li><li>如果要使用现有的数据库，请务必准备好所选 MySQL 或 PostgreSQL 的 Urchin 数据库名称、用户和密码。 </li><li>Urchin 6 只允许在单台计算机上安装一个 Urchin 6 实例（仅限 Windows）。 如果计算机上已安装有 Urchin 的某个版本，则只允许进行产品升级 （不允许降级）。 </li><li>要进行“全新”安装，请删除目标计算机上现有的所有 Urchin 6 版本。 要删除 Urchin，请按以下步骤操作： <ul><li><p class="line862">开始 -&gt; 程序 -&gt; Urchin 6 -&gt; 停用 Urchin 服务。 </li><li><p class="line862">开始 -&gt; 设置 -&gt; 控制面板 -&gt; 添加或删除程序。 </li><li>点击 "Urchin Software from Google"，然后选择“删除”。 </li><li>删除 Urchin 后，请重命名 urchin 安装文件夹（例如将 C:\Program Files\Urchin6 文件夹命名为 Urchin6-OLD）。 </li></ul></li><li>Urchin 6.602 只能用于升级部分早期版本的 Urchin 6。 下列版本可以升级： <ul><li>Urchin 6.6 - Service Pack 1      ： 6.601 版 </li><li>Urchin 6.6 - English Release       ： 6.600 版 </li><li>Urchin 6.5 - Service Pack 2            ：   6.501 版 </li><li>Urchin 6.5                             :   6.500 版（请参阅上述重要说明） </li><li>Urchin 6 - Service Pack 1         ：   6.402 版 </li><li>Urchin 6 - 国际版：   6.401 版 </li><li>Urchin 6 - 英文版         ：   6.400 版 </li></ul></li><li>如果选择升级，则不需要停止或卸载现有的 Urchin 6 实例。 Urchin 6.602 安装程序会首先检查并卸载现有的所有 Urchin 6 版本， 然后再安装 Urchin 6.602 的文件和配置。 </li><li>要开始安装 Urchin 6.602，请双击 urchin6602_windows_installer.msi 文件并按照交互式提示进行操作。 </li><li><p class="line891"><strong>请注意：</strong> 如果您安装了 Urchin 6 的较早版本并想保留其配置，请确保取消选中“重新创建现有 Urchin 专用的数据库表（如果存在）”选项。 在这种情况下，Urchin 会保留现有配置，但可能会“创建额外的表”或“在现有表中创建额外的列”<strong>'。  </strong> </li><li>现在，Urchin 便可以在您的系统中运行了。 要完成安装，请将您常用的网络浏览器指向此网址： </li></ul><p class="line867"><pre>http://yourserver:&lt;port&gt;
</pre><p class="line862">其中 &lt;port&gt; 是您在安装过程中选择的网络端口（默认为 9999）。 <ul><li>如果您想从旧版本的 Urchin 6 中恢复配置文件报告数据，请将历史记录和报告文件夹从 C:\Program Files\Urchin6-OLD\data 复制到 C:\Program Files\Urchin6 下。 </li><li>点击“获取试用许可”链接，然后按照许可步骤启用 Urchin 并执行初始设置步骤。 </li></ul><p class="line867"><strong>配置跟踪</strong><strong> </strong> <p class="line862">Urchin 安装完毕后，您可能还需要根据具体使用情况再执行其他一些步骤，以便能够在自己的网站上设置跟踪。<strong> </strong> <p class="line867"><strong>第 1 种情况： 与 IP+User-Agent 跟踪一起使用 Urchin</strong><strong> </strong> <p class="line874">不需要进行其他配置。 向 Urchin 添加配置文件时，请确保将访问者跟踪方法指定为 IP+User-Agent。 <p class="line867"><strong>第 2 种情况： 以 UTM 跟踪的形式使用 Urchin</strong><strong> </strong> <p class="line874">要以 UTM 跟踪的形式使用 Urchin，您需要在您网站的每个网页上安装一小段 javascript 跟踪代码。 具体操作步骤如下： <ul><li><p class="line862">将 urchin.js 和 <tt class="backtick">__</tt>utm.gif 文件从 Urchin 发行版的 util/utm 目录复制到您网站的文档根目录下（如网站内容的顶级目录）。 </li><li>在网站的每个网页上，将下列跟踪代码放到 HEAD 部分中，紧随所有 META 标记之后： </li></ul><p class="line867"><pre>&lt;script src="/urchin.js" type="text/javascript"&gt;
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  _userv=0;
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>向 Urchin 添加配置文件时，请确保将访问者跟踪方法指定为“Urchin 访问量监控器 (UTM)” </li></ul><p class="line867"><strong>第 3 种情况： 配合使用 Google Analytics（分析）和 Urchin</strong><strong> </strong> <p class="line874">请注意，Google Analytics（分析）"ga.js" 跟踪代码的新跟踪功能与 Urchin 6 不兼容。  如果您想同时使用 Google Analytics（分析）和 Urchin 软件来跟踪自己的网站，我们建议您使用基于 urchin.js 的跟踪代码，这样才能获得最佳效果。 如果您选择使用 ga.js，则其新跟踪功能将无法使用。 <p class="line874">要将 Urchin 用于已通过 Google Analytics（分析）进行跟踪的网站，您只需对 Google Analytics（分析）的现有跟踪代码稍作修改。 具体操作步骤如下： <ul><li><p class="line862">仅将 <tt class="backtick">__</tt>utm.gif 文件从 Urchin 发行版的 util\utm 目录复制到您网站的文档根目录下（如网站内容的顶级目录）。 </li><li><p class="line862">将如下所示的 <tt>_userv=2;</tt> 行添加到网站网页的现有跟踪代码中。 请一定不要修改现有跟踪代码的任何其他部分！ </li></ul><p class="line867"><pre>&lt;script src="http://www.google-analytics.com/urchin.js"
type="text/javascript"&gt;
&lt;script type="text/javascript"&gt;
  _userv=2;
  _uacct="UA-XXXXXXX-Y";
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>向 Urchin 添加配置文件时，请确保将访问者跟踪方法指定为“Urchin 访问量监控器 (UTM)” </li></ul><p class="line867"><strong>适用于 Windows Vista 和 Server 2008 的额外安装步骤</strong><strong> </strong> <p class="line874">除了之前已支持的 Windows 版本（2000, XP 和 Server 2003）之外，Urchin 6.6+ 还支持 Windows Vista 和 Server 2008。 这些新版本 Windows 系统中的某些安全功能可能会影响 Urchin 的执行。 以下是对此问题的详细说明。 <p class="line867"><strong>UAC – 问题</strong><strong> </strong> <p class="line862">Windows 2008 包含一项名为 User Access Control（用户访问控制，UAC）的新增安全功能。要了解详情，请访问 <a class="http" href="http://technet.microsoft.com/en-us/library/cc709691.aspx。">http://technet.microsoft.com/en-us/library/cc709691.aspx。</a> <p class="line862">启用 UAC 时，存在以下已知问题：<strong> </strong> <ol type="1"><li><p class="line862">  . 如果启用了 UAC，则应用程序无法正确地写入“Program files”文件夹。 要了解详情，请访问： <a class="http" href="http://msdn.microsoft.com/en-us/library/aa905330.aspx">http://msdn.microsoft.com/en-us/library/aa905330.aspx</a> </li><li><p class="line862">  . 默认情况下，无法从命令提示符运行 Urchin 的可执行文件。 您必须以管理员身份使用命令提示符，或者按照以下方法设置可执行文件的属性： 右键单击该文件，然后依次选择“属性”-&gt;“兼容性”-&gt;“以管理员身份运行此程序”-&gt;“确定”。 请注意，Urchin Windows 服务可正常运行，不必执行任何额外操作。 </li></ol><p class="line867"><strong>UAC - 解决方案</strong><strong> </strong> <ol type="1"><li>停用 UAC 并将 Urchin 安装到所需位置。 通过二进制程序或 Windows 服务运行 Urchin。 </li><li>如果启用了 UAC，请勿将 Urchin 安装在“Program files”文件夹。 您可以将其安装到自己的用户目录中。 修改属性以在管理员模式下运行二进制程序（参见上面第 2 条），或者不进行任何更改直接使用 Windows 服务。 </li></ol></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>