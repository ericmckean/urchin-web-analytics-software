<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong> 使用现有 IIS 网络服务器（Windows 平台）</strong> <p class="line874">默认情况下会使用捆绑在 Urchin 产品上的独立 Apache 服务器完成 Urchin 管理和报告。在大多数 Urchin 安装情况下，这是递送“Urchin 管理和报告界面”的首选方法。不过，在少数情况下，可能需要利用现有的 IIS 网络服务器递送“Urchin 管理和报告界面”。其原因可能是由于网站不允许在其服务器上使用第三方网络服务器产品，或者是需要在现有 IIS 服务器上将“Urchin 报告”设置为虚拟主机。 <p class="line867"><strong>免责声明：我们不支持对 Urchin 安装进行这些修改。</strong> <p class="line867"><strong>步骤</strong> <p class="line867"><strong>请注意：</strong>此步骤假设 Urchin 已安装到默认位置：C:\Program Files\Urchin。如果您已将 Urchin 安装到其他位置，请确保在以下示例中将相应位置替换为此位置。 <p class="line874">第 1 步：为 Urchin 网络界面创建新用户 <ul><li><p class="line862">转到“管理工具”-&gt;“计算机管理” </li><li>在“计算机管理”屏幕的左侧，点击“本地用户和组” </li><li>右键点击“用户”文件夹，然后选择“新用户...” </li><li>在“用户名：”字段输入“IUSR_URCHIN” </li><li>取消选中“用户下次登录时须更改密码”框 </li><li>选中“用户不能更改密码”框 </li><li>点击“创建”，然后点击“关闭” </li><li>双击左侧的“用户”文件夹 </li><li>右键点击右侧的 IUSR_URCHIN，然后选择“属性...” </li><li>在“成员”标签下，删除所有已存在的条目，然后点击“添加..”按钮并在弹出的窗口中选择“来宾”，接着再次点击“添加”，最后点击“确定” </li><li>点击“应用”，然后点击“关闭”保存更改 </li></ul><p class="line874">第 2 步：安装 Urchin（若尚未安装） <p class="line874">第 3 步：停用 Urchin Apache 网络服务器 <ol type="1"><li><p class="line862">转到“管理工具”-&gt;“服务” </li><li>在“服务”下查找“Urchin 网络服务器”记录 </li><li>右键点击“Urchin 网络服务器”，然后选择“停止” </li><li>右键点击“Urchin 网络服务器”，然后选择“属性”，接着将启动类型更改为“已禁用” </li><li>点击“确定” </li></ol><p class="line862">第 4 步：向 IIS 添加新网站。转到“管理工具”-&gt;“Internet 信息服务 (IIS) 管理器” <ol type="1"><li>右键点击“网站” </li><li>在“说明：”字段中键入“Urchin”，然后点击“下一步” </li><li>选择 IP 地址和端口号（通常为 9999），然后点击“下一步” </li><li>在“路径：”字段中浏览至 Urchin 的安装位置（通常为 C:\Program Files\Urchin\htdocs），然后点击“下一步” </li><li>在“执行：”字段中添加选中标记，然后依次点击“下一步”和“完成” </li><li>右键点击新的 Urchin 网站，然后转到“属性” <ol type="1"><li>在“网站”标签下，取消选中“启用日志”； </li><li>点击“主目录”标签，然后选中“脚本资源访问”； </li><li>点击“文档”标签，然后“删除”两个“默认”条目，接着点击“添加”并在弹出的窗口中输入“session.cgi”，最后点击“确定”； </li><li>点击“目录安全性”标签，然后在“身份验证和访问控制”区域点击“修改”。确保选中“匿名访问”框，然后点击“修改...”以更改“用于匿名访问的帐户”。在弹出的窗口中，选择“IUSR_URCHIN”作为用户名。点击“确定”，然后再次点击“确定”返回到“属性”窗口； </li><li>点击“确定”保存更改，然后退出“属性”窗口。 </li></ol></li></ol><p class="line874">第 5 步：设置目录权限 1. 右键点击“启动”，然后选择“资源管理器” <ol type="1"><li>浏览至 Urchin 的安装位置（通常为 C:\Program Files\Urchin） </li><li>右键点击“Urchin”文件夹，然后选择“属性” </li><li>点击“安全”标签 </li><li>点击“高级”按钮。取消选中“允许父对象的可继承权限传播至此对象”，然后在弹出的窗口中点击“删除” </li><li>点击“添加”并选择“管理员用户”，然后再次点击“添加” </li><li>点击“添加”并选择 IUSR_URCHIN，然后再次点击“添加” </li><li>请确保在“名称：”字段中只存在“管理员”和“IUSR_URCHIN”条目 </li><li><p class="line862">授予对 &lt;urchin_home&gt;\var 文件夹的写入权限 </li><li><p class="line862">返回到“首选项=&gt;安全”，并确保给予“IUSR_URCHIN”用户下列权限： <ul><li>读取和执行 </li><li>列出文件夹内容 </li><li>读取 <ul><li style="list-style-type:none">请注意：将“系统”的权限设为全部默认 </li></ul></li></ul></li></ol><p class="line874">1. 点击“确定”保存权限 <ol type="1"><li> 在“Windows Explorer”窗口中，点击进入“Urchin”文件夹 </li><li> 右键点击“数据”文件夹，然后选择“属性” </li><li> 点击“安全”标签 </li><li> 点击“高级”。取消选中“允许父对象的可继承权限传播至此对象”，然后在弹出的窗口中点击“删除” </li><li> 点击“添加”并选择“管理员”用户，然后再次点击“添加” </li><li> 点击“添加”并选择 IUSR_URCHIN，然后再次点击“添加” </li><li> 请确保在“名称：”字段中只存在“管理员”和“IUSR_URCHIN”条目 </li><li><p class="line862">返回到“首选项=&gt;安全”，并确保给予“管理员”和“IUSR_URCHIN”用户下列权限：* 完全控制权 <ul><li>修改 </li><li>读取和执行 </li><li>列出文件夹内容 </li><li>读取 </li><li>写入 </li></ul></li><li> 点击“确定” </li></ol><p class="line874">第 6 步：仅限 IIS 6转到“网络服务扩展管理器” <ol type="1"><li>点击“添加新网络服务扩展..”1. 在“扩展名：”字段中输入“Urchin CGI” </li><li>点击“添加” </li><li>浏览至 report.cgi 和 session.cgi 并将其突出显示（默认情况下，您只能看到 *.dll 文件，因此您需要更改过滤器以显示“所有文件”） <ul><li>默认位置：C:\Program Files\Urchin\htdocs </li></ul></li><li>选中“将扩展状态设为允许” </li><li>点击“确定” </li><li>转到服务器的主 IIS 条目：“主机名” </li><li>右键点击并选择“属性” </li><li>点击“Mime 类型” </li><li> 点击“新建” </li><li> 在“扩展名：”字段中输入“.cgi” </li><li> 在“Mime 类型”字段中输入“application/octet-stream” </li><li> 点击“确定” </li><li> 点击“确定” </li></ol><p class="line862">如果您使用网址 <a class="http" href="http://my.server.com:port">http://my.server.com:port</a> 连接到 IIS 网络服务器，则应将该服务器设为调用 Urchin 网络界面。网址中的端口为您安装 Urchin 时针对 Urchin 而设置的端口（默认为 9999）。 <p class="line867"><strong>将现有 IIS 网络服务器用于 Urchin 数据 API 网络服务 (Urchin 6.6+)</strong> <p class="line862">Urchin 数据 API 网络服务 (Urchin 6.6+) 与 IIS 模块捆绑在一起，可在经过部署和配置后用于处理对 Urchin 数据 API 的请求。要在 IIS 网络服务器下配置数据 API，请参阅能否将 Urchin 数据 API 与 IIS 集成？。 </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>