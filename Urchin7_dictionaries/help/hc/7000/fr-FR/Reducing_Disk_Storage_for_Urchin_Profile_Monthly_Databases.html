<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Réduction de l'espace disque occupé par les bases de données mensuelles des profils Urchin</strong> <p class="line867"><strong>Présentation</strong> <p class="line874">Les données servant à la création des rapports Urchin sont stockées dans plusieurs bases de données mensuelles pour chacun des profils configurés dans le logiciel. Généralement, ces bases de données sont conservées dans le répertoire data/reports de la distribution Urchin qui, par défaut, peut stocker un nombre illimité de bases de données mensuelles par profil. Pour la plupart des sites de taille petite ou moyenne, l'espace disque nécessaire reste raisonnable. Urchin n'a plus besoin d'accéder aux journaux de serveur Web bruts une fois traités, il est donc inutile de conserver ces journaux. En termes de volume, les bases de données Urchin mensuelles représentent environ 5 à 10 % des journaux de serveur Web bruts qui ont servi à leur création. Dans la plupart des cas, l'espace disque occupé par les bases de données Urchin reste tout à fait minime, même lorsque celles-ci sont conservées indéfiniment. <p class="line874">En revanche, pour les sites de grande taille qui produisent des journaux de serveur Web quotidiens de plusieurs centaines, voire de plusieurs milliers de méga-octets, ou pour les fournisseurs d'hébergement qui ont configuré de nombreux profils, il peut être souhaitable de réduire l'espace disque utilisé par Urchin de façon régulière. Pour ce faire, utilisez l'une des méthodes suivantes : <ol type="1"><li>Définissez les profils de sorte qu'ils suppriment les données de suivi brutes après le traitement des journaux. </li><li>Configurez les profils de manière à archiver les données de l'historique. </li><li>Limitez la période de stockage des données de création de rapports d'historique.  </li></ol><p class="line874">Vous trouverez des instructions de mise en œuvre pour chaque méthode à la fin de cet article. <p class="line867"><strong>Stockage des bases de données Urchin - Présentation technique</strong> <p class="line874">Pour chaque profil, Urchin conserve un ensemble de fichiers de base de données qui sont enregistrés tous les mois dans des répertoires nommés selon le modèle YYYYMM (année et mois). Ces répertoires contiennent chacun environ 50 fichiers de données destinées au moteur de création de rapports. Les noms du répertoire et des fichiers de base de données indiquent le mois au cours duquel les données ont été enregistrées. Voici la liste exhaustive de ces bases de données : <p class="line862">YYYYMM-uhed --&gt; en-tête de la base de données <p class="line862">YYYYMM-usti --&gt; index des chaînes <p class="line862">YYYYMM-ustd --&gt; données des chaînes <p class="line862">YYYYMM-udai --&gt; index des tableaux <p class="line862">YYYYMM-udXX --&gt; tableaux de données (XX est remplacé par le numéro de tableau associé dans la carte des données) <p class="line862">YYYYMM-uvii --&gt; index des visiteurs <p class="line862">YYYYMM-uvid --&gt; données relatives aux visiteurs <p class="line862">YYYYMM-used --&gt; données de session <p class="line862">YYYYMM-upad --&gt; données relatives aux chemins <p class="line862">YYYYMM-utrd --&gt; données relatives aux transactions (E-commerce) <p class="line862">YYYYMM-uitd --&gt; données relatives aux articles (E-commerce) <p class="line862">YYYYMM-ulti --&gt; index de suivi des journaux <p class="line862">YYYYMM-ultd --&gt; données relatives au suivi des journaux <p class="line862">YYYYMM-utod --&gt; données relatives aux totaux <p class="line862">YYYYMM-uhid --&gt; données d'histogramme <p class="line862">YYYYMM-umad --&gt; données relatives à la matrice des visiteurs <p class="line874">Chaque ensemble de bases de données comprend toutes les informations relatives au mois couvert. Les divers ensembles de bases de données mensuelles n'ont aucun lien entre eux. Ainsi, chaque ensemble peut être archivé et supprimé séparément, sans aucune incidence sur les autres mois traités. <p class="line874">En règle générale, le logiciel enregistre chaque mois un ensemble complet de fichiers de base de données. Toutefois, quatre de ces fichiers de base de données sont utilisés uniquement par le moteur Urchin de traitement des journaux. Il s'agit des fichiers suivants : <p class="line874">YYYYMM-usti  <p class="line874">YYYYMM-udai  <p class="line874">YYYYMM-ulti <p class="line874">YYYYMM-ultd <p class="line874">Les fichiers de base de données suivants sont utilisés à la fois par le moteur Urchin de traitement des journaux, et par les fonctions de création de rapports pour établir la segmentation croisée et fournir des détails sur le comportement des visiteurs. La suppression de ces contenus n'a d'incidence que sur ces fonctions de création de rapport. <p class="line874">YYYYMM-uvii  <p class="line874">YYYYMM-uvid  <p class="line874">YYYYMM-used  <p class="line874">YYYYMM-upad  <p class="line874">YYYYMM-utrd  <p class="line874">YYYYMM-uitd  <p class="line874">Ces bases de données comprennent des informations sur les visiteurs, les sessions, les chemins, les transactions et les produits. Ces fichiers peuvent occuper une part significative de l'espace disque requis pour un mois précis, de l'ordre de 10 à 50 %. Ainsi, vous pouvez économiser un espace disque considérable en désactivant l'option Conserver les informations de suivi brutes dans l'écran Stockage/Base de données de la configuration du profil. <p class="line874">La désactivation de cette option est recommandée uniquement aux sites dont la fréquentation est extrêmement importante et pour lesquels le stockage des données de suivi brutes représente un problème en termes d'espace disque et d'utilisation du processeur. <p class="line874">Vous pouvez également économiser de l'espace disque en compressant vos anciennes bases de données mensuelles Urchin dans des fichiers ZIP. Les fichiers d'archives ainsi obtenus ont une taille généralement inférieure de 20 à 30 % à celle des ensembles de bases de données non compressés. Le moteur de création de rapports Urchin n'est pas en mesure de lire les fichiers ZIP directement, mais il peut en extraire automatiquement les bases de données si nécessaire. Cette opération est entièrement invisible pour les personnes qui consultent des rapports Urchin, hormis le léger délai d'affichage occasionné par l'extraction des bases de données. Le moteur de création de rapports ne supprime pas les bases de données ainsi extraites, afin d'accéder plus rapidement aux données lorsqu'un utilisateur consulte des rapports Urchin. Le fichier ZIP d'origine est conservé pour vous permettre de procéder à des nettoyages réguliers visant à supprimer les bases de données décompressées et à récupérer de l'espace disque. <p class="line874">La dernière méthode susceptible de réduire l'espace nécessaire au stockage des données Urchin consiste à définir une règle limitant la période couverte par l'historique des rapports Urchin. Par exemple, dans les environnements où le service de rapports Urchin est inclus dans une offre globale de services d'hébergement, la période associée à l'historique d'Urchin est généralement limitée à un an. La classification mensuelle des bases de données Urchin facilite en effet le recours à des scripts automatiques pour supprimer les bases de données après une certaine période. Lorsqu'une règle est mise en place concernant la durée de l'historique des rapports, l'espace de stockage nécessaire aux données Urchin reste stable ou augmente très légèrement une fois que le plafond d'historique est atteint. <p class="line867"><strong>Procédures de réduction de l'espace occupé par les données</strong> <p class="line867"><strong>Méthode 1 : Suppression des données de suivi brutes après leur traitement</strong> <p class="line874">Vous pouvez configurer un profil de manière à supprimer les informations brutes relatives aux visiteurs et aux sessions après chaque traitement. Pour les sites de grande taille, cela améliore les performances et réduit le volume des données stockées. Remarque : Si vous optez pour cette configuration, les sessions qui se prolongent sur le jour suivant sont comptabilisées comme deux sessions au lieu d'une (une pour chaque journée). Pour la plupart des sites, les différences que cela entraîne dans les résultats ne sont pas significatives. <p class="line874">Pour configurer un profil de manière à supprimer les informations brutes relatives aux visiteurs et aux sessions après chaque traitement : <ol type="1"><li><p class="line862">Dans l'interface Admin, cliquez sur Configuration, puis sur Profils Urchin--&gt;Profils. </li><li>Modifiez le profil voulu. </li><li>Dans l'onglet Stockage/Base de données, désactivez l'option Conserver les informations de suivi brutes. </li><li>Cliquez sur Mettre à jour.  </li></ol><p class="line867"><strong>Méthode 2 : Archivage automatique des données de l'historique</strong> <p class="line874">Vous pouvez configurer vos profils de manière à compresser les données d'historique mensuelles dans des fichiers d'archives. Les rapports sont en mesure d'afficher les données ainsi archivées et aucun appel de fichier supplémentaire ne sera traité pour les mois concernés. <p class="line874">Pour configurer un profil de sorte qu'il archive les données de l'historique : <ol type="1"><li><p class="line862">Dans l'interface Admin, cliquez sur Configuration, puis sur Profils Urchin--&gt;Profils. </li><li>Modifiez le profil voulu. </li><li>Dans l'onglet Stockage/Base de données, activez l'option Archiver la base de données. </li><li>Indiquez un nombre de mois dans le champ Archiver la base de données après. </li><li>Cliquez sur Mettre à jour.  </li></ol><p class="line867"><strong>Méthode 3 : Conservation restreinte des bases de données de création de rapports d'historique</strong> <p class="line874">Pour chaque profil Urchin, supprimez simplement les bases de données du répertoire data/reports/nom-du-profil dont la date, indiquée dans le préfixe YYYYMM, a dépassé le plafond requis pour la création de rapports d'historique. Par exemple, si vous souhaitez restreindre l'historique des rapports à un an et que nous soyons actuellement au mois de février 2004, vous supprimerez les bases de données nommées 200301-*data.un* pour effacer les données de rapports associées au mois de janvier 2003 pour ce profil. Répétez l'opération pour toutes les bases de données antérieures à janvier 2003. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>