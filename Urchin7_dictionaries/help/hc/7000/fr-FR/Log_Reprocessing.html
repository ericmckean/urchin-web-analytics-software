<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Retraitement des journaux</strong> <p class="line867"><strong>Présentation</strong> <p class="line874">Le retraitement des données du journal peut s'avérer nécessaire dans certaines circonstances, une panne de serveur DNS au cours d'un traitement par exemple, l'application incorrecte de filtres, etc. Ce document décrit la procédure à suivre pour retirer les données de journal du serveur Web en vue de les retraiter. <p class="line874">Notez que le retraitement des journaux fait appel à des utilitaires Urchin accessibles uniquement à partir d'un interpréteur de ligne de commande. Il est impossible de réaliser cette procédure uniquement avec l'interface d'administration Web d'Urchin. <p class="line867"><strong>Retraitement d'un jour donné</strong> <ul><li>Dans l'interface admin d'Urchin, modifiez le Profil concerné et désactivez le Suivi du journal dans l'onglet Stockage/Base de données. Veillez à cliquer sur Mettre à jour pour enregistrer votre modification. </li><li>Dans l'onglet Sources du journal, vérifiez que le ou les fichiers journaux à retraiter sont bien spécifiés. Les données de journal doivent contenir uniquement des appels de fichier correspondant aux dates dont vous souhaitez réinitialiser les statistiques. </li><li>Ouvrez un interpréteur de commande sur le système Urchin et saisissez la commande suivante :  </li></ul><p class="line867"><pre>cd /&lt;URCHIN_DIR&gt;/util
</pre><ul><li>Exécutez l'utilitaire udb-sanitizer dans le répertoire/dossier 'util' de votre distribution Urchin avec la commande </li></ul><p class="line867"><pre>udb-sanitizer -p profile-name -d YYYYMM 
</pre><ul><li style="list-style-type:none">où YYYYMM correspond à l'année et au mois du jour à retraiter. </li></ul><ul><li><p class="line862">Sélectionnez l'option 5, afin de réinitialiser un ou plusieurs jours. L'utilitaire vous demande alors de préciser le jour, puis supprime les statistiques correspondantes. Vous trouverez des exemples d'utilisation de udb-sanitizer dans la rubrique udb-sanitizer : Maintenance de la base de données. </li><li>Cliquez sur le bouton Exécuter de l'onglet Exécuter/Planifier afin que le profil retraite les données du journal. </li><li>Modifiez la Source du journal en rétablissant le paramètre initial de l'option Chemin d'accès au fichier journal. </li><li>Dans la zone de modification du profil, onglet Stockage/Base de données, activez le Suivi du journal. </li></ul><p class="line867"><strong>Retraitement d'un mois entier</strong> <p class="line862">Qu'il s'agisse d'un mois de données ou d'un seul jour, la procédure de retraitement est identique. Seules les options à sélectionner dans udb-sanitizer diffèrent. Vous trouverez des exemples dans la rubrique udb-sanitizer : Maintenance de la base de données. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>