<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Paramètres de la base de données de création de rapports Urchin</strong> <p class="line874">(Date de révision : 16 décembre 2008) <p class="line867"><strong>Présentation</strong> <p class="line874">Urchin propose deux options pour gérer l'évolutivité et la précision de la base de données de création de rapports : <p class="line867"><strong>Nombre maximum d'enregistrements par table</strong> <p class="line862">Cette option permet d'exploiter les données de sites de grande taille dans des limites raisonnables. Elle est utile pour limiter le nombre d'enregistrements dans une seule table de base de données de création de rapports Urchin. L'option par défaut convient pour la plupart des installations. Si, pour un mois donné, le nombre d'enregistrements dans une table est supérieur à cette limite, l'excédent des enregistrements est consolidé dans le dernier enregistrement (intitulé <em>Autres</em>). Par conséquent, plus la table est volumineuse, plus les données de rapports sont précises. <p class="line862">Lorsqu'un rapport Urchin compte un pourcentage élevé d'entrées intitulées <strong>Autres</strong>, il est recommandé d'augmenter le nombre maximum d'enregistrements par table pour garantir une plus grande précision. <p class="line867"><strong>Cible d'utilisation de la mémoire</strong> <p class="line874">Pour limiter le volume de mémoire allouée au traitement du journal, Urchin propose cette option permettant de définir la limite supérieure de la taille de la mémoire pour la base de données de création de rapports. Pour les sites de grande taille, l'augmentation de l'empreinte mémoire peut accroître les performances puisque le besoin en fichier d'échange sera réduit. Le paramètre par défaut correspond à une valeur convenant à l'ensemble des installations. Vous pouvez augmenter cette valeur si la mémoire physique du système le permet. <p class="line867"><strong>Paramètres du test</strong> <p class="line874">Urchin prend actuellement en charge les valeurs maximales suivantes pour les paramètres de base de données de création de rapports : <p class="line862">Nombre maximum d'enregistrements par table             :    &lt;= 500 000 enregistrements <p class="line862">Cible d'utilisation de la mémoire  :    &lt;= 1024 Mo <p class="line862">À partir de la version 6.5, Urchin peut prendre en charge des valeurs étendues pour ces paramètres. Cette possibilité ne doit être envisagée que par des _<strong>utilisateurs Urchin expérimentés</strong><span class="u">. Ces valeurs étendues n'apparaissent pas sur l'interface d'administration et doivent être définies dans la base de données de configuration. Voici les valeurs maximales pour les paramètres de base de données de création de rapports étendus dans Urchin 6.5 : <p class="line862">Nombre maximum d'enregistrements par table             :    &lt;= 2 000 000 d'enregistrements <p class="line862">Cible d'utilisation de la mémoire   :    &lt;= 2 Go <strong> </strong> <p class="line867"><strong>Consignes pour définir les paramètres du test</strong> <ul><li style="list-style-type:none"><p class="line862">Ces paramètres étendus sont proposés à des fins de test et peuvent entraîner des erreurs de type <strong>Mémoire insuffisante</strong> sur certains systèmes. Il est par conséquent important de prendre en compte les informations et les consignes suivantes avant d'utiliser de tels paramètres. </span></li><li>Chaque application 32 bits dispose habituellement d'un espace d'adresse virtuelle de 4 giga-octets (Go), comprenant l'espace d'adresse utilisateur et l'espace d'adresse noyau. Les processus utilisateur ne peuvent allouer de la mémoire que dans l'espace d'adresse utilisateur. </li><li><p class="line891"><em><strong>Plate-forme Windows :</strong></em> 2 Go disponibles pour l'application utilisateur et 2 Go disponibles pour le noyau. windows OS permet d'étendre l'espace utilisateur à 3 Go via <a class="http" href="http://msdn.microsoft.com/en-us/library/bb613473(VS.85).aspx">– réglage 4 giga-octets</a>, mais les processus Urchin ne prévoient pas un cas de figure aussi improbable et sont donc compilés/associés avec des limites égales à 2 Go. Il est par conséquent recommandé, sous windows OS, de ne pas définir de nombre maximum d'enregistrements par table supérieur à </span><strong>500 000</strong><span class="u"> et de limiter la cible d'utilisation de la mémoire à </span><strong>1 Go</strong><span class="u">. <ul><li><p class="line862">Pour des </span><em>performances</em><span class="u"> optimales, définissez les valeurs suivantes : <ul><li><p class="line862">Cible d'utilisation de la mémoire : </span><strong>1 024 Mo</strong><span class="u"> </span></li><li><p class="line862">Nombre maximum d'enregistrements par table : </span><strong>500 000</strong><span class="u"> lignes de table de base de données </span></li></ul></li><li><p class="line862">Pour une <em></span>précision<span class="u"></em> optimale, définissez les valeurs suivantes : <ul><li><p class="line862">Cible d'utilisation de la mémoire : </span><strong>256</strong><span class="u"> Mo </span></li><li><p class="line862">Nombre maximum d'enregistrements par table : </span><strong>1 000 000</strong><span class="u"> de lignes de table de base de données </span></li></ul></li></ul></li><li><p class="line891"><em><strong>Plates-formes Unix :</strong><strong></strong></em> 3 Go disponibles pour l'application utilisateur et l'autre Go disponible pour le noyau. Il est par conséquent recommandé, sous UNIX, de ne pas définir de nombre maximum d'enregistrements par table supérieur à </span><strong>500 000</strong><span class="u"> et de limiter la cible d'utilisation de la mémoire à </span><strong>2 Go</strong><span class="u">. <ul><li><p class="line862">Pour des </span><em>performances</em><span class="u"> optimales, définissez les valeurs suivantes : <ul><li><p class="line862">Cible d'utilisation de la mémoire : </span><strong>2 048</strong><span class="u"> Mo </span></li><li><p class="line862">Nombre maximum d'enregistrements par table : <strong></span>500 000<span class="u"></strong> lignes de table de base de données </span></li></ul></li><li><p class="line862">Pour une <em></span>précision<span class="u"></em> optimale, définissez les valeurs suivantes : <ul><li><p class="line862">Cible d'utilisation de la mémoire : </span><strong>1 024</strong><span class="u"> Mo </span></li><li><p class="line862">Nombre maximum d'enregistrements par table : <strong></span>2 000 000<span class="u"></strong> de lignes de table de base de données </span></li></ul></li></ul></li></ul><p class="line867"><strong>Configuration </strong><strong> 'du nombre maximum d'enregistrements par table</strong><strong>' étendu </strong> <p class="line874">De manière similaire à la valeur 'Nombre maximum d'enregistrements par table', il est possible de configurer ces valeurs étendues pour les appliquer à des profils individuels ou pour une utilisation globale. La requête suivante va définir le paramètre "Nombre maximum d'enregistrements par table" sur 1 000 000 d'enregistrements pour un profil dont l'identifiant est '1'. <p class="line867"><pre>UPDATE uprofiles SET uipr_db_table_limit=1000000 WHERE uspr_id=1;
</pre><p class="line874">La requête suivante va définir le paramètre "Nombre maximum d'enregistrements par table" sur 1 000 000 d'enregistrements. Ce paramètre sera appliqué à tous les profils dont la valeur du champ uipr_db_table_limit est égale à 0. <p class="line867"><pre>UPDATE uglobals SET uigl_db_table_limit=1000000 WHERE ucgl_name='Global Settings';
</pre><p class="line867"><strong>Configuration 'du nombre maximum d'enregistrements par table</strong><strong>' étendu </strong> <p class="line874">Le paramètre "Cible d'utilisation de la mémoire" ne peut être utilisé que globalement. <p class="line874">Il est appliqué automatiquement aux profils lorsque le paramètre "Utilisation de la mémoire de la base de données" est défini sur 'Limiter avec un système cache' (ou lorsque le champ de base de données 'ubpr_limit_db_cache_size' est défini sur 1). <p class="line874">La requête suivante va définir globalement le paramètre "Cible d'utilisation de la mémoire" sur la valeur 2 Go. Le champ de base de données interprète le nombre en 'méga-octets' (512 = 512 Mo). <p class="line867"><pre>UPDATE uglobals SET uigl_db_cache_size=2048 WHERE ucgl_name='Global Settings';
</pre></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>