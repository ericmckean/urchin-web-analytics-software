<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Riduzione dell'archiviazione su disco per i database mensili dei profili Urchin</strong> <p class="line867"><strong>Panoramica</strong> <p class="line874">I dati dei rapporti di Urchin vengono archiviati in database mensili indipendenti per ciascun profilo configurato in Urchin. I database si trovano in genere nella directory dei dati/rapporti della distribuzione Urchin. Per impostazione predefinita, Urchin conserva un numero illimitato di database. Per i siti di piccole e medie dimensioni, i requisiti di archiviazione sono limitati. Poiché i rapporti di Urchin dopo l'elaborazione non richiedono accesso ai log non elaborati del server web, non è necessario conservare tali log. I database mensili elaborati di Urchin rappresentano circa il 5-10% delle dimensioni dei log non elaborati del server web che sono stati utilizzati per popolare i database di Urchin, e nella maggior parte dei casi questa percentuale rappresenta uno spazio su disco minimo anche se tutti i database di Urchin vengono conservati a tempo indefinito. <p class="line874">Tuttavia, per i siti di grandi dimensioni che producono centinaia di migliaia di megabyte di log di server web ogni giorno, o per i provider di hosting che dispongono di un numero molto elevato di profili configurati, può essere opportuno ridurre i requisiti di archiviazione continua di Urchin. Questa operazione può essere eseguita in uno dei seguenti modi: <ol type="1"><li>Impostare il profilo in modo che elimini i dati di monitoraggio non elaborati dopo l'elaborazione dei log. </li><li>Impostare il profilo in modo che archivi i dati storici. </li><li>Limitare il numero di mesi per i quali i dati dei rapporti storici vengono conservati.  </li></ol><p class="line874">Le istruzioni relative a ciascuno di questi metodi vengono fornite alla fine di questo articolo. <p class="line867"><strong>Panoramica tecnica sull'archiviazione dei database di Urchin</strong> <p class="line874">Per ciascun profilo Urchin, Urchin conserva un insieme di file di database archiviati in directory denominate AAAAMM. Ciascuna directory contiene circa 50 file che forniscono dati per il motore rapporti. I file della directory e dei database vengono denominati in base al mese di archiviazione dei dati. L'elenco completo dei database è il seguente: <p class="line862">AAAAMM-uhed --&gt; intestazione del database <p class="line862">AAAAMM-usti --&gt; indice delle stringhe <p class="line862">AAAAMM-ustd --&gt; dati stringa <p class="line862">AAAAMM-udai --&gt; indice delle tabelle aggregate <p class="line862">AAAAMM-udXX --&gt; tabelle dati aggregate (XX viene sostituito dal numero della tabella proveniente dalla mappa dati) <p class="line862">AAAAMM-uvii --&gt; indice dei visitatori <p class="line862">AAAAMM-uvid --&gt; dati relativi ai visitatori <p class="line862">AAAAMM-used --&gt; dati di sessione <p class="line862">AAAAMM-upad --&gt; dati di percorso <p class="line862">AAAAMM-utrd --&gt; dati sulle transazioni (Ecommerce) <p class="line862">AAAAMM-uitd --&gt; dati sugli elementi (Ecommerce) <p class="line862">AAAAMM-ulti --&gt; indice di monitoraggio log <p class="line862">AAAAMM-ultd --&gt; dati sul monitoraggio log <p class="line862">AAAAMM-utod --&gt; dati sui totali <p class="line862">AAAAMM-uhid --&gt; dati sugli istogrammi <p class="line862">AAAAMM-umad --&gt; dati sulle matrici dei visitatori <p class="line874">Ciascun insieme di database è completo rispetto al mese di dati che contiene. Poiché non esiste interdipendenza tra gli insiemi di database mensili, è possibile eseguire operazioni di archiviazione ed eliminazione in modo indipendente in ciascun insieme senza influire sugli altri mesi. <p class="line874">In condizioni di funzionamento normale, l'intero insieme di file di database mensili viene conservato per ogni mese. Tuttavia, quattro di questi file di database vengono utilizzati solo dal motore di elaborazione log di Urchin. Si tratta dei file seguenti: <p class="line874">AAAAMM-usti  <p class="line874">AAAAMM-udai  <p class="line874">AAAAMM-ulti <p class="line874">AAAAMM-ultd <p class="line874">I seguenti file di database vengono utilizzati dal motore di elaborazione log di Urchin, oltre che per la segmentazione incrociata e per i dettagli sui visitatori nei rapporti.  La rimozione del contenuto ha effetto solo su tali funzioni dei rapporti. <p class="line874">AAAAMM-uvii  <p class="line874">AAAAMM-uvid  <p class="line874">AAAAMM-used  <p class="line874">AAAAMM-upad  <p class="line874">AAAAMM-utrd  <p class="line874">AAAAMM-uitd  <p class="line874">Questi database contengono informazioni su visitatori, sessioni, percorsi, transazioni e prodotti e possono occupare una percentuale sostanziale dello spazio di archiviazione totale richiesto per il mese, nell'ordine del 10-50%. Può quindi rappresentare un vantaggio significativo in termini di spazio su disco la disattivazione dell'opzione Mantieni dati di monitoraggio non elaborati nella schermata Memorizzazione/DB di configurazione del profilo. <p class="line874">È consigliabile che questa opzione venga disattivata solo dai siti caratterizzati da un traffico estremamente intenso per i quali il mantenimento dei dati di monitoraggio non elaborati rappresenta un problema di utilizzo delle risorse del disco o della CPU. <p class="line874">È possibile ottenere un potenziale risparmio di spazio su disco anche comprimendo i database mensili storici di Urchin in archivi ZIP. Gli archivi così ottenuti rappresentano in genere solo il 20-30% delle dimensioni dell'insieme dei database non compressi. Anche se il motore rapporti di Urchin non può leggere direttamente gli archivi ZIP, è in grado di estrarre istantaneamente i database necessari dagli archivi ZIP. Ciò avviene in modo completamente trasparente per una persona che legge i rapporti Urchin, a parte un leggero ritardo durante lo spacchettamento dei database. Il motore rapporti non rimuove i database spacchettati; ciò consente un accesso più rapido ai dati durante la visualizzazione dei rapporti Urchin. Tuttavia, poiché l'archivio ZIP originale non viene eliminato, è possibile eseguire una semplice operazione di pulizia periodica per rimuovere i database non spacchettati e riguadagnare lo spazio su disco. <p class="line874">L'ultima opzione per ridurre i requisiti di archiviazione di Urchin consiste nello stabilire delle norme per la durata dei rapporti storici forniti da Urchin. Ad esempio, negli ambienti in cui Urchin viene fornito come servizio per i rapporti con un pacchetto di hosting, è molto comune fornire a Urchin i dati storici per un anno. Grazie all'organizzazione mensile dei database di Urchin, è molto semplice per i meccanismi di script automatici rimuovere automaticamente i vecchi database mensili che hanno superato una determinata soglia di durata. Quando le norme sulla lunghezza dei rapporti storici vengono implementate, i requisiti di archiviazione dei dati di Urchin in genere si stabilizzano o aumentano leggermente una volta che il limite di mantenimento storico è stato raggiunto. <p class="line867"><strong>Metodi per ridurre l'archiviazione dei dati: procedure</strong> <p class="line867"><strong>Metodo 1: eliminazione dei dati di monitoraggio non elaborati dopo l'elaborazione log</strong> <p class="line874">Puoi configurare il profilo in modo che elimini i dati non elaborati su sessioni e visitatori dopo l'elaborazione. Per i siti di grandi dimensioni, ciò consente di migliorare le prestazioni e ridurre la quantità di dati archiviati. Tieni presente che quando questa configurazione è selezionata, le sessioni che coprono due giorni vengono visualizzate come due sessioni (una per ciascun giorno) anziché una. La differenza nei risultati è trascurabile per la maggior parte dei siti. <p class="line874">Per configurare il profilo in modo che elimini i dati non elaborati su sessioni e visitatori dopo l'elaborazione, procedi nel seguente modo: <ol type="1"><li><p class="line862">Nell'interfaccia di amministrazione, fai clic su Configurazione, quindi su Profili Urchin--&gt;Profili. </li><li>Modifica il profilo desiderato. </li><li>Nella scheda Memorizzazione/DB, disattiva il campo Mantieni dati di monitoraggio non elaborati. </li><li>Fai clic su Aggiorna.  </li></ol><p class="line867"><strong>Metodo 2: archiviazione automatica dei dati storici</strong> <p class="line874">Puoi configurare il profilo in modo che comprimi i dati mensili storici in un archivio. I rapporti possono accedere ai dati archiviati, ma non è possibile elaborare nessun altro hit per i mesi archiviati. <p class="line874">Per configurare il profilo in modo che archivi i dati storici, procedi nel seguente modo: <ol type="1"><li><p class="line862">Nell'interfaccia di amministrazione, fai clic su Configurazione, quindi su Profili Urchin--&gt;Profili. </li><li>Modifica il profilo desiderato. </li><li>Nella scheda Memorizzazione/DB, attiva il campo Archivia DB. </li><li>Specifica un numero di mesi nel campo Archivia DB dopo. </li><li>Fai clic su Aggiorna.  </li></ol><p class="line867"><strong>Metodo 3: mantenimento dei limiti dei database per i rapporti storici</strong> <p class="line874">Per ciascun profilo Urchin, rimuovi semplicemente tutti i database dalla directory data/reports/nome-profilo che iniziano con il prefisso AAAAMM che hanno superato la soglia di durata necessaria per i rapporti storici. Ad esempio, se desideri mantenere la cronologia dei rapporti per un anno e il mese corrente è febbraio 2004, rimuovi i database denominati 200301-*data.un* per eliminare i dati dei rapporti a partire da gennaio 2003 per il profilo Urchin selezionato. Ripetere l'operazione per tutti i database precedenti a gennaio 2003. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>