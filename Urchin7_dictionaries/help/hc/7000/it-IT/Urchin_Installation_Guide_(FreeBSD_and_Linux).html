<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Guida all'installazione di Urchin 6 (FreeBSD e Linux)</strong> <ul><li style="list-style-type:none"><p class="line862">"Articolo di <em> <a href="EpikOne.html">EpikOne</a>", partner autorizzato del software Urchin </em> </li></ul><p class="line867"><strong>Prima di iniziare. Nota importante per gli utenti di Urchin 6.500</strong> <p class="line862">In Urchin 6.501 sono stati corretti diversi errori del programma di pianificazione CPC. Se desideri eseguire l'upgrade da Urchin 6.500 a Urchin 6.601, i dati CPC elaborati potrebbero essere non corretti o incompleti e generare pertanto risultati falsati nei rapporti di Urchin. Per acquisire dati corretti da Google AdWords, è consigliabile (a) installare Urchin 6.601 in un nuovo percorso oppure (b) se desideri eseguire l'installazione con un'istanza esistente della versione 6.500, è consigliabile eliminare i vecchi dati CPC. In quest'ultimo caso, elimina tutti i contenuti delle seguenti directory: <p class="line867"><pre>&lt;path_to_urchin_6500_installation&gt;/data/cpc/...
&lt;path_to_urchin_6500_installation&gt;/data/history/cpc/...
</pre><p class="line874">Non è necessaria alcuna azione se esegui l'upgrade da Urchin 6.600, da Urchin 6.501 o da Urchin 6.402 e versioni precedenti. <p class="line867"><strong>Prima di iniziare. Nota importante per gli utenti di FreeBSD</strong> <ul><li>La codifica hardware di FreeBSD fornisce una capacità di elaborazione massima di 500 MB che risulta di dimensioni insufficienti a consentire l'esecuzione di Urchin a causa delle dimensioni dei dati geografici che devono essere residenti in memoria durante l'elaborazione dei log. Viene visualizzato il seguente errore di runtime: </li></ul><p class="line867"><pre>ERRORE: (8011-323-1057) Impossibile allocare la memoria
</pre><ul><li style="list-style-type:none">Per risolvere questo problema, è necessario incrementare la capacità di elaborazione dati del sistema FreeBSD, aggiungendo al file /boot/loader.conf le seguenti righe: </li></ul><p class="line867"><pre># Increase max process data segment size to 1GB
kern.maxdsiz="1073741824"
</pre><ul><li style="list-style-type:none">Al termine, riavvia il computer. </li><li>FreeBSD dispone di un driver speciale denominato accf_http. Tale driver esegue il buffering delle connessioni in ingresso fino all'arrivo di determinate richieste HTTP complete, per consentire una maggiore velocità e l'ottimizzazione delle prestazioni. Per impostazione predefinita, questo driver non è caricato nel kernel e viene visualizzato il seguente avviso: </li></ul><p class="line867"><pre>[warn] (2)No such file or directory: Failed to enable the ‘httpready’ Accept Filter
</pre><ul><li style="list-style-type:none">Per evitare questo problema, è necessario attivare il modulo del kernel di FreeBSD HTTP Accept Filter, aggiungendo al file /boot/loader.conf le seguenti righe: </li></ul><p class="line867"><pre># Wait for full HTTP request accept filter
accf_http_load="YES"
</pre><ul><li style="list-style-type:none">Al termine, riavvia il computer. </li></ul><p class="line867"><strong>ATTENZIONE</strong> Fai molta attenzione quando modifichi i limiti del sistema. Se imposti  dimensioni eccessive per kern.maxdsiz, il sistema potrebbe non riavviarsi. Si <strong>consiglia</strong> di consultare la documentazione di FreeBSD prima di apportare questa modifica e valutare i potenziali rischi applicabili alla configurazione specifica del sito. <p class="line867"><strong>Panoramica dell'installazione</strong> <ul><li>Installazione del server del database desiderato nel sistema Urchin oppure aggiunta di un database Urchin a un server esistente. Al momento, vengono supportati i seguenti motori database: <ul><li>MySQL 5.0.3 o versioni successive. Nota. A partire da Urchin 6.6, MySQL 4.x.x non è più supportato. </li><li>PostgreSQL 8.2.5 o versioni successive. </li></ul></li><li>Creazione di utente e database Urchin nel server del database e assegnazione delle autorizzazioni di accesso </li><li>Spacchettamento della distribuzione Urchin in una directory temporanea. </li><li>Esecuzione dello script install.sh. </li><li>Procedura di licenza per l'installazione di Urchin. </li></ul><p class="line867"><strong>Opzione 1: utilizzo di MySQL con Urchin</strong> <ul><li><p class="line862">Se non hai ancora installato un server MySQL, puoi farlo accedendo alla pagina <a class="http" href="http://dev.mysql.com/downloads/">http://dev.mysql.com/downloads/</a>. </li><li>Installa il server MySQL seguendo le istruzioni fornite sul sito MySQL. </li><li>Assicurati di disporre del login (ad es. root) e della password amministratore del database MySQL. </li><li>Scegli il nome del database, la password e l'utente MySQL locale da utilizzare con Urchin. Salva queste informazioni che dovranno essere utilizzate successivamente, durante l'installazione di Urchin. Nel seguente esempio viene creato il database "urchin", il nome utente MySQL "urchin" e la password "urchinpassword" (che ovviamente dovrà essere sostituita da una password personalizzata). </li><li>Crea il database, l'utente e le autorizzazioni Urchin con i seguenti comandi: </li></ul><p class="line867"><pre>root@yourserver# mysql -u root -p
mysql&gt; create database urchin character set utf8;
mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY 'urchinpassword';
</pre><ul><li>Determina il percorso del socket MySQL per comunicare con il server MySQL. Spesso è possibile verificarlo nel file my.cnf dell'installazione MySQL, in una riga simile a quanto segue: socket=/var/lib/mysql/mysql.sock. </li></ul><p class="line867"><strong>Opzione 2: utilizzo di PostgreSQL con Urchin</strong> <ul><li><p class="line862">Se non hai ancora installato un server PostgreSQL nel sistema, puoi farlo accedendo alla pagina <a class="http" href="http://www.postgresql.org">http://www.postgresql.org</a>. </li><li>Installa il server PostgreSQL seguendo le istruzioni fornite sul sito PostgreSQL. </li><li>Assicurati di avere specificato il comando psql nel percorso e di disporre del login (ad es. pgsql) e della password amministratore del database PostgreSQL. </li><li>Scegli il nome del database, la password e l'utente PostgreSQL locale da utilizzare con Urchin. Salva queste informazioni che dovranno essere utilizzate successivamente, durante l'installazione di Urchin. Nel seguente esempio viene creato il database "urchin", il nome utente PostgreSQL "urchin" e la password "urchinpass" (che ovviamente dovrà essere sostituita da una password personalizzata). </li><li>Crea il database, l'utente e le autorizzazioni Urchin con i seguenti comandi: </li></ul><p class="line867"><pre>root@yourserver# psql -U pgsql -d postgres
postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
postgres=# CREATE USER urchin WITH PASSWORD 'urchinpass';
postgres=# GRANT ALL ON DATABASE urchin TO urchin;
postgres=# \connect urchin;
postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>Installazione di Urchin</strong> <ul><li>Assicurati di disporre di nome del database, nome utente e password Urchin selezionati in precedenza. </li><li>Crea una directory temporanea e spacchetta la distribuzione Urchin al suo interno: </li></ul><p class="line867"><pre>mkdir /var/tmp/urchintemp
cd /var/tmp/urchintemp
tar xzvf urchin6601_&lt;platform&gt;_installer.tar.gz
</pre><p class="line867"><strong>Importante.</strong> Per eseguire correttamente l'installazione, verifica che sul computer di destinazione non siano presenti istanze attive di Urchin 6. Disattiva la versione di Urchin 6 in uso con il seguente comando: <p class="line867"><pre>/path/to/urchin6/bin/urchinctl stop
</pre><ul><li>Se hai bisogno di eseguire più istanze di Urchin 6 nello stesso computer, queste devono (1) essere installate in ubicazioni diverse, (2) disporre di porte server web diverse e (3) essere connesse a database diversi. </li><li>Urchin copia tutti i file necessari nelle cartelle di destinazione e sovrascrive i file esistenti. Per mantenere inalterate le personalizzazioni in uso, devi installare Urchin 6 in un'altra directory o rinominare la directory di installazione esistente. </li><li>Puoi reinstallare Urchin 6.601 da zero o eseguire l'upgrade di una versione esistente di Urchin 6. <ul><li>Per la nuova installazione, Urchin richiede all'utente tutti i parametri di configurazione, quali la porta del server web, le impostazioni di configurazione del db e altri. Per l'upgrade, Urchin riutilizza la configurazione dell'istanza Urchin 6 esistente. </li><li>Urchin 6.601 può essere utilizzato esclusivamente per eseguire l'upgrade di alcune versioni precedenti di Urchin 6, in particolare: <ul><li>Urchin 6.6 - Versione in inglese       : Versione 6.600 </li><li>Urchin 6.5 - Service Pack 2            :   Versione 6.501 </li><li>Urchin 6.5                             :   Versione 6.500 (vedere la nota importante riportata in precedenza) </li><li>Urchin 6 - Service Pack 1         :   Versione 6.402 </li><li>Urchin 6 - Versione internazionale:   Versione 6.401 </li><li>Urchin 6 - Versione in inglese         :   Versione 6.400 </li></ul></li><li>Durante la nuova installazione, Urchin richiede di inizializzare le tabelle del database. Per mantenere una configurazione del DB esistente, seleziona "No". In questo caso, sebbene Urchin mantenga la configurazione esistente (non ricreando le tabelle esistenti), potrebbe dover creare colonne o tabelle aggiuntive nelle tabelle esistenti. </li></ul></li><li>Esegui ora il programma di installazione di Urchin. Puoi eseguirlo in maniera interattiva e seguire le istruzioni digitando: </li></ul><p class="line867"><pre>./install.sh
</pre><p class="line874">oppure puoi eseguire un'installazione completa direttamente dalla riga di comando, specificando tutti i parametri necessari. Per ottenere un elenco dei parametri della riga di comando, digita: <p class="line867"><pre>./install.sh -h
</pre><ul><li>Una volta completata l'installazione, una versione di Urchin sarà in esecuzione sul sistema. Per completare l'installazione, utilizza il tuo browser web per visualizzare il seguente URL: </li></ul><p class="line867"><pre>http://yourserver:&lt;port&gt;
</pre><p class="line862">dove &lt;port&gt; rappresenta la porta di rete che hai scelto durante l'installazione (l'impostazione predefinita è 9999). <ul><li>Se desideri ripristinare i dati dei rapporti del profilo di una precedente versione di Urchin 6, copia le directory dei rapporti, della cronologia e dei CPC esistenti da /path/to/old-urchin6/data/ nella nuova directory /path/to/new-urchin6/data/. </li><li>Fai clic sul link Richiedi licenza demo e segui la procedura per attivare Urchin ed eseguire i passaggi iniziali di installazione. </li></ul><p class="line867"><strong>Configurazione del monitoraggio</strong> <p class="line874">Una volta installato Urchin, possono essere richiesti ulteriori passaggi per impostare il monitoraggio sul tuo  sito web, in base ai casi di utilizzo. <p class="line867"><strong>Caso 1. Utilizzo di Urchin con monitoraggio IP+User-Agent</strong> <p class="line874">Non è necessaria alcuna configurazione aggiuntiva. Quando aggiungi profili a Urchin, assicurati di specificare IP+User-Agent come metodo di monitoraggio dei visitatori. <p class="line867"><strong>Caso 2. Utilizzo di Urchin con monitoraggio UTM</strong> <p class="line862">Per utilizzare Urchin con il monitoraggio UTM, è necessario installare una porzione di codice di monitoraggio JavaScript in ogni pagina del tuo sito web. La procedura è la seguente: <ul><li><p class="line862">Copia i file urchin.js e <tt class="backtick">__</tt>utm.gif dalla directory util/utm della distribuzione Urchin alla root dei documenti del tuo sito web (ad esempio, la directory di livello superiore del tuo contenuto). </li><li>In ogni pagina del sito web, inserisci, subito dopo i META tag nella sezione HEAD, il seguente codice di monitoraggio: </li></ul><p class="line867"><pre>&lt;script src="/urchin.js" type="text/javascript"&gt;
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  _userv=0;
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Quando aggiungi profili a Urchin, assicurati di specificare UTM (Urchin Traffic Monitor) come metodo di monitoraggio dei visitatori. </li></ul><p class="line867"><strong>Caso 3. Utilizzo concomitante di Urchin e Google Analytics</strong> <p class="line874">Tieni presente che le nuove funzioni di monitoraggio del codice di monitoraggio "ga.js" di Google Analytics non sono retrocompatibili con Urchin 6. Se desideri monitorare il sito web utilizzando sia Google Analytics, sia il software Urchin, per ottimizzare le prestazioni ti consigliamo di utilizzare il codice di monitoraggio urchin.js. Se scegli di utilizzare ga.js, non sarai abilitato all'uso delle nuove funzioni di monitoraggio ga.js. <p class="line874">Per utilizzare Urchin con un sito web che viene già monitorato da Google Analytics, è necessario apportare solo una modifica di lieve entità al codice di monitoraggio esistente di Google Analytics. La procedura è la seguente: <ul><li><p class="line862">Copia solo il file <tt class="backtick">__</tt>utm.gif dalla directory util/utm della distribuzione Urchin alla root dei documenti del tuo sito web (ad esempio, la directory di livello superiore del tuo contenuto). </li><li><p class="line862">Aggiungi la riga <tt>_userv=2;</tt>, come indicato di seguito, al codice di monitoraggio esistente nelle pagine del tuo sito web. Non modificare altre parti del codice di monitoraggio esistente. </li></ul><p class="line867"><pre>&lt;script src="http://www.google-analytics.com/urchin.js"
type="text/javascript"&gt;
&lt;script type="text/javascript"&gt;
  _userv=2;
  _uacct="UA-XXXXXXX-Y";
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Quando aggiungi profili a Urchin, assicurati di specificare UTM (Urchin Traffic Monitor) come metodo di monitoraggio dei visitatori </li></ul></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>