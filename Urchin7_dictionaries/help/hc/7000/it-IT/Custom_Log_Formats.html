<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Formati log personalizzati</strong> <p class="line867"><strong>Introduzione</strong> <p class="line874">Urchin può elaborare praticamente qualsiasi formato di file di log. Fornendo a Urchin le informazioni necessarie sul formato log, Urchin legge e analizza i dati non elaborati in base alla tua configurazione. Questo articolo descrive in modo dettagliato come creare formati log personalizzati. Una volta creato, il formato personalizzato può essere selezionato nell'interfaccia di amministrazione come formato da utilizzare per tutti i file di log. <p class="line874">Tieni presente che per creare determinati rapporti sono necessari dati di log specifici. Per consentire a Urchin di elaborare il log è necessario assicurarsi che tale log contenga i campi minimi obbligatori. Se hai dubbi, consulta il documento Log Files - Logging - Other Webservers nella sezione relativa all'amministrazione di Urchin nel Centro documentazione. <p class="line867"><strong>Creazione di formati personalizzati</strong> <p class="line874">Per creare un formato log personalizzato, è necessario creare un file di specifica del formato nella cartella <p class="line867"><pre>   urchin install dir]/lib/custom/logformats/
</pre><ul><li style="list-style-type:none">Viene fornito un file di esempio denominato 'custom.lf'. È possibile creare più file personalizzati, ciascuno dei quali deve avere l'estensione '.lf' per essere riconosciuto da Urchin. I formati log incorporati, quali apache, w3c, netscape ecc., si trovano nel seguente percorso: </li></ul><p class="line867"><pre>   urchin install dir]/lib/reporting/logformats/
</pre><p class="line874">In ciascuna directory è riportato un elenco di campi disponibili nel file fieldlist.txt. La cartella personalizzata contiene l'elenco dei campi personalizzati mentre la cartella dei rapporti contiene l'elenco dei campi standard. I formati log personalizzati possono fare riferimento a campi inclusi indifferentemente in uno degli elenchi utilizzando i numeri id dei campi. Una volta creato il formato personalizzato, quest'ultimo diventa disponibile per la selezione nell'interfaccia di amministrazione. Di seguito sono riportati i passaggi di base per la creazione di un formato personalizzato. <p class="line867"><strong>Passaggio 1: copiare l'esempio.</strong> Nella cartella 'lib/custom/logformats' della distribuzione Urchin, esegui una copia del file 'custom.lf'. Il nuovo nome file non può contenere spazi e deve avere l'estensione '.lf'. <p class="line867"><strong>Passaggio 2: impostare le posizioni principali.</strong> Modifica il file creato nel passaggio precedente. Il file contiene molte informazioni utili su ciascuna variabile. Il primo passaggio consiste nell'impostare la variabile "PrimaryPositions". Questo elenco di valori separati da virgola identifica ciascun campo (in base al numero id) del formato log e la relativa posizione. Per determinare gli id dei campi da utilizzare, utilizza i file fieldlist.txt nelle due directory sopra indicate. Se hai dei formati di data e ora personalizzati diversi dai formati di Apache e IIS, utilizza i campi 16 e 17 rispettivamente. Se la data e l'ora si trovano in un unico campo, utilizza solo il campo 16. <p class="line867"><strong>Passaggio 3: controllare il separatore di campi.</strong> Controlla la variabile "FieldSeparator1" e impostala sul separatore utilizzato tra i campi. Utilizza \s per lo spazio e \t per la tabulazione. <p class="line867"><strong>Passaggio 4: il campo dello stato HTTP è disponibile?</strong> Se il campo è disponibile, lascia la variabile "StatusRequired" impostata su YES. Questo consente di separare correttamente gli hit validi da quelli di errore. Se lo stato non è disponibile nel log, imposta questa variabile su NO, in modo che tutti gli hit vengano considerati validi. <p class="line867"><strong>Passaggio 5: stai utilizzando un formato data/ora personalizzato?</strong> Se la risposta è affermativa, modifica "CustomDateFormat" per il campo 16 e "CustomTimeFormat" per il campo 17. Per specificare il formato, utilizza le variabili % definite in <a href="Time_Formats.html">Formati di data/ora personalizzati</a>. <p class="line867"><strong>Passaggio 6: controllare le altre variabili.</strong> La maggior parte delle altre variabili può essere utilizzata per gran parte dei formati log personalizzati, ma controlla i commenti forniti nel file di ciascuna variabile per verificare se si applica alla tua situazione. <p class="line867"><strong>Passaggio 7: disponi di campi calcolati personalizzati?</strong> Oltre al formato, puoi specificare campi calcolati personalizzati nel file delle specifiche. In fondo al file viene fornito un esempio con i commenti. Un campo calcolato personalizzato funziona in modo analogo al filtro avanzato descritto nella sezione sui filtri, ma i campi calcolati personalizzati vengono elaborati per primi. Per ulteriori informazioni, consulta l'articolo sui campi calcolati personalizzati. <p class="line874">Salva il file. A questo punto sei pronto per assegnarlo come formato a un file di log nell'interfaccia amministrativa. Verrà automaticamente visualizzato come una delle opzioni di formato nel menu a discesa dei formati log. </div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>