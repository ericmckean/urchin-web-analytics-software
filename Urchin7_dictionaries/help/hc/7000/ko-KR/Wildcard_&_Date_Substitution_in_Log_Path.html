<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>로그 경로에서 와일드카드 및 날짜 대체</strong> <p class="line867"><strong>개요</strong> <p class="line874">Urchin에서는 로그 파일의 경로에 와일드카드 및 날짜 일치 변수를 지정할 수 있습니다.Urchin 작업이 실행되어 로그 경로를 읽을 때, 이러한 변수가 변환되어 시스템에서 있는 디렉토리 및 파일 이름과 비교됩니다. <p class="line874">Urchin 6의 날짜 일치 기능은 이전 버전의 Urchin에서 제공되는 것보다 향상되었습니다. 다음은 일부 향상된 사항입니다. <ul><li>로그 파일의 경로 이름에서 언제라도 날짜를 바꿀 수 있습니다. 이전 버전의 Urchin에서는 실제 파일 이름 지정에서만 바꿀 수 있었습니다. </li><li>보다 뛰어나고 유연한 데이터 패턴 일치 알고리즘이 구현되었습니다. 하지만 역호환성을 위해 이전 YYYYMMDD 스타일의 패턴 일치도 여전히 지원됩니다. </li></ul><p class="line874">가장 일반적으로 사용되는 시간 일치 변수 및 형식이 아래에 나와 있습니다.지원되는 모든 시간 형식 지정 변수의 목록은 본 도움말의 끝에 열거되어 있습니다. <p class="line874">* 별표는 0개 이상의 연속적인 문자와 일치합니다. DD는 날짜를 표시하는 2자리 숫자로 대체됩니다(예: 01-31). %d는 DD와 동일합니다. MM은 달을 표시하는 2자리 숫자로 대체됩니다(예: 01-12). %m은 MM과 동일합니다. YY는 연도를 표시하는 2자리 숫자로 대체됩니다(예: 01-99). YYYY는 연도를 표시하는 4자리 숫자로 대체됩니다(예: 00001-2003). %Y는 YYYY와 동일합니다. <p class="line874">여기에서의 별표는 UNIX 또는 DOS의 명령 쉘에서 사용하는 파일 이름 일치와 비슷하게 작동하며, 이 문자가 선행 문자의 0개 이상의 인스턴스와 일치하는 정규식 일치와는 다릅니다.이러한 변수는 사용자가 선택하는 방법에 따라 결합될 수 있습니다. <p class="line874">아래 목록은 2003년 8월 13일에 이러한 변수의 인스턴스가 어떻게 변환되는지를 보여줍니다.날짜 지정자 DD 및 %d는 13일 이전의 날로 변환된다는 점에 주의하십시오. <ul><li>YYYYMMDD는 20030812로 변환됩니다. </li><li>%Y-%m-%d는 2003-08-12로 변환됩니다. </li><li>%Y/%m/%d는 2003/08/12로 변환됩니다(이로 인해 경로에 영향을 줄 수 있음). </li><li>*YYYYMMDD는 20030812 문자열로 끝나는 모든 파일 이름과 일치합니다. </li></ul><p class="line874">일반적인 웹서버 로그 및 Urchin 프로세싱 관리 방법으로 인해 DD 및 %d 날짜 지정자는 기본적으로 전날로 변환됩니다.로그의 데이터 크기를 하루 분량으로 제한하기 위해 로그는 매일 로테이션됩니다.로테이션은 주로 자정 직전에 실행되며 Urchin 프로세싱은 일반적으로 자정 직후, 즉 날짜가 바뀐 직후에 실행됩니다.따라서 YYYYMMDD 형식의 시간기록을 로테이션되는 로그의 파일명에 추가하면 해당 날짜와 Urchin의 실행 시간 사이에 하루 차이가 발생합니다.Urchin이 실행될 때 일일 전환을 조사하면 로그 시간기록은 20030812이지만 Urchin은 20030813에 실행되었기 때문에 올바른 로그 이름을 찾을 수 없습니다. <p class="line874">이것이 가장 일반적인 로그 관리 모델이지만 유일한 옵션은 아닙니다.따라서 Urchin에는 이러한 변수를 특정 날짜로 확인하는 방법을 제어하는 구성 매개변수가 있습니다.'로그 경로 이름의 날짜/시간 와일드카드 대체' 설정을 사용하여 DD 및 %d의 평가 방법을 제어하는 시간 오프셋을 조정할 수 있습니다.이 설정은 본 도움말의 끝에 자세히 설명되어 있습니다. <p class="line874">연도, 월, 일 변수는 로그 파일 이름 또는 로그 파일의 디렉토리/폴더 경로에서 사용될 수 있습니다.별표는 로그 파일 경로의 파일 이름 부분에서만 사용될 수 있습니다.마찬가지로 로그 소스 경로 내에서 시간 형식 변수를 반복할 수는 있지만 별표는 한 번만 사용될 수 있습니다.처리 절차 섹션의 예제에서 이를 분명하게 확인할 수 있습니다. <p class="line867"><strong>처리 절차</strong> <p class="line874">로그 소스를 생성하거나 수정할 때는 '로그 설정' 탭 아래의 '로그 파일 경로' 상자에서 입력하는 경로에 있는 시간 변수를 사용해야 합니다.일반적인 일별 Apache 웹서버 로그 규칙은 로그 항목의 날짜를 나타내는 날짜기록이 있는 로그를 생성합니다. 예를 들어, 2002년 7월 16일 자정이 지난 1분 후에 로그 로테이션 메커니즘이 로그를 보관합니다. <pre>/var/log/httpd/access.log
</pre><p class="line874">그리고 다음과 같이 저장합니다. <pre>/var/log/httpd/access.log.20020715
</pre><p class="line874">Urchin 프로필에 대한 로그 소스에서 이 패턴을 일치시키려면 간단히 '로그 파일 경로'에 다음을 지정하면 됩니다. <pre>/var/log/httpd/access.log.YYYYMMDD
</pre><p class="line874">그러면 Urchin이 해당 날짜에 실행될 때 전날의 로그를 자동으로 검색합니다.또 다른 예를 들자면, Microsoft의 IIS 웹서버가 로그를 매일 로테이션하도록 구성되어 있는 경우에는 ex021127.log 같이 현재 날짜가 포함된 파일 이름으로 로그 파일을 명명합니다.따라서 일별 IIS 로그를 처리하려면 다음과 같은 로그 파일 지정을 사용해야 합니다. <pre>C:\WINNT\System32\LogFiles\W3SVC1\exYYMMDD.log
</pre><p class="line874">이 설정을 프로필에 대한 로그 소스의 '로그 파일 경로' 입력란에 입력하면 됩니다. <p class="line874">일별 기준보다 더 자주 로테이션되는 로그를 Urchin에서 처리할 수 있도록 하려면 YYYYMMDD 구문과 와일드카드의 조합을 사용하여 전날 생성된 모든 로그 파일을 검색하면 됩니다.그러기 위해서는 로테이션된 로그 파일이 일정한 방식(예: 파일 이름에 시간을 추가하는 방식)으로 명명되어 있어야 합니다.'로그 파일 경로' 지정에서 다음과 같은 패턴을 사용하면 됩니다. <pre>/var/log/httpd/access.log.YYYYMMDD*
</pre><p class="line874">또는 <pre>C:\WINNT\System32\LogFiles\W3SVC1\exYYMMDD*.log
</pre><p class="line874">연도, 월, 일을 반영하는 이름의 디렉토리에 로그가 저장되어 있는 경우에는 사용법이 좀 더 복잡합니다.다음과 같은 디렉토리 경로에 로그를 저장한다고 가정해 보십시오. <pre>/logs/2003/07
/logs/2003/08
/logs/2003/09
</pre><p class="line874">그리고 특정 달의 모든 로그가 해당 디렉토리에 보관되어 있고, 각 로그에는 그 달의 날짜가 추가되어 있습니다(예: access.log.01, access.log.02).Urchin에서 어떤 로그를 처리해야 하는지를 알 수 있도록 다음과 같은 로그 경로 형식을 사용할 수 있습니다. <pre>/logs/YYYY/MM/access.log.DD
/logs/%Y/%M/access.log.%d
</pre><p class="line874">로그 처리 시 Urchin은 어제의 날짜 패턴과 일치하고 접미사가 있는 모든 로그를 처리합니다.'로그 파일 경로' 입력란 지정에서 와일드카드를 사용할 때와 마찬가지로 프로필에 대한 로그 추적을 활성화해야만 Urchin이 로그를 다시 처리하지 않습니다. <p class="line867"><strong>고려사항</strong> <p class="line874">대체 패턴의 날짜를 확인하기 위해 Urchin은 로컬 시간을 기준으로 현재 시간에서 24시간을 뺍니다.이 작업은 달과 연도가 바뀌는 날짜에서도 원활하게 이루어집니다.그러나 로그 소스의 '고급 설정' 탭 아래에서 '로그 경로 이름의 날짜/시간 와일드카드 대체' 설정을 사용하여 이 설정을 수정할 수 있습니다.로컬 시간 또는 GMT 시간을 시간 조정 기준으로 선택할 수 있습니다. 그런 다음 '시간' 입력란을 사용하여 시간의 플러스 또는 마이너스 오프셋을 지정할 수 있습니다. <p class="line867"><strong>전체 날짜 및 시간 형식 참조</strong> <p class="line874">다음은 표준 C 라이브러리 strftime() 루틴에서 사용되는 규칙을 따르는 모든 지원되는 시간 형식 변수의 목록입니다. <ul><li>%A = 평일 전체 이름에 대한 국내 표기 </li><li>%a = 평일 약어 이름에 대한 국내 표기 </li><li>%B = 달 전체 이름에 대한 국내 표기 </li><li>%b = 달 약어 이름에 대한 국내 표기 </li><li>%d = 10진수 형식의 월의 날짜(01-31) </li><li>%e = 10진수로 월의 날짜(1-31), 공백 다음 1자리 </li><li>%H = 10진수 형식의 24시간제 시간(00-23) </li><li>%I = 10진수 형식의 12시간제 시간(01-12) </li><li>%j = 10진수 형식의 연도의 날짜(001-366) </li><li>%k = 10진수 형식의 24시간제 시간(0-23), 공백 다음 1자리 </li><li>%l = 10진수 형식의 12시간제 시간(1-12), 공백 다음 1자리 </li><li>%M = 10진수 형식의 분(00-59) </li><li>%m = 10진수 형식의 월(01-12) </li><li>%p = '오전' 또는 '오후'에 대한 국내 표기 </li><li>%S = 10진수 형식의 초(00-60) </li><li>%s = 시간 기점, UTC(mktime(3) 참조) 이후 초 수 </li><li>%w = 일요일을 주의 첫 날로 한 10진수 평일(0-6) </li><li>%Y = 10진수 형식의 세기가 있는 연도 </li><li>%y = 10진수 형식의 세기가 없는 연도(00-99) </li><li>%z = UTC로부터의 시간대 오프셋. 앞에 나오는 더하기(+) 기호는 UTC 동부를 나타내고 빼기(-) 기호는 UTC 서부를 나타내며 각각 두 자리의 시간 및 분이 구분 기호 없이 나옴(RFC 822 날짜 헤더에 대한 일반 형식) </li><li>%% = `%'. (날짜/시간 항목에 리터럴 퍼센트 기호가 필요할 때 사용) </li></ul></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>