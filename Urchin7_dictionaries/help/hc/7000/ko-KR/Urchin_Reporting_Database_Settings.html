<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Urchin 보고 데이터베이스 설정</strong> <p class="line874">(개정: 2008년 12월 16일) <p class="line867"><strong>개요</strong> <p class="line874">Urchin에서 보고 데이터베이스의 확장성과 정확도를 관리하는 방법은 다음과 같습니다. <p class="line867"><strong>DB 테이블 최대 크기</strong> <p class="line862">적정 한도 내에서 대규모 사이트 데이터를 관리할 수 있는 옵션입니다. 이 옵션을 사용하면 각 Urchin 보고 DB 테이블의 레코드 개수를 제한할 수 있습니다. 기본 옵션은 대부분의 설치에 적합합니다. 예를 들어 어떤 달의 테이블 레코드 개수가 이 한도를 초과할 경우 한도를 초과하는 레코드를 모두 <em>’Other’</em>라는 이름의 마지막 레코드에 그룹화하여 기록합니다. 따라서 테이블 크기가 클수록 보고 데이터의 정확도가 증가합니다. <p class="line862">Urchin 보고서에서 <strong>Other</strong> 레코드에 많은 수의 데이터가 기록된 것으로 나타날 경우 DB 테이블 최대 크기를 상향 조정하면 정확도가 더욱 높아집니다. <p class="line867"><strong>메모리 사용률 목표</strong> <p class="line874">Urchin은 이 옵션을 통해 메모리에 로드되는 보고 DB의 최대 크기를 지정하여 로그 처리 시 할당되는 메모리 양을 제한합니다. 대규모 사이트에 대해 로그를 처리할 때 메모리 여유 공간이 늘어나면 페이지 스와핑이 감소하여 성능이 개선될 수 있습니다. 기본 설정은 최소값으로 되어 있지만 시스템에 실제 메모리가 충분할 경우 값을 늘리는 것이 좋습니다. <p class="line867"><strong>실험 설정</strong> <p class="line874">현재 Urchin에서 지원되는 보고 DB 설정의 최대값은 다음과 같습니다. <p class="line862">DB 테이블 최대 크기            :    &lt;= 레코드 500,000개 <p class="line862">메모리 사용률 목표  :    &lt;= 1024MB <p class="line862">Urchin 6.5 버전부터 <span class="u"><strong>기존Urchin 사용자</strong></span>에게만 제공되는 위 설정의 최대값이 상향 조정됩니다. 새 설정값은 관리 인터페이스에서는 볼 수 없으며 구성 데이터베이스를 통해 설정해야 합니다. Urchin 6.5에서 새롭게 적용되는 보고 DB 설정의 최대값은 다음과 같습니다. <p class="line862">DB 테이블 최대 크기            :    &lt;= 2,000,000개의 레코드 <p class="line862">메모리 사용률 목표  :    &lt;= 2GB <strong> </strong> <p class="line867"><strong>실험 설정을 위한 가이드라인</strong> <ul><li style="list-style-type:none"><p class="line862">이러한 확대 설정값은 아직 실험 단계로, 일부 시스템에서는 <strong>메모리 부족(out of memory)</strong> 오류가 발생할 수 있으므로 다음 정보와 가이드라인을 참고하여 사용해야 합니다. </li><li>일반적으로 32비트 응용 프로그램당 4GB의 가상 주소 공간이 있으며 이는 사용자 주소 공간과 커널 주소 공간으로 구성됩니다. 사용자 프로세스에는 사용자 주소 공간의 메모리만 할당됩니다. </li><li><p class="line891"><em><strong>Windows 플랫폼:</em></strong> 사용자 응용프로그램과 커널에 각각 2GB의 메모리가 제공됩니다. windows OS에서는 <a class="http" href="http://msdn.microsoft.com/en-us/library/bb613473(VS.85).aspx">4GB 조정</a>을 통해 사용자 공간을 최대 3GB까지 확대할 수 있지만 Urchin 프로세스에서는 이와 같은 경우를 고려하지 않고 항상 2GB 한도에 따라 컴파일 및 링크됩니다. 따라서 windows OS 사용자는 DB 테이블 최대 크기를 <span class="u"><strong>500,000</strong></span> 레코드 이상, 메모리 사용률 목표를 <span class="u"><strong>1GB</strong></span> 이상으로 설정하면 안됩니다. <ul><li><p class="line862">최고의 <span class="u"><em>성능</em></span>을 제공하려면 다음과 같이 설정합니다. <ul><li><p class="line862">메모리 사용률 목표 : <span class="u"><strong>1024MB</strong></span> </li><li><p class="line862">DB 테이블 최대 크기 : <span class="u"><strong>500,000</strong></span>개의 DB 테이블 행 </li></ul></li><li><p class="line862">최고의 <em><span class="u">정확도</span></em>를 제공하려면 다음과 같이 설정합니다. <ul><li><p class="line862">메모리 사용률 목표 : <span class="u"><strong>256</strong></span>MB </li><li><p class="line862">DB 테이블 최대 크기 : <span class="u"><strong>1,000,000</strong></span>개의 DB 테이블 행 </li></ul></li></ul></li><li><p class="line891"><em><strong>Unix 플랫폼:</strong><strong></em></strong> 사용자 응용 프로그램에 3GB의 메모리가 제공되며 남은 1GB는 커널에 사용됩니다. 따라서 UNIX 플랫폼 사용자는 DB 테이블 최대 크기를 <span class="u"><strong>500,000</strong></span> 레코드 이상, 메모리 사용률 목표를 <span class="u"><strong>2GB</strong></span> 이상으로 설정하면 안됩니다. <ul><li><p class="line862">최고의 <span class="u"><em>성능</em></span>을 제공하려면 다음과 같이 설정합니다. <ul><li><p class="line862">메모리 사용률 목표 : <span class="u"><strong>2048</strong></span>MB </li><li><p class="line862">DB 테이블 최대 크기 : <strong><span class="u">500,000</span></strong>개의 DB 테이블 행 </li></ul></li><li><p class="line862">최고의 <em><span class="u">정확도</span></em>를 제공하려면 다음과 같이 설정합니다. <ul><li><p class="line862">메모리 사용률 목표 : <span class="u"><strong>1024</strong></span>MB </li><li><p class="line862">DB 테이블 최대 크기 : <strong><span class="u">2, 000,000</span></strong>개의 DB 테이블 행 </li></ul></li></ul></li></ul><p class="line867"><strong></strong><strong>확대 'DB 테이블 최대 크기</strong><strong>' 구성</strong> <p class="line874">일반적인 'DB 테이블 최대 크기' 설정값과 마찬가지로 확대된 설정값 또한 개별 프로필 또는 전체 프로필에 대해 설정할 수 있습니다. 다음 명령은 ID가 '1'인 프로필에 대해 DB 테이블 최대 크기를 1,000,000개 레코드로 설정합니다. <p class="line867"><pre>UPDATE uprofiles SET uipr_db_table_limit=1000000 WHERE uspr_id=1;
</pre><p class="line874">다음 명령은 전체 테이블 제한을 1,000,000개 레코드로 설정합니다. 이 값은 uipr_db_table_limit 항목이 0으로 되어 있는 모든 프로필에 적용됩니다. <p class="line867"><pre>UPDATE uglobals SET uigl_db_table_limit=1000000 WHERE ucgl_name='Global Settings';
</pre><p class="line867"><strong>확대 '메모리 사용률 목표</strong><strong>' 구성</strong> <p class="line874">메모리 사용률 목표는 전체 프로필에 대해서만 설정할 수 있습니다. <p class="line874">DB 메모리 사용률이 '캐시 시스템에서 제한'(또는 DB의 'ubpr_limit_db_cache_size' 항목이 1)으로 설정된 모든 프로필에 자동으로 적용됩니다. <p class="line874">다음 명령은 전체 메모리 사용률 목표를 2GB로 설정합니다. 참고로 DB 입력란에서는 각 숫자를 '메가바이트' 단위로 인식합니다. 즉, 512는 512MB를 의미합니다. <p class="line867"><pre>UPDATE uglobals SET uigl_db_cache_size=2048 WHERE ucgl_name='Global Settings';
</pre></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>