<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>맞춤 전자상거래 로그</strong> <p class="line867"><strong>개요</strong> <p class="line862">많은 장바구니에서 ELF2가 아닌 형식의 구매와 관련된 정보를 캡처하고 로깅할 수 있는 기능을 제공하고 있으며 이 경우 Urchin에서 자동으로 처리될 수 없습니다.이 문서에서는 장바구니에서 ELF2를 생성할 수 있도록 변경할 수 없는 경우 전자상거래 로그 파일에 대해 맞춤 로그 형식을 만드는 방법에 대해 설명합니다.본 문서를 계속 읽기 전에 맞춤 로그 생성에 대해 자세히 설명된 <a href="Custom_Log_Formats.html">맞춤 로그 형식</a>을 읽어보시기 바랍니다. <p class="line867"><strong>전자상거래 로그 형식</strong> <p class="line874">장바구니는 구매 행위 및 구매한 품목에 대한 정보를 한 행 또는 여러 행으로 로깅할 수 있습니다.한 행 형식에서는 거래와 구매 품목을 완전히 설명하는 데 필요한 모든 정보가 각 행에 포함되어 있으며 모든 행의 레이아웃이 동일합니다.여러 행 형식에서는 여러 행을 사용하여 구매를 설명하며, 거래 행에 대한 형식과 구매 품목에 대한 형식이 있습니다. ELF2 로그는 여러 행 형식입니다.전자상거래 로그를 조사하여 데이터가 한 행인지 또는 여러 행인지를 확인해야 합니다. 이러한 형식이 맞춤 로그 형식을 설정하는 방법에 영향을 주기 때문입니다.로그 형식에 따라 다음 단계를 따르시기 바랍니다. <p class="line867"><strong>일반적인 전자상거래 로깅 요구사항</strong> <p class="line874">장바구니에서 생성되는 모든 로그 항목은 날짜와 시간 및 적어도 다음 입력란 중 하나를 포함하여 방문자 상관관계를 제공해야 합니다. <ul><li>원격 호스트 또는 IP 주소(IP-Only 또는 IP+User-Agent 방문자 방식의 경우) </li><li>Useragent(IP+User-Agent 방문자 방식의 경우) </li><li>쿠키(UTM 또는 SID 방문자 방식의 경우) </li><li>세션 ID(SID 방문자 방식의 경우) </li></ul><p class="line874">위 중에서 누락된 입력란이 있으면 Urchin이 매출에 대한 의미 있는 분석을 수행할 수 없습니다. Urchin은 다음 전자상거래 입력란도 정의합니다. <ul><li>%{ORDERID}는 주문 번호입니다. </li><li>%{STORE}는 상점의 이름/ID입니다. </li><li>%{SESSIONID}는 고객의 고유한 세션 식별자입니다. </li><li>%{TOTAL}은 세금 및 배송 비용을 포함한 거래 합계입니다(십진법만, '$' 문자 없음) </li><li>%{TAX}는 소계에 부과되는 세액입니다. </li><li>%{SHIPPING}은 배송 수수료 금액입니다. </li><li>%{BILL_CITY}는 고객의 청구주소(시)입니다. </li><li>%{BILL_STATE}는 고객의 청구주소(주/도)입니다. </li><li>%{BILL_ZIP}은 고객의 청구주소 우편번호입니다. </li><li>%{BILL_COUNTRY}는 고객의 청구주소 국가입니다. </li><li>%{PRODUCT_CODE}는 제품의 식별자입니다. </li><li>%{PRODUCT_NAME}은 제품의 이름입니다. </li><li>%{VARIATION}은 색상, 크기 등 제품에 대해 선택 가능한 옵션입니다. </li><li>%{PRICE}는 제품의 단가입니다(십진법만, '$' 문자 없음) </li><li>%{QUANTITY}는 이 제품에 대한 주문 수량입니다. </li><li>%{UPSOLD}는 제품이 세일 중이었는지를 나타내는 부울(0|1)입니다. </li></ul><p class="line867"><strong>한 행 형식 로그</strong> <p class="line874">전자상거래 로그 파일에 포함되어 있는 조회의 행 형식이 모두 위에서 설명한 것과 동일한 경우 다음 안내를 따르시기 바랍니다. <ol type="1"><li>custom.lf.sample 로그 형식 파일의 복사본을 만들어서 lib/custom/logformats 디렉토리에 새 맞춤 로그 형식을 만듭니다..lf 접미사를 사용하여 복사본을 명명합니다. </li><li>새 맞춤 로그 형식 파일을 편집하고 아래의 권장사항을 기준으로 다음 항목을 설정합니다. <ul><li><p class="line891">PrimaryPositions:이 항목은 로그 파일에서 입력란의 순서를 지정합니다.입력란 순서를 나타내는 쉼표로 구분된 입력란 ID 목록을 만드십시오.입력란 이름 및 ID는 lib/reporting/logformats/fieldlist.txt 파일 안에 있습니다.다음 예를 참조하시기 바랍니다. </li><li><p class="line891">SecondaryPositions:한 행 형식 로그 파일에는 사용되지 않기 때문에 '-'로 둡니다. </li><li><p class="line891">PrimaryKey:한 행 형식 로그 파일에는 사용되지 않기 때문에 '-'로 둡니다. </li><li><p class="line891">SecondaryKey:한 행 형식 로그 파일에는 사용되지 않기 때문에 '-'로 둡니다. </li><li><p class="line891">PrimaryContent:이 입력란에 대해 유효한 항목은 TRANSACTION 또는 ITEM입니다.로그 파일에 있는 조회가 각 개별 제품의 구매에 대한 설명이면 ITEM으로 설정합니다.로그 파일에 있는 조회가 전체 구매에 대한 설명이면 TRANSACTION으로 설정합니다. </li><li><p class="line891">SecondaryContent:한 행 형식 로그 파일에는 사용되지 않기 때문에 '-'로 두십시오. </li><li><p class="line891">CommentKey:로그 파일에 있는 일부 행이 의견이거나 조회로 간주되지 않으며 특정 문자로 시작되는 경우에는 해당 문자를 여기에 입력합니다. </li><li><p class="line891">FieldSeparator1:입력란 구분기호는 어떤 문자가 입력란 구분기호로 간주되는지를 정의합니다.일반적인 항목은 탭(\t)과 공백(\s)입니다.로그 파일에 있는 입력란 사이의 문자를 기초로 입력란 구분기호를 적절히 설정하십시오. </li><li><p class="line891">FieldSeparator2:위의 FieldSeparator1을 참조하시기 바랍니다. </li><li><p class="line891">QuotesEscapeSep:따옴표 "" 문자가 포함되어 있는 입력란 안에서 입력란 구분기호가 무시되는지 여부를 지정합니다.이 항목은 대개 YES여야 합니다. </li><li><p class="line891">BracketsEscapeSep:대괄호 [] 문자가 포함되어 있는 입력란 안에서 입력란 구분기호가 무시되는지 여부를 지정합니다.이 항목은 대개 YES여야 합니다. </li><li><p class="line891">MergSuccessiveSep:두 개의 구분기호 문자가 연달아 있을 때 하나의 구분기호로 간주해야 하는지 여부를 지정합니다.이 항목은 대개 NO로 둡니다. </li><li><p class="line891">CleanWhiteSpace:입력란을 구문 분석할 때 입력란 끝에 있는 공백을 제거해야 하는지 여부를 지정합니다.이 항목은 대개 NO로 둡니다. </li><li><p class="line891">StatusRequired:조회에 웹서버 유형 상태 코드가 포함되는 경우를 제외하고는 NO로 설정된 상태를 유지합니다. </li><li><p class="line891">CustomDateFormat:로그 형식에 맞춤 날짜 형식이 포함되어 있는 경우 항목을 설명하는 적절한 strptime 형식을 설정합니다. </li><li><p class="line891">CustomTimeFormat:로그 형식에 맞춤 시간 형식이 포함되어 있는 경우 항목을 설명하는 적절한 strptime 형식을 설정합니다. </li></ul></li><li>맞춤 로그 형식을 lib/custom/logformats 디렉토리에 저장합니다. </li><li>Urchin Admin 인터페이스에서 로그 소스에 대한 맞춤 로그 형식을 선택합니다. </li><li>Urchin을 사용하여 로그 파일을 처리합니다. </li></ol><p class="line867"><strong>한 행 형식 예제</strong> <p class="line874">다음은 로그에서 거래 데이터만 있는 한 행 조회의 예입니다. <p class="line867"><pre>12345 123.123.123.123 "Urchin Store" [26/Aug/2003:11:43:02 -0700] 192.73 "San Diego" "CA" 92101 "US" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)" "utma=171060324.2734232095.1061444425.1061444425.1061444763.2"
</pre><p class="line862">아래 목록은 각 입력란 이름을 lib/reporting/logformats/fieldslist.txt 파일에서 가져온 ID 번호와 함께 보여줍니다.여기에서 할당된 ID 번호가 맞춤 로그 형식 파일의 PrimaryPositions 입력란에 사용됩니다. <ol type="1"><li>거래 ID 25 </li><li>원격 호스트 또는 IP 주소 12 </li><li>상점 이름 26 </li><li>Apache 날짜/시간 3 </li><li>총 비용 28 </li><li>청구주소(시) 31 </li><li>청구주소(주/도) 32 </li><li>청구주소 우편번호 33 </li><li>청구주소 국가 34 </li><li class="gap">사용자 에이전트 13 </li><li>쿠키 14 </li></ol><p class="line874">위 목록을 기준으로 맞춤 로그 형식 파일에서 다음 항목을 설정합니다. <p class="line867"><pre>PrimaryPositions: "25, 12, 26, 3, 28, 31, 32, 33, 34, 13, 14" SecondaryPositions: - PrimaryKey: - SecondaryKey: - PrimaryContent: TRANSACTION SecondaryContent: - CommentKey: # FieldSeparator1: \s FieldSeparator2: \t QuotesEscapeSep: YES BracketsEscapeSep: YES MergSuccessiveSep: NO CleanWhiteSpace: NO StatusRequired: NO CustomDateFormat: - CustomTimeFormat: -
</pre><p class="line867">PrimaryPositions는 입력란 순서를 지정하고 PrimaryContent는 이 로그에 거래(또는 구매에 대한 일반 정보)가 들어 있다는 것을 Urchin에 알립니다.입력란이 공백으로 구분되어 있으므로 입력란 구분기호는 공백 및 탭으로 설정되었습니다.날짜/시간이 Apache 날짜 형식이기 때문에 맞춤 날짜/시간 형식은 지정되지 않았습니다. <p class="line867"><strong>여러 행 형식 로그</strong> <p class="line874">Urchin은 여러 행 형식을 읽을 수 있습니다. 단, 각 행의 시작 문자에 사용 중인 형식을 식별할 수 있는 특수 문자가 포함되어 있어야 합니다.예를 들어 ELF2 로그 파일은 거래 행에서 '!' 느낌표 문자가 첫 문자로 포함됩니다.품목 행에는 선행 '!' 문자가 없습니다. <p class="line874">거래를 위한 행 및 제품이나 품목 세부정보를 위한 행 등 서로 다른 두 가지 형식 행이 전자상거래 로그 파일에 포함되어 있는 경우에는 다음 도움말을 따르시기 바랍니다. <ol type="1"><li>custom.lf.sample 로그 형식 파일의 복사본을 만들어서 lib/custom/logformats 디렉토리에 새 맞춤 로그 형식을 만듭니다..lf 접미사를 사용하여 복사본을 명명합니다. </li><li>새 맞춤 로그 형식 파일을 편집하고 아래의 권장사항을 기준으로 다음 항목을 설정합니다. <ul><li><p class="line891">PrimaryPositions:이 항목은 로그 파일에서 입력란의 순서를 지정합니다.입력란 순서를 나타내는 쉼표로 구분된 입력란 ID 목록을 만드십시오.입력란 이름 및 ID는 lib/reporting/logformats/fieldlist.txt 파일 안에 있습니다. </li><li><p class="line891">SecondaryPositions:이 항목은 로그 파일에서 입력란의 순서를 지정합니다.입력란 순서를 나타내는 쉼표로 구분된 입력란 ID 목록을 만드십시오.입력란 이름 및 ID는 lib/reporting/logformats/fieldlist.txt 파일 안에 있습니다. </li><li><p class="line891">PrimaryKey:기본 키를 primarypositions가 설명하는 것과 동일한 형식으로 로그 파일 행을 식별하는 문자로 설정합니다. </li><li><p class="line891">SecondaryKey:보조 키를 secondarypositions가 설명하는 것과 동일한 형식으로 로그 파일 행을 식별하는 문자로 설정합니다. </li><li><p class="line891">PrimaryContent:이 입력란에 대해 유효한 항목은 TRANSACTION 또는 ITEM입니다.로그 파일에 있는 조회가 각 개별 제품의 구매에 대한 설명이면 ITEM으로 설정합니다.로그 파일에 있는 조회가 전체 구매에 대한 설명이면 TRANSACTION으로 설정합니다. </li><li><p class="line891">SecondaryContent:위의 PrimaryContent를 참조하시기 바랍니다. </li><li><p class="line891">CommentKey:로그 파일에 있는 일부 행이 의견이거나 조회로 간주되지 않으며 특정 문자로 시작되는 경우에는 해당 문자를 여기에 입력합니다. </li><li><p class="line891">FieldSeparator1:입력란 구분기호는 어떤 문자가 입력란 구분기호로 간주되는지를 정의합니다.일반적인 항목은 탭(\t)과 공백(\s)입니다.로그 파일에 있는 입력란 사이의 문자를 기초로 입력란 구분기호를 적절히 설정하십시오. </li><li><p class="line891">FieldSeparator2:위의 FieldSeparator1을 참조하시기 바랍니다. </li><li><p class="line891">QuotesEscapeSep:따옴표 "" 문자가 포함되어 있는 입력란 안에서 입력란 구분기호가 무시되는지 여부를 지정합니다.이 항목은 대개 YES여야 합니다. </li><li><p class="line891">BracketsEscapeSep:대괄호 [] 문자가 포함되어 있는 입력란 안에서 입력란 구분기호가 무시되는지 여부를 지정합니다.이 항목은 대개 YES여야 합니다. </li><li><p class="line891">MergSuccessiveSep:두 개의 구분기호 문자가 연달아 있을 때 하나의 구분기호로 간주해야 하는지 여부를 지정합니다.이 항목은 대개 NO로 둡니다. </li><li><p class="line891">CleanWhiteSpace:입력란을 구분 분석할 때 입력란 끝에 있는 공백을 제거해야 하는지 여부를 지정합니다.이 항목은 대개 NO로 둡니다. </li><li><p class="line891">StatusRequired:조회에 웹서버 유형 상태 코드가 포함되는 경우를 제외하고는 NO로 설정된 상태를 유지합니다. </li><li><p class="line891">CustomDateFormat:로그 형식에 맞춤 날짜 형식이 포함되어 있는 경우 항목을 설명하는 적절한 strptime 형식을 설정합니다. </li><li><p class="line891">CustomTimeFormat:로그 형식에 맞춤 시간 형식이 포함되어 있는 경우 항목을 설명하는 적절한 strptime 형식을 설정합니다. </li></ul></li><li>맞춤 로그 형식을 lib/custom/logformats 디렉토리에 저장합니다. </li><li>Urchin Admin 인터페이스에서 로그 소스에 대한 맞춤 로그 형식을 선택합니다. </li><li>Urchin을 사용하여 로그 파일을 처리합니다. </li></ol></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>