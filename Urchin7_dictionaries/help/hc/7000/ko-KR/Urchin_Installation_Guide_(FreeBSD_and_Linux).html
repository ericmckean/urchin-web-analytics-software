<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><table id="top_location_line" width="100%"><table id="top_location_line" width="100%"><tr width="100%"><td><a href="http://www.urchin.com"><img border="0" src="../images/google_sm.gif" width="135" height="41"></a></td><td width="100%"><span id="top_line" style="width: 100%; float: left; clear: both; border-bottom: 1px solid #CCC;"><span id="top_title" style="float: left; margin-top: 10px;"><b>Help Center</b></span></td></tr></table>
<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en">
<p class="line867"><strong>Urchin 6 설치 가이드(FreeBSD 및 Linux)</strong> <ul><li style="list-style-type:none"><p class="line891"><em>이 문서는 Urchin 소프트웨어 공인 컨설턴트인 </em><a href="EpikOne.html">EpikOne</a><em>이(가) 작성했습니다.</em> </li></ul><p class="line867"><strong>시작하기 전에: Urchin 6.500 사용자를 위한 중요사항</strong> <p class="line874">Urchin 6.501에서는 CPC 스케줄러와 관련된 여러 문제가 해결되었습니다. Urchin 6.500에서 Urchin 6.601로 업그레이드할 경우 CPC 데이터 처리가 잘못되거나 완전하게 이루어지지 않아 Urchin 보고서에 잘못된 결과가 표시될 수 있습니다. Google 애드워즈에서 정확한 결과를 얻을 수 있도록 (a) 새로운 위치에 Urchin 6.601 버전을 설치하거나 (b) 기존 6.500 버전에 설치하려는 경우 이전 CPC 데이터를 삭제하십시오. 후자의 경우 다음 디렉토리의 모든 내용을 삭제합니다. <p class="line867"><pre>&lt;urchin_6500_설치_경로&gt;/data/cpc/...
&lt;urchin_6500_설치_경로&gt;/data/history/cpc/...
</pre><p class="line874">Urchin 6.600, 6.501 또는 Urchin 6.402 이전 버전에서 업그레이드할 경우 별도의 조치가 필요 없습니다. <p class="line867"><strong>시작하기 전에 – FreeBSD 사용자를 위한 중요사항</strong> <ul><li>FreeBSD의 하드 코딩된 프로세스 데이터 크기는 500MB로 정해져 있으며 이는 로그 처리 과정에서 지리 데이터가 메모리에 상주해야 하는 Urchin을 실행하기에 부족합니다. 그 결과 다음과 같은 런타임 오류가 발생합니다. </li></ul><p class="line867"><pre>ERROR: (8011-323-1057) Failed to allocate memory(메모리 할당에 실패)
</pre><ul><li style="list-style-type:none">이 문제를 해결하려면 /boot/loader.conf 파일에 다음 행을 추가하여 FreeBSD 시스템의 기본 프로세스 데이터 크기를 늘려야 합니다. </li></ul><p class="line867"><pre># 프로세스 데이터 세그먼트의 최대 크기를 1GB로 증가
kern.maxdsiz="1073741824"
</pre><ul><li style="list-style-type:none">수정한 후에는 재부팅해야 합니다. </li><li>FreeBSD에는 accf_http라고 하는 특수 드라이버가 있습니다. 이 드라이버는 특정 HTTP 요청 내용이 모두 도착할 때까지 수신되는 연결 단위를 버퍼링하여 속도를 높이고 성능을 최적화합니다. 기본적으로 이 드라이버는 커널에 로드되지 않으며 다음과 같은 경고가 표시됩니다. </li></ul><p class="line867"><pre>[warn] (2)No such file or directory: Failed to enable the ‘httpready’ Accept Filter(‘httpready’ Accept Filter를 찾을 수 없어 활성화할 수 없음)
</pre><ul><li style="list-style-type:none">이 문제가 발생하지 않게 하려면 /boot/loader.conf 파일에 다음 행을 추가하여 HTTP Accept Filter FreeBSD 커널 모듈(accf_http)을 활성화해야 합니다. </li></ul><p class="line867"><pre># HTTP 요청 수신 필터에서 수신이 끌날 때까지 대기
accf_http_load="YES"
</pre><ul><li style="list-style-type:none">수정한 후에는 재부팅해야 합니다. </li></ul><p class="line867"><strong><span class="u">경고</span>!!!</strong> 이와 같이 시스템의 한도를 변경할 때는 주의해야 합니다. kern.maxdsiz를  너무 크게 늘리면 시스템이 부팅되지 않을 수 있습니다. 수정하기 전에 FreeBSD 설명서를 읽고 사이트의 특정 구성에 영향을 미칠 수 있는 잠재적인 위험은 없는지 확인할 것을 <strong>적극 권장</strong>합니다. <p class="line867"><strong>설치 단계 개요</strong> <ul><li>Urchin 시스템에 원하는 데이터베이스를 설치하거나 기존 서버에 Urchin의 데이터베이스를 추가합니다. 현재 지원되는 데이터베이스 엔진은 다음과 같습니다. <ul><li>MySQL 5.0.3 이상(참고: MySQL 4.x.x 버전은 Urchin 6.6 버전부터 지원이 중단됨) </li><li>PostgreSQL 8.2.5 이상 </li></ul></li><li>데이터베이스 서버에 Urchin 데이터베이스 및 사용자를 만들고 액세스 권한을 부여합니다. </li><li>임시 디렉토리에 Urchin 배포 파일의 압축을 풉니다. </li><li>install.sh 스크립트를 실행합니다. </li><li>Urchin 6을 설치할 수 있는 라이센스를 발급받습니다. </li></ul><p class="line867"><strong>옵션 1: Urchin에서 MySQL 사용하기</strong> <ul><li><p class="line862">시스템에 MySQL 서버가 설치되어 있지 않은 경우 <a class="http" href="http://dev.mysql.com/downloads/에서">http://dev.mysql.com/downloads/에서</a> 배포 버전을 다운로드할 수 있습니다. </li><li>MySQL 사이트의 안내에 따라 MySQL 서버를 설치합니다. </li><li>MySQL 데이터베이스 관리자 로그인 정보(예: root) 및 비밀번호를 알고 있어야 합니다. </li><li>Urchin에 사용할 데이터베이스 이름, 로컬 MySQL 사용자 및 비밀번호를 선택하십시오. 이 정보는 나중에 Urchin 설치 중에 필요하므로 저장해 두십시오. 아래의 예에서는 MySQL 사용자 이름과 비밀번호가 각각 urchin 및 urchinpassword인 urchin이라는 이름의 데이터베이스를 만듭니다(실제로 사용할 비밀번호는 직접 선택해야 함). </li><li>다음 명령을 사용해 Urchin 데이터베이스와 사용자를 만들고 액세스 권한을 부여합니다. </li></ul><p class="line867"><pre>root@yourserver# mysql -u root -p
mysql&gt; create database urchin character set utf8;
mysql&gt; GRANT ALL ON urchin.* to 'urchin'@'localhost' IDENTIFIED BY 'urchinpassword';
</pre><ul><li>MySQL 서버와 통신할 MySQL 소켓의 경로 이름을 지정합니다. 이러한 정보는 보통 MySQL 설치 경로의 my.cnf 파일에 있습니다. 이 파일에서 socket=/var/lib/mysql/mysql.sock와 유사한 행을 찾습니다. </li></ul><p class="line867"><strong>옵션 2: Urchin에서 PostgreSQL 사용하기</strong> <ul><li><p class="line862">시스템에 PostgreSQL 서버가 설치되어 있지 않은 경우 <a class="http" href="http://www.postgresql.org에서">http://www.postgresql.org에서</a> 배포 버전을 다운로드할 수 있습니다. </li><li>PostgreSQL 사이트의 안내에 따라 PostgreSQL 서버를 설치합니다. </li><li>psql 명령이 경로에 포함되어 있어야 하며, PostgreSQL 데이터베이스 관리자 로그인 정보(예: pgsql) 및 비밀번호를 알고 있어야 합니다. </li><li>Urchin에 사용할 데이터베이스 이름, 로컬 PostgreSQL 사용자 및 비밀번호를 선택하십시오. 이 정보는 나중에 Urchin 설치 중에 필요하므로 저장해 두십시오. 아래의 예에서는 PostgreSQL 사용자 이름과 비밀번호가 각각 urchin/urchinpass인 urchin이라는 이름의 데이터베이스를 만듭니다(실제로 사용할 비밀번호는 직접 선택해야 함). </li><li>다음 명령을 사용해 Urchin 데이터베이스와 사용자를 만들고 액세스 권한을 부여합니다. </li></ul><p class="line867"><pre>root@yourserver# psql -U pgsql -d postgres
postgres=# CREATE DATABASE urchin WITH ENCODING 'UTF8';
postgres=# CREATE USER urchin WITH PASSWORD 'urchinpass';
postgres=# GRANT ALL ON DATABASE urchin TO urchin;
postgres=# \connect urchin;
postgres=# CREATE LANGUAGE 'PLPGSQL';
</pre><p class="line867"><strong>Urchin 설치하기</strong> <ul><li style="list-style-type:none">전 단계에서 선택한 Urchin 데이터베이스 이름, 사용자 및 비밀번호를 알고 있어야 합니다. </li><li>임시 디렉토리를 만들어 이 디렉토리에 Urchin 배포 파일의 압축을 풉니다. </li></ul><p class="line867"><pre>mkdir /var/tmp/urchintemp
cd /var/tmp/urchintemp
tar xzvf urchin6601_&lt;platform&gt;_installer.tar.gz
</pre><p class="line867"><strong>중요</strong> 올바른 설치를 위해서는 대상 시스템에 ‘활성’ 상태의 Urchin 6 인스턴스가 없어야 합니다. 다음 명령을 통해 기존 Urchin 6을 사용중지합니다. <p class="line867"><pre>/path/to/urchin6/bin/urchinctl stop
</pre><ul><li>동일 시스템에서 여러 개의 Urchin 6 인스턴스를 실행해야 하는 경우 각 인스턴스는 (1) 서로 다른 위치에 설치되어야 하며 (2) 서로 다른 웹서버 포트를 사용해야 하고 (3) 서로 다른 데이터베이스에 연결되어야 합니다. </li><li>Urchin은 필요한 모든 파일을 대상 폴더에 복사하고 기존 파일은 모두 덮어씁니다. 기존 사용자설정을 그대로 유지하려면 새 디렉토리에 또는 기존 설치 디렉토리 이름을 변경하고 Urchin 6을 설치해야 합니다. </li><li>Urchin 6.601은 전체를 새로 설치하거나 Urchin 6 기존 버전을 업그레이드할 수 있습니다. <ul><li>전체를 ‘새로’ 설치하는 경우 Urchin은 사용자에게 웹서버 포트, DB 구성 설정 등 모든 구성 매개변수를 지정할 것을 요청하며, '업그레이드'하는 경우에는 기존 Urchin 6 인스턴스의 구성을 재사용합니다. </li><li>Urchin 6.601은 특정 Urchin 6 초기 버전을 업그레이드하는 데만 사용할 수 있습니다. 업그레이드가 가능한 버전은 다음과 같습니다. <ul><li>Urchin 6.6 - 영어 전용 출시 버전       : 6.600 버전 </li><li>Urchin 6.5 - 서비스 팩 2            :   6.501 버전 </li><li>Urchin 6.5                             :    6.500 버전(위 '중요' 사항 참조) </li><li>Urchin 6 - 서비스 팩 1         :   6.402 버전 </li><li>Urchin 6 - 전세계 출시 버전 :   6.401 버전 </li><li>Urchin 6 - 영어 전용 출시 버전         :   6.400 버전 </li></ul></li><li>‘새로’ 설치하는 도중 Urchin은 사용자에게 ‘데이터베이스 테이블을 초기화’할 것인지 여부를 묻습니다. 기존 DB 구성을 유지하려는 경우 ‘아니요’를 선택합니다. 이 경우 Urchin은 기존 테이블을 재생성하지 않는 방법으로 기존 구성을 유지하지만 '추가 테이블'이나 '기존 테이블 항목'을 생성해야 할 수 있습니다. </li></ul></li><li>이제 Urchin 설치 프로그램을 실행합니다. 다음 명령을 입력하면 설치 프로그램이 자동으로 실행되며 안내에 따라 설치를 진행합니다. </li></ul><p class="line867"><pre>./install.sh
</pre><p class="line874">또는 명령행에 설치에 필요한 매개변수를 모두 제공하여 바로 설치를 수행할 수 있습니다. 명령행 매개변수를 모두 표시하는 명령은 다음과 같습니다. <p class="line867"><pre>./install.sh -h
</pre><ul><li>설치가 완료되면 시스템에서 Urchin을 실행할 수 있습니다. 설정을 완료하려면 다음 URL에서 원하는 웹브라우저를 지정합니다. </li></ul><p class="line867"><pre>http://yourserver:&lt;port&gt;
</pre><p class="line862">여기에서 &lt;port&gt;는 설치 시에 선택한 네트워크 포트입니다(기본값은 9999). <ul><li>Urchin 6 이전 버전의 프로필 보고 데이터를 복구하려면 기록, 보고서 및 기존 CPC 디렉토리를 /path/to/old-urchin6/data/에서 새로운 /path/to/new-urchin6/data/ 디렉토리로 복사합니다. </li><li>데모 라이센스 얻기 링크를 클릭하고 라이센스 발급 단계에 따라 Urchin을 활성화하고 초기 설정 단계를 수행합니다. </li></ul><p class="line867"><strong>추적 구성</strong> <p class="line874">Urchin이 설치된 후 경우에 따라서는 웹사이트 추적 옵션 설정 단계를 추가로 수행해야 합니다. <p class="line867"><strong>사례 1: IP+User-Agent 추적 옵션과 함께 사용하는 경우</strong> <p class="line874">추가 구성이 필요하지 않습니다. Urchin에 프로필을 추가할 때 방문자 추적 방법으로 IP+User-Agent를 지정해야 합니다. <p class="line867"><strong>사례 2: UTM 추적 옵션과 함께 사용하는 경우</strong> <p class="line874">UTM 추적 옵션을 사용하려는 경우 간단한 자바스크립트 추적코드를 웹사이트 페이지에 설치해야 합니다. 방법은 다음과 같습니다. <ul><li><p class="line862">Urchin 폴더 내 util/utm 디렉토리에 있는 urchin.js 및 <tt class="backtick">__</tt>utm.gif 파일을 웹사이트 문서 루트(예: 콘텐츠 최상위 디렉토리)에 복사합니다. </li><li>웹사이트의 각 페이지에서 HEAD 섹션의 META 태그 바로 뒤에 다음 추적코드를 추가합니다. </li></ul><p class="line867"><pre>&lt;script src="/urchin.js" type="text/javascript"&gt;
&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  _userv=0;
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Urchin에 프로필을 추가할 때 방문자 추적 방법으로 UTM(Urchin Traffic Monitor)을 지정해야 합니다. </li></ul><p class="line867"><strong>사례 3: Google 웹로그 분석과 함께 사용하는 경우</strong> <p class="line874">Google 웹로그 분석의 새로운 추적 기능인 'ga.js' 추적코드는 Urchin 6과 호환되지 않습니다. Urchin 소프트웨어와 Google 웹로그 분석을 동시에 사용하여 웹사이트를 추적하려면 urchin.js 기반 추적코드를 사용하는 것이 가장 좋습니다. ga.js를 사용할 경우에는 새로운 ga.js 추적 기능을 사용할 수 없습니다. <p class="line874">이미 Google 웹로그 분석 추적 기능을 사용하는 웹사이트에서 Urchin을 사용하려면 기존의 Google 웹로그 분석 추적코드를 약간 수정해야 합니다. 방법은 다음과 같습니다. <ul><li><p class="line862">Urchin 폴더 내 util/utm 디렉토리에 있는 <tt class="backtick">__</tt>utm.gif 파일을 웹사이트 콘텐츠의 최상위 디렉토리 등의 웹사이트 문서 루트에 복사합니다. </li><li><p class="line862">웹사이트 페이지의 기존 추적 코드에 <tt>_userv=2;</tt> 행을 아래와 같이 추가합니다. 추적코드의 다른 부분은 수정하지 마십시오. </li></ul><p class="line867"><pre>&lt;script src="http://www.google-analytics.com/urchin.js"
type="text/javascript"&gt;
&lt;script type="text/javascript"&gt;
  _userv=2;
  _uacct="UA-XXXXXXX-Y";
  urchinTracker();
&lt;/script&gt;
</pre><ul><li>Urchin에 프로필을 추가할 때 방문자 추적 방법으로 UTM(Urchin Traffic Monitor)을 지정해야 합니다. </li></ul></div><div id="pagebottom"></div>
</div>


<div id="footer" style="clear: both; margin: 0; padding: 0; border-bottom:1px solid #CCC;"></div><div id="copyright" style="font-size: 70%; text-align: center;">&copy;2010 Google</div>
</body></html>