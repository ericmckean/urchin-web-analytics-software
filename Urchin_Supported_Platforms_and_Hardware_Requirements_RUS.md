## Please edit system and help pages ONLY in the moinmaster wiki! For more
## information, please see MoinMaster:MoinPagesEditorGroup.
##acl MoinPagesEditorGroup:read,write,delete,revert All:read
##master-page:HelpTemplate
##master-date:Unknown-Date
#format wiki
#language en

'''Urchin: поддерживаемые платформы и требования к аппаратному обеспечению'''

Urchin работает во многих операционных системах и на многих платформах. Urchin необходимо установить только в той системе, которая будет заниматься обработкой журналов. Просматривать отчеты можно в обычном веб-браузере.

'''Поддерживаемые платформы'''

Windows

  * Windows 2003 Server
  * Windows XP
  * Windows 2000
  * Windows Vista
  * Windows 2008 Server

UNIX-подобные системы

  * Linux (ядро 2.6) – общая версия для большинства используемых вариантов
  * Linux (ядро 2.4) – общая версия для большинства используемых вариантов
  * FreeBSD 4 (не поддерживается для Urchin 6.5+)
  * FreeBSD 5.3+ (не поддерживается для Urchin 6.602+)
  * FreeBSD 6.2+

Поддерживаемые базы данных

  * MySQL 4.1+ (не поддерживается для Urchin 6.6+)
  * MySQL 5.03+
  * PostgreSQL 8.2.5

Поддерживаемые браузеры

  * Internet Explorer 6.x, 7.x
  * Firefox 2.x, 3.x
  * Chrome 1.x, 2.x


Примечание о неявно поддерживаемых платформах

Если для вашей платформы не существует отдельного дистрибутива Urchin, можно использовать дистрибутив Urchin, совместимый с вашей ОС.

  * Windows 98, Windows 3.x:

> Urchin невозможно установить в ОС Windows 98 и 3.x, но эти платформы можно использовать для просмотра отчетов в Internet Explorer (версий не ранее 5.x).

  * Linux:

> Существует много версий Linux, и не для всех из них есть отдельные дистрибутивы Urchin. Однако большинство версий Linux совместимы друг с другом, поэтому с высокой степенью вероятности один из доступных дистрибутивов Urchin можно использовать в вашей системе. Вот несколько известных совместимых дистрибутивов:

  * Ubuntu (ядро 2.6)

  * Red``Hat Enterprise Linux 2 и более поздние версии

  * SuSE Linux 8 и более поздние версии

  * Trustix 2 и более поздние версии


  * Solaris:

> Solaris в настоящее время не поддерживается.


'''Urchin 6: требования к системе'''

Характеристики производительности Urchin таковы, что это ПО требует минимального аппаратного обеспечения. Например, компьютер Pentium II не позволяет обеспечить достаточно быструю работу обычных приложений, однако его можно использовать в качестве сервера Urchin. Для максимальной производительности Urchin необходимо следующее аппаратное обеспечение:


Веб-аналитика для одного сайта малого или среднего размера


  * Процессор с тактовой частотой не менее 2 ГГц.
  * 2 ГБ ОЗУ.
  * Не менее 250 ГБ на жестком диске с интерфейсом IDE.
  * Интерфейс Ethernet 100 Мбит/с.


Установка для поставщика услуг / корпоративная установка

  * Pentium dual-core 2,5 ГГц / UltraSPARC 2 ГГц / процессор PPC/MIPS/и т. д. аналогичной скорости.
  * 3 ГБ ОЗУ.
  * Жесткий диск Ultra2/Wide SCSI (например, Seagate Cheetah).
  * Ethernet 100base-T.
  * Резервная система.

Использование памяти/системы/диска

  * Использование памяти (ОЗУ) в Urchin можно настроить на уровне 20–500 МБ (20–1024 МБ для Urchin 6.5).
  * Urchin может работать при низком, обычном и высоком приоритете.
  * Хранилище данных Urchin будет использовать примерно 10% размера исходных журналов.

Важное примечание для пользователей FreeBSD

'''(1)'''
В FreeBSD задан фиксированный предел объема данных процесса, равный 500 МБ. Этого предела недостаточно для Urchin, поскольку во время обработки журналов в памяти должны быть представлены географические данные. В результате превышения предела появляется следующее сообщение об ошибке во время выполнения программы:

```
ERROR: (8011-323-1057) Failed to allocate memory (Не удалось выделить память).
```


Чтобы устранить эту ошибку, необходимо увеличить объем данных процесса по умолчанию в системе FreeBSD. Для этого добавьте в файл /boot/loader.conf следующие строки:
```
# Увеличение максимального размера сегмента данных процесса до 1 ГБ
kern.maxdsiz="1073741824"
```
Затем необходимо перезагрузить компьютер.

ВНИМАНИЕ!!! Будьте очень осторожны при изменении подобных системных предельных значений. При установке слишком большого значения kern.maxdsiz есть вероятность того, что вам не удастся загрузить систему. Мы настоятельно рекомендуем ознакомиться с документаций FreeBSD перед внесением этого изменения и оценить потенциальный риск в отношении конфигурации вашего сайта.

'''(2)'''
В FreeBSD есть специальный драйвер accf\_http. Он используется для буферизации входящих соединений до момента получения полных HTTP-запросов. Это позволяет повысить скорость работы и производительность системы. По умолчанию этот драйвер не загружается в ядро, и вы увидите следующее предупреждение:

```
[внимание] (2)Файл или каталог отсутствует: не удалось включить
входящий фильтр ‘httpready’
```

Чтобы избежать этой ошибки, необходимо включить модуль ядра FreeBSD для входящего фильтра HTTP (accf\_http). Для этого добавьте в файл /boot/loader.conf следующие строки:

```
# Ожидание полного входящего фильтра HTTP-запроса
accf_http_load="YES"
```

Затем необходимо перезагрузить компьютер.

'''Версия библиотеки Linux glibc'''

Чтобы установить PostgreSQL 8.4.01, который поставляется вместе с Urchin 6.602, в Linux (ядро 2.4 или 2.6), необходимо наличие glibc 2.3.3+.