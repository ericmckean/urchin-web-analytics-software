## Please edit system and help pages ONLY in the moinmaster wiki! For more
## information, please see MoinMaster:MoinPagesEditorGroup.
##acl MoinPagesEditorGroup:read,write,delete,revert All:read
##master-page:HelpTemplate
##master-date:Unknown-Date
#format wiki
#language en
'''Управление журналами'''


'''Обзор'''

Управление журналами – важный момент при работе с таким программным обеспечением, как Urchin. Поскольку файлы журналов популярных сайтов довольно быстро увеличиваются в объеме (вплоть до нескольких гигабайтов за месяц), к управлению журналами необходимо отнестись со всей ответственностью. Мы рекомендуем установить четкую схему ротации журналов. Обычно такая схема включает в себя сжатие и другие способы архивации файлов в автономном режиме. Более подробную информацию о настройке этой процедуры можно найти в статье ["Оптимальные методы ротации журналов"]. Управление журналами необходимо исключительно для рационального использования дисковых ресурсов, а не для исключения проблем с повторной обработкой данных. Повторную запись данных в Urchin предотвращает функция отслеживания журналов, которая обеспечивает запрет на повторную обработку уже прочитанных данных журнала. Поскольку Urchin никогда не осуществляет повторное чтение файла журнала после обработки информации, по желанию можно удалять журналы после их первичной обработки. Однако зачастую владельцы сайтов сохраняют старые журналы в течение определенного времени; это необходимо для сохранения истории посещений и бухгалтерских нужд.


'''Управление журналами через Urchin'''

Для каждого источника журналов можно использовать параметр "Дальнейшие действия с журналом" со следующими вариантами значений: "Сохранить неизменным", "Архивировать/сжать" и "Удалить". Чтобы задать значение для этого параметра, выберите "Конфигурация" -> "Профили Urchin" -> "Диспетчер журналов" -> "Изменить" (рядом с любым профилем) -> вкладка "Расширенные настройки". Как только все профили, использующие определенный источник журналов, закончат обработку данных, Urchin определяет будущее местоположение источника журналов согласно значению параметра "Дальнейшие действия с журналом". Просмотреть и изменить значение этого параметра можно на вкладке "Расширенные настройки" для соответствующего источника журналов. Для хранения журналов на протяжении некоторого времени мы рекомендуем использовать вариант "Архивировать/сжать". При этом журналы будут занимать меньше места на диске. Чтобы журналы удалялись сразу после обработки, установите значение "Удалить". Однако необходимо помнить, что при выборе этого варианта вы не сможете в будущем повторно запустить Urchin для этого журнала, если у вас не осталось других резервных копий журнала.


'''Примечания'''

Необходимо отметить следующее:

  * Не используйте варианты "Архивировать" и "Удалить" для источника журналов, если вы обрабатываете данные из текущих журналов. Текущий журнал – это тот журнал, который в данный момент используется для записи данных веб-сервером. Использование этих вариантов для текущего журнала приведет к потере данных.
  * Если в настройках параметра "Дальнейшие действия с журналом" для удаленно извлекаемого источника журналов выбран вариант "Сохранить неизменным", этот журнал будет постоянно пополняться при отсутствии на устройстве, где был создан журнал, процесса для управления журналами, отличного от Urchin. Поскольку ПО Urchin должно передавать копию удаленного файла журнала в локальную систему перед обработкой, то чем больше файл журнала, тем дольше Urchin передает файл. Это, в свою очередь, приводит к увеличению времени работы Urchin.