## Please edit system and help pages ONLY in the moinmaster wiki! For more
## information, please see MoinMaster:MoinPagesEditorGroup.
##acl MoinPagesEditorGroup:read,write,delete,revert All:read
##master-page:HelpTemplate
##master-date:Unknown-Date
#format wiki
#language en

'''Использование UTM на сайте электронной торговли'''

'''Обзор'''

UTM служит, главным образом, для определения и анализа активности посетителей, в результате которой вы получаете доход. Можно отслеживать такую активность сразу по всем своим сайтам и создавать о ней общие отчеты. Программа позволяет сопоставлять транзакции на сервере, на котором размещается ПО для оформления покупок, и сеансы посетителей на другом веб-сервере. В результате можно оценивать доход, получаемый от связанных с сеансом переменных, таких как переходы и ключевые слова. UTM позволяет отслеживать несколько сеансов активности посетителя на всех этапах – от источника до покупки или цели. В отчетах по коэффициентам конверсий и рентабельности инвестиций приводятся подробные результаты маркетинговой интернет-деятельности, будь то покупка ключевых слов, электронная рассылка или обмен ссылками.


'''Конфигурация для одного домена'''

Если сайт, на котором осуществляется взаимодействие с пользователями, и защищенный сайт электронной торговли используют общий домен, установка UTM на сайте электронной торговли проходит в обычном режиме. Особые инструкции по установке UTM приведены в других частях этого раздела. Обращайте особое внимание на описание настройки домена UTM для вашего сайта электронной торговли и сайтов других типов. Подробнее о форматах журналов транзакций электронной торговли читайте в соответствующем разделе настоящей документации.


'''Конфигурация для нескольких доменов'''

Все чаще и чаще интернет-магазины заказывают услугу по обработке платежей у сторонних компаний, таких как Amazon, PayPal или Yahoo Stores. При этом могут возникнуть проблемы с отслеживанием UTM, так как домен UTM меняется, когда посетитель переходит с основного веб-сайта на защищенную страницу магазина. Чтобы идентификатор посетителя UTM на обоих сайтах был одинаковым, его нужно передавать в ссылке на магазин.
В UTM есть функция utmLinker, добавляющая соответствующий идентификатор в текст ссылки перед ее отправкой на сервер магазина. Лучше не использовать прямую ссылку на магазин, а просто передать ее в функцию utmLinker. Для этого выполните следующие действия:

  1. Измените файл urchin.js в корневом каталоге документов обоих веб-сайтов; затем задайте переменной _ulink значение 1, а переменной_udn — значение "none".
> 2. В используемом профиле очистите поле домена UTM.
> 3. Измените ссылки перехода с основного сайта на защищенный следующим образом:
```
   <a href='javascript:__utmLinker("https://previous_link?with_parameters");'>
   ssylka-na-korzinu-pokupok</a>
```