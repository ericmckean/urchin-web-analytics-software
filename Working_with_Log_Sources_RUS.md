## Please edit system and help pages ONLY in the moinmaster wiki! For more
## information, please see MoinMaster:MoinPagesEditorGroup.
##acl MoinPagesEditorGroup:read,write,delete,revert All:read
##master-page:HelpTemplate
##master-date:Unknown-Date
#format wiki
#language en
'''Работа с источниками журналов'''

'''Обзор'''

Обычно источник журналов добавляется при создании профиля. С его помощью Urchin определяет характеристики журнала доступа (который иногда называется журналом передачи данных) для одного из ваших веб-сайтов. В журналах доступа хранится информация обо всех переходах (запросах веб-документов) на веб-сайт. Среди свойств файла журнала, связанных с источником журналов, можно выделить следующие: путь к журналу, формат файла (например, W3C или NCSA), расположение журнала (локальная или удаленная система), а также необходимость применения фильтра во время обработки.

Важно учитывать, что источники журналов не зависят от профилей. Отчеты можно создавать только для профилей, связанных хотя бы с одним источником журналов. Один источник журналов может использоваться сразу несколькими профилями. Например, чтобы создавать отчеты с разными результатами, можно назначить индивидуальный фильтр каждому из профилей, связанных с одним и тем же источником журналов. Соответственно, количество профилей и источников журналов может не совпадать.

'''Настройка источников журналов'''

Чтобы добавить источник журналов в систему, войдите в Urchin в качестве администратора и нажмите кнопку "Конфигурация" в левой части окна. Затем выберите "Диспетчер журналов". Чтобы создать источник журналов, нажмите кнопку "Добавить" в правом верхнем углу окна. Откроется мастер, который поможет быстро создать источник журналов. Каждое окно мастера содержит подробную информацию об отображаемых параметрах.

В окне "Настройки журнала" необходимо выбрать формат журнала в поле "Формат журнала". По этому параметру система Urchin определяет структуру данных в журнале. Если выбрать неверный формат, данные в отчетах Urchin будут повреждены. В раскрывающемся списке представлены форматы журналов, поддерживаемые Urchin по умолчанию. Ниже приводится их описание:

  * "Автоматический": если выбрать данный вариант, Urchin будет автоматически распознавать форматы журналов NCSA, W3C, Netscape, ELF и ELF2. Другими словами, система Urchin будет определять подходящий метод чтения журнала, если он сохранен в одном из указанных здесь форматов.
  * NCSA: расширенный комбинированный формат Apache (описание см. в разделе "Ведение журналов – Apache и IIS").
  * W3C: обычно этот формат используется системами Microsoft IIS, но журналы в формате W3C могут создаваться и другими веб-серверами.
  * Netscape: этот формат по умолчанию используется веб-серверами Netscape и iPlanet.
  * ELF/ELF2: формат журнала для систем электронной торговли.
  * Google: используется для журналов, содержащих данные системы Google о цене за клик. Обратите внимание, что формат журнала Google не определяется автоматически.
  * Overture: используется для журналов, содержащих данные системы Overture о цене за клик. Обратите внимание, что этот формат журнала не определяется автоматически.
  * "Пользовательский": выбрав этот вариант, можно задавать собственные форматы журналов, которые при правильной настройке будут указываться в списке наряду с другими значениями.


Если в настоящее время ваш веб-сервер создает журналы в другом формате, выберите в его настройках один из поддерживаемых форматов либо добавьте в список формат, соответствующий структуре журналов сервера. При перенастройке системы ведения журналов веб-сервера рекомендуется выбирать формат W3C или NCSA.

'''Балансировка нагрузки и параллельная обработка журналов'''

Производительности одного веб-сервера может не хватить для веб-сайтов с интенсивным трафиком. Балансировка нагрузки позволяет распределять трафик между несколькими параллельно работающими веб-серверами. Такая группа серверов называется кластером. В таком случае активность каждого веб-сайта регистрируется в любом из доступных параллельных журналов.
В мастере создания профилей есть параметр "Параллельная обработка журналов". Если эта функция включена, Urchin открывает сразу все файлы журналов, поочередно обрабатывая каждый фрагмент (данные о 15 минутах активности). Параллельная обработка журналов значительно повышает производительность сайтов с балансировкой нагрузки.